import{a as V,d as X,j as ee}from"./chunk-GJCS4T2F.js";import{c as Q}from"./chunk-5IYRA7OA.js";import{$ as u,I as H,Ka as k,L as D,O as y,P as _,U as z,Y as J,Z as C,_ as p,a as F,aa as K,b as $,ca as Z,j as E,jc as x,k as j,l as N,la as O,m as S,o as R,qa as Y,ua as P,x as B,xc as q,z as G}from"./chunk-5QLRW66F.js";import{a as f}from"./chunk-BCTFMU5Z.js";var oe="firebase",ae="11.10.0";f.registerVersion(oe,ae,"app-compat");var le=["ngOnDestroy"],te=(e,l,n,o={})=>new Proxy(e,{get:(c,t)=>n.runOutsideAngular(()=>{if(e[t])return o?.spy?.get&&o.spy.get(t,e[t]),e[t];if(le.indexOf(t)>-1)return()=>{};let i=l.toPromise().then(r=>{let a=r?.[t];return typeof a=="function"?a.bind(r):a?.then?a.then(g=>n.run(()=>g)):n.run(()=>a)});return new Proxy(()=>{},{get:(r,a)=>i[a],apply:(r,a,g)=>i.then(A=>{let w=A?.(...g);return o?.spy?.apply&&o.spy.apply(t,g,w),w})})})});var v=class{constructor(l){return l}},T=new p("angularfire2.app.options"),b=new p("angularfire2.app.name");function W(e,l,n){let o=typeof n=="string"&&n||"[DEFAULT]",c=typeof n=="object"&&n||{};c.name=c.name||o;let i=f.apps.filter(r=>r&&r.name===c.name)[0]||l.runOutsideAngular(()=>f.initializeApp(e,c));try{if(JSON.stringify(e)!==JSON.stringify(i.options)){let r=!!module.hot;ue("error",`${i.name} Firebase App already initialized with different options${r?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new v(i)}var ue=(e,...l)=>{x()&&typeof console<"u"&&console[e](...l)},ce={provide:v,useFactory:W,deps:[T,O,[new Y,b]]},be=(()=>{class e{static initializeApp(n,o){return{ngModule:e,providers:[{provide:T,useValue:n},{provide:b,useValue:o}]}}constructor(n){f.registerVersion("angularfire",V.full,"core"),f.registerVersion("angularfire",V.full,"app-compat"),f.registerVersion("angular",z.full,n.toString())}static \u0275fac=function(o){return new(o||e)(u(P))};static \u0275mod=k({type:e});static \u0275inj=C({providers:[ce]})}return e})();function ie(e,l,n,o,c){let[,t,i]=globalThis.\u0275AngularfireInstanceCache.find(r=>r[0]===e)||[];if(t)return pe(c,i)||(ne("error",`${l} was already initialized on the ${n} Firebase App with different settings.${fe?" You may need to reload as Firebase is not HMR aware.":""}`),ne("warn",{is:c,was:i})),t;{let r=o();return globalThis.\u0275AngularfireInstanceCache.push([e,r,c]),r}}function pe(e,l){try{return e.toString()===l.toString()}catch{return e===l}}var fe=typeof module<"u"&&!!module.hot,ne=(e,...l)=>{x()&&typeof console<"u"&&console[e](...l)};globalThis.\u0275AngularfireInstanceCache||=[];var de=new p("angularfire2.auth.use-emulator"),ge=new p("angularfire2.auth.settings"),he=new p("angularfire2.auth.tenant-id"),me=new p("angularfire2.auth.langugage-code"),ye=new p("angularfire2.auth.use-device-language"),Ae=new p("angularfire.auth.persistence"),Ie=(e,l,n,o,c,t,i,r)=>ie(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{let a=l.runOutsideAngular(()=>e.auth());if(n&&a.useEmulator(...n),o&&(a.tenantId=o),a.languageCode=c,t&&a.useDeviceLanguage(),i)for(let[g,A]of Object.entries(i))a.settings[g]=A;return r&&a.setPersistence(r),a},[n,o,c,t,i,r]),ze=(()=>{class e{injector=K(Z);authState;idToken;user;idTokenResult;credential;constructor(n,o,c,t,i,r,a,g,A,w,re,Ee){let U=new $,I=S(void 0).pipe(E(i.outsideAngular),y(()=>t.runOutsideAngular(()=>import("./chunk-CPAIFPLP.js"))),R(()=>W(n,t,o)),R(h=>Ie(h,t,r,g,A,w,a,re)),D({bufferSize:1,refCount:!1}));if(q(c))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=S(null);else{I.pipe(H()).subscribe();let h=I.pipe(y(s=>s.getRedirectResult().then(d=>d,()=>null)),Q(this.injector),D({bufferSize:1,refCount:!1})),L=I.pipe(y(s=>new F(d=>({unsubscribe:t.runOutsideAngular(()=>s.onAuthStateChanged(m=>d.next(m),m=>d.error(m),()=>d.complete()))})))),M=I.pipe(y(s=>new F(d=>({unsubscribe:t.runOutsideAngular(()=>s.onIdTokenChanged(m=>d.next(m),m=>d.error(m),()=>d.complete()))}))));this.authState=h.pipe(_(L),j(i.outsideAngular),E(i.insideAngular)),this.user=h.pipe(_(M),j(i.outsideAngular),E(i.insideAngular)),this.idToken=this.user.pipe(y(s=>s?N(s.getIdToken()):S(null))),this.idTokenResult=this.user.pipe(y(s=>s?N(s.getIdTokenResult()):S(null))),this.credential=B(h,U,this.authState.pipe(G(s=>!s))).pipe(R(s=>s?.user?s:null),j(i.outsideAngular),E(i.insideAngular))}return te(this,I,t,{spy:{apply:(h,L,M)=>{(h.startsWith("signIn")||h.startsWith("createUser"))&&M.then(s=>U.next(s))}}})}static \u0275fac=function(o){return new(o||e)(u(T),u(b,8),u(P),u(O),u(X),u(de,8),u(ge,8),u(he,8),u(me,8),u(ye,8),u(Ae,8),u(ee,8))};static \u0275prov=J({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})();export{te as a,T as b,b as c,W as d,be as e,ie as f,ze as g};
