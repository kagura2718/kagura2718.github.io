"use strict";(self.webpackChunkKaguraGithubPages=self.webpackChunkKaguraGithubPages||[]).push([[251],{4939:(it,Ee,k)=>{k.d(Ee,{$:()=>ct,A:()=>S,G:()=>ie,K:()=>Tn,L:()=>kt,N:()=>rt,P:()=>Zo,R:()=>Bo,U:()=>D,V:()=>dn,W:()=>y,X:()=>v,Y:()=>P,Z:()=>h,_:()=>Ue,a:()=>ei,a0:()=>Ps,a1:()=>Fn,a2:()=>Ki,a3:()=>Ji,a4:()=>Ns,a5:()=>ks,a6:()=>xs,a7:()=>Ls,a8:()=>qi,a9:()=>Ms,aA:()=>Jt,aB:()=>he,aC:()=>E,aD:()=>hs,aE:()=>p,aF:()=>F,aG:()=>wi,aH:()=>cs,aI:()=>na,aJ:()=>Me,aN:()=>fn,aQ:()=>ce,aa:()=>Us,ab:()=>Fs,ac:()=>Bs,ad:()=>Vs,ae:()=>Ws,af:()=>zs,ag:()=>Hs,ah:()=>Zs,ak:()=>Gs,al:()=>Ks,am:()=>Js,ap:()=>Rs,aq:()=>to,as:()=>io,at:()=>uo,au:()=>Z,av:()=>Ut,aw:()=>nt,ax:()=>ee,ay:()=>Ni,az:()=>ms,b:()=>es,c:()=>qo,d:()=>Xo,e:()=>Yo,f:()=>ra,g:()=>aa,h:()=>sa,i:()=>ss,j:()=>ua,k:()=>vs,l:()=>$o,m:()=>Ba,p:()=>se,r:()=>zo,s:()=>Wo,u:()=>Ho});var m=k(5861),w=k(8963),g=k(4811),X=k(7879),pe=k(7582),Oe=k(386);const se={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},S={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ie=function x(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Ae=function j(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},de=new w.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),L=new X.Yd("@firebase/auth");function ne(n,...e){L.logLevel<=X.in.ERROR&&L.error(`Auth (${g.Jn}): ${n}`,...e)}function ee(n,...e){throw $(n,...e)}function he(n,...e){return $(n,...e)}function ye(n,e,t){const r=Object.assign(Object.assign({},Ae()),{[e]:t});return new w.LL("auth","Firebase",r).create(e,{appName:n.name})}function _e(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&ee(n,"argument-error"),ye(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return de.create(n,...e)}function E(n,e,...t){if(!n)throw $(e,...t)}function N(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ne(e),new Error(e)}function Z(n,e){n||N(e)}function ae(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function oe(){return"http:"===xe()||"https:"===xe()}function xe(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class B{constructor(e,t){this.shortDelay=e,this.longDelay=t,Z(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,w.uI)()||(0,w.b$)()}get(){return function ge(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(oe()||(0,w.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function K(n,e){Z(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class z{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void N("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void N("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void N("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},le=new B(3e4,6e4);function J(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function H(n,e,t,r){return Le.apply(this,arguments)}function Le(){return(Le=(0,m.Z)(function*(n,e,t,r,o={}){return Ge(n,o,(0,m.Z)(function*(){let d={},I={};r&&("GET"===e?I=r:d={body:JSON.stringify(r)});const T=(0,w.xO)(Object.assign({key:n.config.apiKey},I)).slice(1),R=yield n._getAdditionalHeaders();return R["Content-Type"]="application/json",n.languageCode&&(R["X-Firebase-Locale"]=n.languageCode),z.fetch()(ke(n,n.config.apiHost,t,T),Object.assign({method:e,headers:R,referrerPolicy:"no-referrer"},d))}))})).apply(this,arguments)}function Ge(n,e,t){return st.apply(this,arguments)}function st(){return(st=(0,m.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},ue),e);try{const o=new pt(n),d=yield Promise.race([t(),o.promise]);o.clearNetworkTimeout();const I=yield d.json();if("needConfirmation"in I)throw Te(n,"account-exists-with-different-credential",I);if(d.ok&&!("errorMessage"in I))return I;{const T=d.ok?I.errorMessage:I.error.message,[R,G]=T.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===R)throw Te(n,"credential-already-in-use",I);if("EMAIL_EXISTS"===R)throw Te(n,"email-already-in-use",I);if("USER_DISABLED"===R)throw Te(n,"user-disabled",I);const Y=r[R]||R.toLowerCase().replace(/[_\s]+/g,"-");if(G)throw ye(n,Y,G);ee(n,Y)}}catch(o){if(o instanceof w.ZR)throw o;ee(n,"network-request-failed",{message:String(o)})}})).apply(this,arguments)}function Re(n,e,t,r){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,m.Z)(function*(n,e,t,r,o={}){const d=yield H(n,e,t,r,o);return"mfaPendingCredential"in d&&ee(n,"multi-factor-auth-required",{_serverResponse:d}),d})).apply(this,arguments)}function ke(n,e,t,r){const o=`${e}${t}?${r}`;return n.config.emulator?K(n.config,o):`${n.config.apiScheme}://${o}`}function Fe(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pt{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(he(this.auth,"network-request-failed")),le.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Te(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=he(n,e,r);return o.customData._tokenResponse=t,o}function ze(n){return void 0!==n&&void 0!==n.getResponse}function Ze(n){return void 0!==n&&void 0!==n.enterprise}class gt{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Fe(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function lt(){return(lt=(0,m.Z)(function*(n){return(yield H(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ot(n,e){return qe.apply(this,arguments)}function qe(){return(qe=(0,m.Z)(function*(n,e){return H(n,"GET","/v2/recaptchaConfig",J(n,e))})).apply(this,arguments)}function Be(){return(Be=(0,m.Z)(function*(n,e){return H(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Xe(){return(Xe=(0,m.Z)(function*(n,e){return H(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function at(){return(at=(0,m.Z)(function*(n,e){return H(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Qe(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function je(){return(je=(0,m.Z)(function*(n,e=!1){const t=(0,w.m9)(n),r=yield t.getIdToken(e),o=Je(r);E(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const d="object"==typeof o.firebase?o.firebase:void 0,I=d?.sign_in_provider;return{claims:o,token:r,authTime:Qe(Ve(o.auth_time)),issuedAtTime:Qe(Ve(o.iat)),expirationTime:Qe(Ve(o.exp)),signInProvider:I||null,signInSecondFactor:d?.sign_in_second_factor||null}})).apply(this,arguments)}function Ve(n){return 1e3*Number(n)}function Je(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return ne("JWT malformed, contained fewer than 3 sections"),null;try{const o=(0,w.tV)(t);return o?JSON.parse(o):(ne("Failed to decode base64 JWT payload"),null)}catch(o){return ne("Caught error parsing JWT payload as JSON",o?.toString()),null}}function et(n,e){return It.apply(this,arguments)}function It(){return(It=(0,m.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof w.ZR&&function Ct({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class We{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const o=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,m.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,m.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class _t{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qe(this.lastLoginAt),this.creationTime=Qe(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function tt(n){return V.apply(this,arguments)}function V(){return V=(0,m.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),o=yield et(n,function At(n,e){return at.apply(this,arguments)}(t,{idToken:r}));E(o?.users.length,t,"internal-error");const d=o.users[0];n._notifyReloadListener(d);const I=null!==(e=d.providerUserInfo)&&void 0!==e&&e.length?function Ie(n){return n.map(e=>{var{providerId:t}=e,r=(0,pe.__rest)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(d.providerUserInfo):[],T=function Q(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}(n.providerData,I),Y=!!n.isAnonymous&&!(n.email&&d.passwordHash||T?.length),me={uid:d.localId,displayName:d.displayName||null,photoURL:d.photoUrl||null,email:d.email||null,emailVerified:d.emailVerified||!1,phoneNumber:d.phoneNumber||null,tenantId:d.tenantId||null,providerData:T,metadata:new _t(d.createdAt,d.lastLoginAt),isAnonymous:Y};Object.assign(n,me)}),V.apply(this,arguments)}function U(){return(U=(0,m.Z)(function*(n){const e=(0,w.m9)(n);yield tt(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function De(){return(De=(0,m.Z)(function*(n,e){const t=yield Ge(n,{},(0,m.Z)(function*(){const r=(0,w.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:d}=n.config,I=ke(n,o,"/v1/token",`key=${d}`),T=yield n._getAdditionalHeaders();return T["Content-Type"]="application/x-www-form-urlencoded",z.fetch()(I,{method:"POST",headers:T,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function i(){return(i=(0,m.Z)(function*(n,e){return H(n,"POST","/v2/accounts:revokeToken",J(n,e))})).apply(this,arguments)}class u{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){E(e.idToken,"internal-error"),E(typeof e.idToken<"u","internal-error"),E(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function yt(n){const e=Je(n);return E(e,"internal-error"),E(typeof e.exp<"u","internal-error"),E(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,m.Z)(function*(){return E(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,m.Z)(function*(){const{accessToken:o,refreshToken:d,expiresIn:I}=yield function Se(n,e){return De.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(o,d,Number(I))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:d}=t,I=new u;return r&&(E("string"==typeof r,"internal-error",{appName:e}),I.refreshToken=r),o&&(E("string"==typeof o,"internal-error",{appName:e}),I.accessToken=o),d&&(E("number"==typeof d,"internal-error",{appName:e}),I.expirationTime=d),I}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new u,this.toJSON())}_performRefresh(){return N("not implemented")}}function _(n,e){E("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class a{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,d=(0,pe.__rest)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new We(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=d.displayName||null,this.email=d.email||null,this.emailVerified=d.emailVerified||!1,this.phoneNumber=d.phoneNumber||null,this.photoURL=d.photoURL||null,this.isAnonymous=d.isAnonymous||!1,this.tenantId=d.tenantId||null,this.providerData=d.providerData?[...d.providerData]:[],this.metadata=new _t(d.createdAt||void 0,d.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,m.Z)(function*(){const r=yield et(t,t.stsTokenManager.getToken(t.auth,e));return E(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function mt(n){return je.apply(this,arguments)}(this,e)}reload(){return function C(n){return U.apply(this,arguments)}(this)}_assign(e){this!==e&&(E(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new a(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){E(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,m.Z)(function*(){let o=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),o=!0),t&&(yield tt(r)),yield r.auth._persistUserIfCurrent(r),o&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,m.Z)(function*(){const t=yield e.getIdToken();return yield et(e,function bt(n,e){return Be.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,d,I,T,R,G,Y;const me=null!==(r=t.displayName)&&void 0!==r?r:void 0,ut=null!==(o=t.email)&&void 0!==o?o:void 0,Mt=null!==(d=t.phoneNumber)&&void 0!==d?d:void 0,Gn=null!==(I=t.photoURL)&&void 0!==I?I:void 0,As=null!==(T=t.tenantId)&&void 0!==T?T:void 0,Ui=null!==(R=t._redirectEventId)&&void 0!==R?R:void 0,Ts=null!==(G=t.createdAt)&&void 0!==G?G:void 0,Ss=null!==(Y=t.lastLoginAt)&&void 0!==Y?Y:void 0,{uid:Fi,emailVerified:ws,isAnonymous:Cs,providerData:Bi,stsTokenManager:Os}=t;E(Fi&&Os,e,"internal-error");const Ga=u.fromJSON(this.name,Os);E("string"==typeof Fi,e,"internal-error"),_(me,e.name),_(ut,e.name),E("boolean"==typeof ws,e,"internal-error"),E("boolean"==typeof Cs,e,"internal-error"),_(Mt,e.name),_(Gn,e.name),_(As,e.name),_(Ui,e.name),_(Ts,e.name),_(Ss,e.name);const Vi=new a({uid:Fi,auth:e,email:ut,emailVerified:ws,displayName:me,isAnonymous:Cs,photoURL:Gn,phoneNumber:Mt,tenantId:As,stsTokenManager:Ga,createdAt:Ts,lastLoginAt:Ss});return Bi&&Array.isArray(Bi)&&(Vi.providerData=Bi.map(Ka=>Object.assign({},Ka))),Ui&&(Vi._redirectEventId=Ui),Vi}static _fromIdTokenResponse(e,t,r=!1){return(0,m.Z)(function*(){const o=new u;o.updateFromServerResponse(t);const d=new a({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return yield tt(d),d})()}}const f=new Map;function p(n){Z(n instanceof Function,"Expected a class definition");let e=f.get(n);return e?(Z(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,f.set(n,e),e)}const D=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(t,r){var o=this;return(0,m.Z)(function*(){o.storage[t]=r})()}_get(t){var r=this;return(0,m.Z)(function*(){const o=r.storage[t];return void 0===o?null:o})()}_remove(t){var r=this;return(0,m.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function F(n,e,t){return`firebase:${n}:${e}:${t}`}class q{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:d}=this.auth;this.fullUserKey=F(this.userKey,o.apiKey,d),this.fullPersistenceKey=F("persistence",o.apiKey,d),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,m.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?a._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,m.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,m.Z)(function*(){if(!t.length)return new q(p(D),e,r);const o=(yield Promise.all(t.map(function(){var G=(0,m.Z)(function*(Y){if(yield Y._isAvailable())return Y});return function(Y){return G.apply(this,arguments)}}()))).filter(G=>G);let d=o[0]||p(D);const I=F(r,e.config.apiKey,e.name);let T=null;for(const G of t)try{const Y=yield G._get(I);if(Y){const me=a._fromJSON(e,Y);G!==d&&(T=me),d=G;break}}catch{}const R=o.filter(G=>G._shouldAllowMigration);return d._shouldAllowMigration&&R.length?(d=R[0],T&&(yield d._set(I,T.toJSON())),yield Promise.all(t.map(function(){var G=(0,m.Z)(function*(Y){if(Y!==d)try{yield Y._remove(I)}catch{}});return function(Y){return G.apply(this,arguments)}}())),new q(d,e,r)):new q(d,e,r)})()}}function M(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ve(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fe(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ot(e))return"Blackberry";if(_n(e))return"Webos";if(Ne(e))return"Safari";if((e.includes("chrome/")||$e(e))&&!e.includes("edge/"))return"Chrome";if(nt(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function fe(n=(0,w.z$)()){return/firefox\//i.test(n)}function Ne(n=(0,w.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $e(n=(0,w.z$)()){return/crios\//i.test(n)}function ve(n=(0,w.z$)()){return/iemobile/i.test(n)}function nt(n=(0,w.z$)()){return/android/i.test(n)}function Ot(n=(0,w.z$)()){return/blackberry/i.test(n)}function _n(n=(0,w.z$)()){return/webos/i.test(n)}function Ut(n=(0,w.z$)()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Jt(n=(0,w.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function gn(n=(0,w.z$)()){return Ut(n)||nt(n)||_n(n)||Ot(n)||/windows phone/i.test(n)||ve(n)}function Ht(n,e=[]){let t;switch(n){case"Browser":t=M((0,w.z$)());break;case"Worker":t=`${M((0,w.z$)())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${g.Jn}/${r}`}class qn{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=d=>new Promise((I,T)=>{try{I(e(d))}catch(R){T(R)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,m.Z)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const o of t.queue)yield o(e),o.onAbort&&r.push(o.onAbort)}catch(o){r.reverse();for(const d of r)try{d()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:o?.message})}})()}}function qt(){return(qt=(0,m.Z)(function*(n,e={}){return H(n,"GET","/v2/passwordPolicy",J(n,e))})).apply(this,arguments)}class Yt{constructor(e){var t,r,o,d;const I=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=I.minPasswordLength)&&void 0!==t?t:6,I.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=I.maxPasswordLength),void 0!==I.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=I.containsLowercaseCharacter),void 0!==I.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=I.containsUppercaseCharacter),void 0!==I.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=I.containsNumericCharacter),void 0!==I.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=I.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(o=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==o?o:"",this.forceUpgradeOnSignin=null!==(d=e.forceUpgradeOnSignin)&&void 0!==d&&d,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,d,I,T;const R={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,R),this.validatePasswordCharacterOptions(e,R),R.isValid&&(R.isValid=null===(t=R.meetsMinPasswordLength)||void 0===t||t),R.isValid&&(R.isValid=null===(r=R.meetsMaxPasswordLength)||void 0===r||r),R.isValid&&(R.isValid=null===(o=R.containsLowercaseLetter)||void 0===o||o),R.isValid&&(R.isValid=null===(d=R.containsUppercaseLetter)||void 0===d||d),R.isValid&&(R.isValid=null===(I=R.containsNumericCharacter)||void 0===I||I),R.isValid&&(R.isValid=null===(T=R.containsNonAlphanumericCharacter)||void 0===T||T),R}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,d){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=d))}}class vn{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yn(this),this.idTokenSubscription=new yn(this),this.beforeStateQueue=new qn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=de,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=p(t)),this._initializationPromise=this.queue((0,m.Z)(function*(){var o,d;if(!r._deleted&&(r.persistenceManager=yield q.create(r,e),!r._deleted)){if(null!==(o=r._popupRedirectResolver)&&void 0!==o&&o._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(d=r.currentUser)||void 0===d?void 0:d.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,m.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,m.Z)(function*(){var r;const o=yield t.assertedPersistence.getCurrentUser();let d=o,I=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const T=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,R=d?._redirectEventId,G=yield t.tryRedirectSignIn(e);(!T||T===R)&&G?.user&&(d=G.user,I=!0)}if(!d)return t.directlySetCurrentUser(null);if(!d._redirectEventId){if(I)try{yield t.beforeStateQueue.runMiddleware(d)}catch(T){d=o,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(T))}return d?t.reloadAndSetCurrentUserOrClear(d):t.directlySetCurrentUser(null)}return E(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===d._redirectEventId?t.directlySetCurrentUser(d):t.reloadAndSetCurrentUserOrClear(d)})()}tryRedirectSignIn(e){var t=this;return(0,m.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,m.Z)(function*(){try{yield tt(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Pe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,m.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,m.Z)(function*(){const r=e?(0,w.m9)(e):null;return r&&E(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,m.Z)(function*(){if(!r._deleted)return e&&E(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,m.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,m.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,m.Z)(function*(){yield t.assertedPersistence.setPersistence(p(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return(0,m.Z)(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,m.Z)(function*(){const t=yield function Wi(n){return qt.apply(this,arguments)}(e),r=new Yt(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new w.LL("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return(0,m.Z)(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),o={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(o.tenantId=t.tenantId),yield function c(n,e){return i.apply(this,arguments)}(t,o)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,m.Z)(function*(){const o=yield r.getOrInitRedirectPersistenceManager(t);return null===e?o.removeCurrentUser():o.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,m.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&p(e)||t._popupRedirectResolver;E(r,t,"argument-error"),t.redirectPersistenceManager=yield q.create(t,[p(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,m.Z)(function*(){var r,o;return t._isInitialized&&(yield t.queue((0,m.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(o=t.redirectUser)||void 0===o?void 0:o._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,m.Z)(function*(){if(e===t.currentUser)return t.queue((0,m.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const d="function"==typeof t?t:t.next.bind(t);let I=!1;const T=this._isInitialized?Promise.resolve():this._initializationPromise;if(E(T,this,"internal-error"),T.then(()=>{I||d(this.currentUser)}),"function"==typeof t){const R=e.addObserver(t,r,o);return()=>{I=!0,R()}}{const R=e.addObserver(t);return()=>{I=!0,R()}}}directlySetCurrentUser(e){var t=this;return(0,m.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return E(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ht(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,m.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const o=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();o&&(r["X-Firebase-Client"]=o);const d=yield e._getAppCheckToken();return d&&(r["X-Firebase-AppCheck"]=d),r})()}_getAppCheckToken(){var e=this;return(0,m.Z)(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function re(n,...e){L.logLevel<=X.in.WARN&&L.warn(`Auth (${g.Jn}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Me(n){return(0,w.m9)(n)}class yn{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,w.ne)(t=>this.observer=t)}get next(){return E(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Pt={loadJS:()=>(0,m.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Et(n){return Pt.loadJS(n)}function En(n){return`__${n}${Math.floor(1e6*Math.random())}`}class bn{constructor(e){this.type="recaptcha-enterprise",this.auth=Me(e)}verify(e="verify",t=!1){var r=this;return(0,m.Z)(function*(){function d(){return d=(0,m.Z)(function*(T){if(!t){if(null==T.tenantId&&null!=T._agentRecaptchaConfig)return T._agentRecaptchaConfig.siteKey;if(null!=T.tenantId&&void 0!==T._tenantRecaptchaConfigs[T.tenantId])return T._tenantRecaptchaConfigs[T.tenantId].siteKey}return new Promise(function(){var R=(0,m.Z)(function*(G,Y){ot(T,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(me=>{if(void 0!==me.recaptchaKey){const ut=new gt(me);return null==T.tenantId?T._agentRecaptchaConfig=ut:T._tenantRecaptchaConfigs[T.tenantId]=ut,G(ut.siteKey)}Y(new Error("recaptcha Enterprise site key undefined"))}).catch(me=>{Y(me)})});return function(G,Y){return R.apply(this,arguments)}}())}),d.apply(this,arguments)}function I(T,R,G){const Y=window.grecaptcha;Ze(Y)?Y.enterprise.ready(()=>{Y.enterprise.execute(T,{action:e}).then(me=>{R(me)}).catch(()=>{R("NO_RECAPTCHA")})}):G(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((T,R)=>{(function o(T){return d.apply(this,arguments)})(r.auth).then(G=>{if(!t&&Ze(window.grecaptcha))I(G,T,R);else{if(typeof window>"u")return void R(new Error("RecaptchaVerifier is only supported in browser"));let Y=function Qn(){return Pt.recaptchaEnterpriseScript}();0!==Y.length&&(Y+=G),Et(Y).then(()=>{I(G,T,R)}).catch(me=>{R(me)})}}).catch(G=>{R(G)})})})()}}function An(n,e,t){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,m.Z)(function*(n,e,t,r=!1){const o=new bn(n);let d;try{d=yield o.verify(t)}catch{d=yield o.verify(t,!0)}const I=Object.assign({},e);return Object.assign(I,r?{captchaResp:d}:{captchaResponse:d}),Object.assign(I,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(I,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),I})).apply(this,arguments)}function Ft(n,e,t,r){return Qt.apply(this,arguments)}function Qt(){return Qt=(0,m.Z)(function*(n,e,t,r){var o;if(null!==(o=n._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=yield An(n,e,t,"getOobCode"===t);return r(n,d)}return r(n,e).catch(function(){var d=(0,m.Z)(function*(I){if("auth/missing-recaptcha-token"===I.code){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const T=yield An(n,e,t,"getOobCode"===t);return r(n,T)}return Promise.reject(I)});return function(I){return d.apply(this,arguments)}}())}),Qt.apply(this,arguments)}function Tn(n,e,t){const r=Me(n);E(r._canInitEmulator,r,"emulator-config-failed"),E(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!!t?.disableWarnings,d=Sn(e),{host:I,port:T}=function or(n){const e=Sn(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const d=o[1];return{host:d,port:wn(r.substr(d.length+1))}}{const[d,I]=r.split(":");return{host:d,port:wn(I)}}}(e);r.config.emulator={url:`${d}//${I}${null===T?"":`:${T}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:I,port:T,protocol:d.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||function ar(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}function Sn(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function wn(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class kt{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return N("not implemented")}_getIdTokenResponse(e){return N("not implemented")}_linkToIdToken(e,t){return N("not implemented")}_getReauthenticationResolver(e){return N("not implemented")}}function Cn(n,e){return tn.apply(this,arguments)}function tn(){return(tn=(0,m.Z)(function*(n,e){return H(n,"POST","/v1/accounts:resetPassword",J(n,e))})).apply(this,arguments)}function nn(){return(nn=(0,m.Z)(function*(n,e){return H(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Zt(n,e){return rn.apply(this,arguments)}function rn(){return(rn=(0,m.Z)(function*(n,e){return H(n,"POST","/v1/accounts:signUp",e)})).apply(this,arguments)}function xt(){return(xt=(0,m.Z)(function*(n,e){return H(n,"POST","/v1/accounts:update",J(n,e))})).apply(this,arguments)}function ur(n,e){return On.apply(this,arguments)}function On(){return(On=(0,m.Z)(function*(n,e){return Re(n,"POST","/v1/accounts:signInWithPassword",J(n,e))})).apply(this,arguments)}function Dt(n,e){return sn.apply(this,arguments)}function sn(){return(sn=(0,m.Z)(function*(n,e){return H(n,"POST","/v1/accounts:sendOobCode",J(n,e))})).apply(this,arguments)}function Pn(){return(Pn=(0,m.Z)(function*(n,e){return Dt(n,e)})).apply(this,arguments)}function lr(n,e){return ht.apply(this,arguments)}function ht(){return(ht=(0,m.Z)(function*(n,e){return Dt(n,e)})).apply(this,arguments)}function dr(n,e){return on.apply(this,arguments)}function on(){return(on=(0,m.Z)(function*(n,e){return Dt(n,e)})).apply(this,arguments)}function Rn(){return(Rn=(0,m.Z)(function*(n,e){return Dt(n,e)})).apply(this,arguments)}function Dn(){return(Dn=(0,m.Z)(function*(n,e){return Re(n,"POST","/v1/accounts:signInWithEmailLink",J(n,e))})).apply(this,arguments)}function Lt(){return(Lt=(0,m.Z)(function*(n,e){return Re(n,"POST","/v1/accounts:signInWithEmailLink",J(n,e))})).apply(this,arguments)}class jt extends kt{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new jt(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new jt(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,m.Z)(function*(){switch(t.signInMethod){case"password":return Ft(e,{returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ur);case"emailLink":return function zi(n,e){return Dn.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:ee(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return(0,m.Z)(function*(){switch(r.signInMethod){case"password":return Ft(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zt);case"emailLink":return function an(n,e){return Lt.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:ee(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function wt(n,e){return cn.apply(this,arguments)}function cn(){return(cn=(0,m.Z)(function*(n,e){return Re(n,"POST","/v1/accounts:signInWithIdp",J(n,e))})).apply(this,arguments)}class rt extends kt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new rt(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ee("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,d=(0,pe.__rest)(t,["providerId","signInMethod"]);if(!r||!o)return null;const I=new rt(r,o);return I.idToken=d.idToken||void 0,I.accessToken=d.accessToken||void 0,I.secret=d.secret,I.nonce=d.nonce,I.pendingToken=d.pendingToken||null,I}_getIdTokenResponse(e){return wt(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,wt(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wt(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,w.xO)(t)}return e}}function Gt(){return(Gt=(0,m.Z)(function*(n,e){return H(n,"POST","/v1/accounts:sendVerificationCode",J(n,e))})).apply(this,arguments)}function Bt(){return(Bt=(0,m.Z)(function*(n,e){return Re(n,"POST","/v1/accounts:signInWithPhoneNumber",J(n,e))})).apply(this,arguments)}function Vt(){return(Vt=(0,m.Z)(function*(n,e){const t=yield Re(n,"POST","/v1/accounts:signInWithPhoneNumber",J(n,e));if(t.temporaryProof)throw Te(n,"account-exists-with-different-credential",t);return t})).apply(this,arguments)}const kn={USER_NOT_FOUND:"user-not-found"};function ln(){return(ln=(0,m.Z)(function*(n,e){return Re(n,"POST","/v1/accounts:signInWithPhoneNumber",J(n,Object.assign(Object.assign({},e),{operation:"REAUTH"})),kn)})).apply(this,arguments)}class Nt extends kt{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Nt({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Nt({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function pr(n,e){return Bt.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function Nn(n,e){return Vt.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function mr(n,e){return ln.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:o}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:o}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:o,temporaryProof:d}=e;return r||t||o||d?new Nt({verificationId:t,verificationCode:r,phoneNumber:o,temporaryProof:d}):null}}class Wt{constructor(e){var t,r,o,d,I,T;const R=(0,w.zd)((0,w.pd)(e)),G=null!==(t=R.apiKey)&&void 0!==t?t:null,Y=null!==(r=R.oobCode)&&void 0!==r?r:null,me=function xn(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(o=R.mode)&&void 0!==o?o:null);E(G&&Y&&me,"argument-error"),this.apiKey=G,this.operation=me,this.code=Y,this.continueUrl=null!==(d=R.continueUrl)&&void 0!==d?d:null,this.languageCode=null!==(I=R.languageCode)&&void 0!==I?I:null,this.tenantId=null!==(T=R.tenantId)&&void 0!==T?T:null}static parseLink(e){const t=function _r(n){const e=(0,w.zd)((0,w.pd)(n)).link,t=e?(0,w.zd)((0,w.pd)(e)).deep_link_id:null,r=(0,w.zd)((0,w.pd)(n)).deep_link_id;return(r?(0,w.zd)((0,w.pd)(r)).link:null)||r||t||e||n}(e);try{return new Wt(t)}catch{return null}}}let dn=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return jt._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const o=Wt.parseLink(r);return E(o,"argument-error"),jt._fromEmailAndCode(t,o.code,o.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class l{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class s extends l{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class h extends s{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return E("providerId"in t&&"signInMethod"in t,"argument-error"),rt._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return E(e.idToken||e.accessToken,"argument-error"),rt._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return h.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return h.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:o,pendingToken:d,nonce:I,providerId:T}=e;if(!r&&!o&&!t&&!d||!T)return null;try{return new h(T)._credential({idToken:t,accessToken:r,nonce:I,pendingToken:d})}catch{return null}}}let y=(()=>{class n extends s{constructor(){super("facebook.com")}static credential(t){return rt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.FACEBOOK_SIGN_IN_METHOD="facebook.com",n.PROVIDER_ID="facebook.com",n})(),v=(()=>{class n extends s{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return rt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:o}=t;if(!r&&!o)return null;try{return n.credential(r,o)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})(),P=(()=>{class n extends s{constructor(){super("github.com")}static credential(t){return rt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.GITHUB_SIGN_IN_METHOD="github.com",n.PROVIDER_ID="github.com",n})();class ce extends kt{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return wt(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,wt(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wt(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:o,pendingToken:d}=t;return r&&o&&d&&r===o?new ce(r,d):null}static _create(e,t){return new ce(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ue extends l{constructor(e){E(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Ue.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Ue.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=ce.fromJSON(e);return E(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return ce._create(r,t)}catch{return null}}}let ct=(()=>{class n extends s{constructor(){super("twitter.com")}static credential(t,r){return rt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:o}=t;if(!r||!o)return null;try{return n.credential(r,o)}catch{return null}}}return n.TWITTER_SIGN_IN_METHOD="twitter.com",n.PROVIDER_ID="twitter.com",n})();function Ce(n,e){return ft.apply(this,arguments)}function ft(){return(ft=(0,m.Z)(function*(n,e){return Re(n,"POST","/v1/accounts:signUp",J(n,e))})).apply(this,arguments)}class Ye{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,o=!1){return(0,m.Z)(function*(){const d=yield a._fromIdTokenResponse(e,r,o),I=Ln(r);return new Ye({user:d,providerId:I,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return(0,m.Z)(function*(){yield e._updateTokensIfNecessary(r,!0);const o=Ln(r);return new Ye({user:e,providerId:o,_tokenResponse:r,operationType:t})})()}}function Ln(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function Ps(n){return vr.apply(this,arguments)}function vr(){return(vr=(0,m.Z)(function*(n){var e;const t=Me(n);if(yield t._initializationPromise,null!==(e=t.currentUser)&&void 0!==e&&e.isAnonymous)return new Ye({user:t.currentUser,providerId:null,operationType:"signIn"});const r=yield Ce(t,{returnSecureToken:!0}),o=yield Ye._fromIdTokenResponse(t,"signIn",r,!0);return yield t._updateCurrentUser(o.user),o})).apply(this,arguments)}class Mn extends w.ZR{constructor(e,t,r,o){var d;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Mn.prototype),this.customData={appName:e.name,tenantId:null!==(d=e.tenantId)&&void 0!==d?d:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Mn(e,t,r,o)}}function Hi(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(d=>{throw"auth/multi-factor-auth-required"===d.code?Mn._fromErrorAndOperation(n,d,e,r):d})}function Zi(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}function Rs(n,e){return yr.apply(this,arguments)}function yr(){return yr=(0,m.Z)(function*(n,e){const t=(0,w.m9)(n);yield Un(!0,t,e);const{providerUserInfo:r}=yield function dt(n,e){return Xe.apply(this,arguments)}(t.auth,{idToken:yield t.getIdToken(),deleteProvider:[e]}),o=Zi(r||[]);return t.providerData=t.providerData.filter(d=>o.has(d.providerId)),o.has("phone")||(t.phoneNumber=null),yield t.auth._persistUserIfCurrent(t),t}),yr.apply(this,arguments)}function Ir(n,e){return Er.apply(this,arguments)}function Er(){return(Er=(0,m.Z)(function*(n,e,t=!1){const r=yield et(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Ye._forOperation(n,"link",r)})).apply(this,arguments)}function Un(n,e,t){return br.apply(this,arguments)}function br(){return(br=(0,m.Z)(function*(n,e,t){yield tt(e);const o=!1===n?"provider-already-linked":"no-such-provider";E(Zi(e.providerData).has(t)===n,e.auth,o)})).apply(this,arguments)}function ji(n,e){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,m.Z)(function*(n,e,t=!1){const{auth:r}=n,o="reauthenticate";try{const d=yield et(n,Hi(r,o,e,n),t);E(d.idToken,r,"internal-error");const I=Je(d.idToken);E(I,r,"internal-error");const{sub:T}=I;return E(n.uid===T,r,"user-mismatch"),Ye._forOperation(n,o,d)}catch(d){throw"auth/user-not-found"===d?.code&&ee(r,"user-mismatch"),d}})).apply(this,arguments)}function Gi(n,e){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,m.Z)(function*(n,e,t=!1){const r="signIn",o=yield Hi(n,r,e),d=yield Ye._fromIdTokenResponse(n,r,o);return t||(yield n._updateCurrentUser(d.user)),d})).apply(this,arguments)}function Fn(n,e){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,m.Z)(function*(n,e){return Gi(Me(n),e)})).apply(this,arguments)}function Ki(n,e){return wr.apply(this,arguments)}function wr(){return(wr=(0,m.Z)(function*(n,e){const t=(0,w.m9)(n);return yield Un(!1,t,e.providerId),Ir(t,e)})).apply(this,arguments)}function Ji(n,e){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,m.Z)(function*(n,e){return ji((0,w.m9)(n),e)})).apply(this,arguments)}function Or(){return(Or=(0,m.Z)(function*(n,e){return Re(n,"POST","/v1/accounts:signInWithCustomToken",J(n,e))})).apply(this,arguments)}function Ns(n,e){return Pr.apply(this,arguments)}function Pr(){return Pr=(0,m.Z)(function*(n,e){const t=Me(n),r=yield function Ds(n,e){return Or.apply(this,arguments)}(t,{token:e,returnSecureToken:!0}),o=yield Ye._fromIdTokenResponse(t,"signIn",r);return yield t._updateCurrentUser(o.user),o}),Pr.apply(this,arguments)}class hn{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Rr._fromServerResponse(e,t):"totpInfo"in t?Dr._fromServerResponse(e,t):ee(e,"internal-error")}}class Rr extends hn{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Rr(t)}}class Dr extends hn{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Dr(t)}}function Bn(n,e,t){var r;E((null===(r=t.url)||void 0===r?void 0:r.length)>0,n,"invalid-continue-uri"),E(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(E(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(E(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function Nr(n){return kr.apply(this,arguments)}function kr(){return(kr=(0,m.Z)(function*(n){const e=Me(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function ks(n,e,t){return xr.apply(this,arguments)}function xr(){return(xr=(0,m.Z)(function*(n,e,t){const r=Me(n),o={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Bn(r,o,t),yield Ft(r,o,"getOobCode",lr)})).apply(this,arguments)}function xs(n,e,t){return Lr.apply(this,arguments)}function Lr(){return Lr=(0,m.Z)(function*(n,e,t){yield Cn((0,w.m9)(n),{oobCode:e,newPassword:t}).catch(function(){var r=(0,m.Z)(function*(o){throw"auth/password-does-not-meet-requirements"===o.code&&Nr(n),o});return function(o){return r.apply(this,arguments)}}())}),Lr.apply(this,arguments)}function Ls(n,e){return Mr.apply(this,arguments)}function Mr(){return Mr=(0,m.Z)(function*(n,e){yield function Rt(n,e){return xt.apply(this,arguments)}((0,w.m9)(n),{oobCode:e})}),Mr.apply(this,arguments)}function qi(n,e){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,m.Z)(function*(n,e){const t=(0,w.m9)(n),r=yield Cn(t,{oobCode:e}),o=r.requestType;switch(E(o,t,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":E(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":E(r.mfaInfo,t,"internal-error");default:E(r.email,t,"internal-error")}let d=null;return r.mfaInfo&&(d=hn._fromServerResponse(Me(t),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:d},operation:o}})).apply(this,arguments)}function Ms(n,e){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,m.Z)(function*(n,e){const{data:t}=yield qi((0,w.m9)(n),e);return t.email})).apply(this,arguments)}function Us(n,e,t){return Br.apply(this,arguments)}function Br(){return(Br=(0,m.Z)(function*(n,e,t){const r=Me(n),I=yield Ft(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ce).catch(R=>{throw"auth/password-does-not-meet-requirements"===R.code&&Nr(n),R}),T=yield Ye._fromIdTokenResponse(r,"signIn",I);return yield r._updateCurrentUser(T.user),T})).apply(this,arguments)}function Fs(n,e,t){return Fn((0,w.m9)(n),dn.credential(e,t)).catch(function(){var r=(0,m.Z)(function*(o){throw"auth/password-does-not-meet-requirements"===o.code&&Nr(n),o});return function(o){return r.apply(this,arguments)}}())}function Bs(n,e,t){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,m.Z)(function*(n,e,t){const r=Me(n),o={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};(function d(I,T){E(T.handleCodeInApp,r,"argument-error"),T&&Bn(r,I,T)})(o,t),yield Ft(r,o,"getOobCode",dr)})).apply(this,arguments)}function Vs(n,e){const t=Wt.parseLink(e);return"EMAIL_SIGNIN"===t?.operation}function Ws(n,e,t){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,m.Z)(function*(n,e,t){const r=(0,w.m9)(n),o=dn.credentialWithLink(e,t||ae());return E(o._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Fn(r,o)})).apply(this,arguments)}function $r(){return($r=(0,m.Z)(function*(n,e){return H(n,"POST","/v1/accounts:createAuthUri",J(n,e))})).apply(this,arguments)}function zs(n,e){return zr.apply(this,arguments)}function zr(){return zr=(0,m.Z)(function*(n,e){const r={identifier:e,continueUri:oe()?ae():"http://localhost"},{signinMethods:o}=yield function $s(n,e){return $r.apply(this,arguments)}((0,w.m9)(n),r);return o||[]}),zr.apply(this,arguments)}function Hs(n,e){return Hr.apply(this,arguments)}function Hr(){return Hr=(0,m.Z)(function*(n,e){const t=(0,w.m9)(n),o={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&Bn(t.auth,o,e);const{email:d}=yield function $i(n,e){return Pn.apply(this,arguments)}(t.auth,o);d!==n.email&&(yield n.reload())}),Hr.apply(this,arguments)}function Zs(n,e,t){return Zr.apply(this,arguments)}function Zr(){return Zr=(0,m.Z)(function*(n,e,t){const r=(0,w.m9)(n),d={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield n.getIdToken(),newEmail:e};t&&Bn(r.auth,d,t);const{email:I}=yield function hr(n,e){return Rn.apply(this,arguments)}(r.auth,d);I!==n.email&&(yield n.reload())}),Zr.apply(this,arguments)}function jr(){return(jr=(0,m.Z)(function*(n,e){return H(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Gs(n,e){return Gr.apply(this,arguments)}function Gr(){return Gr=(0,m.Z)(function*(n,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const r=(0,w.m9)(n),d={idToken:yield r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},I=yield et(r,function js(n,e){return jr.apply(this,arguments)}(r.auth,d));r.displayName=I.displayName||null,r.photoURL=I.photoUrl||null;const T=r.providerData.find(({providerId:R})=>"password"===R);T&&(T.displayName=r.displayName,T.photoURL=r.photoURL),yield r._updateTokensIfNecessary(I)}),Gr.apply(this,arguments)}function Ks(n,e){return Yi((0,w.m9)(n),e,null)}function Js(n,e){return Yi((0,w.m9)(n),null,e)}function Yi(n,e,t){return Kr.apply(this,arguments)}function Kr(){return Kr=(0,m.Z)(function*(n,e,t){const{auth:r}=n,d={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(d.email=e),t&&(d.password=t);const I=yield et(n,function cr(n,e){return nn.apply(this,arguments)}(r,d));yield n._updateTokensIfNecessary(I,!0)}),Kr.apply(this,arguments)}class Kt{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class Xi extends Kt{constructor(e,t,r,o){super(e,t,r),this.username=o}}class Ys extends Kt{constructor(e,t){super(e,"facebook.com",t)}}class Xs extends Xi{constructor(e,t){super(e,"github.com",t,"string"==typeof t?.login?t?.login:null)}}class Qs extends Kt{constructor(e,t){super(e,"google.com",t)}}class eo extends Xi{constructor(e,t,r){super(e,"twitter.com",t,r)}}function to(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:function qs(n){var e,t;if(!n)return null;const{providerId:r}=n,o=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},d=n.isNewUser||"identitytoolkit#SignupNewUserResponse"===n.kind;if(!r&&n?.idToken){const I=null===(t=null===(e=Je(n.idToken))||void 0===e?void 0:e.firebase)||void 0===t?void 0:t.sign_in_provider;if(I)return new Kt(d,"anonymous"!==I&&"custom"!==I?I:null)}if(!r)return null;switch(r){case"facebook.com":return new Ys(d,o);case"github.com":return new Xs(d,o);case"google.com":return new Qs(d,o);case"twitter.com":return new eo(d,o,n.screenName||null);case"custom":case"anonymous":return new Kt(d,null);default:return new Kt(d,r,o)}}(t)}class $t{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new $t("enroll",e,t)}static _fromMfaPendingCredential(e){return new $t("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e?.multiFactorSession){if(null!==(t=e.multiFactorSession)&&void 0!==t&&t.pendingCredential)return $t._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null!==(r=e.multiFactorSession)&&void 0!==r&&r.idToken)return $t._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Yr{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Me(e),o=t.customData._serverResponse,d=(o.mfaInfo||[]).map(T=>hn._fromServerResponse(r,T));E(o.mfaPendingCredential,r,"internal-error");const I=$t._fromMfaPendingCredential(o.mfaPendingCredential);return new Yr(I,d,function(){var T=(0,m.Z)(function*(R){const G=yield R._process(r,I);delete o.mfaInfo,delete o.mfaPendingCredential;const Y=Object.assign(Object.assign({},o),{idToken:G.idToken,refreshToken:G.refreshToken});switch(t.operationType){case"signIn":const me=yield Ye._fromIdTokenResponse(r,t.operationType,Y);return yield r._updateCurrentUser(me.user),me;case"reauthenticate":return E(t.user,r,"internal-error"),Ye._forOperation(t.user,t.operationType,Y);default:ee(r,"internal-error")}});return function(R){return T.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,m.Z)(function*(){return t.signInResolver(e)})()}}function io(n,e){var t;const r=(0,w.m9)(n),o=e;return E(e.customData.operationType,r,"argument-error"),E(null===(t=o.customData._serverResponse)||void 0===t?void 0:t.mfaPendingCredential,r,"argument-error"),Yr._fromError(r,o)}class Xr{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>hn._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new Xr(e)}getSession(){var e=this;return(0,m.Z)(function*(){return $t._fromIdtoken(yield e.user.getIdToken(),e.user)})()}enroll(e,t){var r=this;return(0,m.Z)(function*(){const o=e,d=yield r.getSession(),I=yield et(r.user,o._process(r.user.auth,d,t));return yield r.user._updateTokensIfNecessary(I),r.user.reload()})()}unenroll(e){var t=this;return(0,m.Z)(function*(){const r="string"==typeof e?e:e.uid,o=yield t.user.getIdToken();try{const d=yield et(t.user,function co(n,e){return H(n,"POST","/v2/accounts/mfaEnrollment:withdraw",J(n,e))}(t.user.auth,{idToken:o,mfaEnrollmentId:r}));t.enrolledFactors=t.enrolledFactors.filter(({uid:I})=>I!==r),yield t.user._updateTokensIfNecessary(d),yield t.user.reload()}catch(d){throw d}})()}}const Qr=new WeakMap;function uo(n){const e=(0,w.m9)(n);return Qr.has(e)||Qr.set(e,Xr._fromUser(e)),Qr.get(e)}const Vn="__sak";class Qi{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Vn,"1"),this.storage.removeItem(Vn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const es=(()=>{class n extends Qi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function lo(){const n=(0,w.z$)();return Ne(n)||Ut(n)}()&&function St(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=gn(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const o=this.storage.getItem(r),d=this.localCache[r];o!==d&&t(r,d,o)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((T,R,G)=>{this.notifyListeners(T,G)});const o=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const T=this.storage.getItem(o);if(t.newValue!==T)null!==t.newValue?this.storage.setItem(o,t.newValue):this.storage.removeItem(o);else if(this.localCache[o]===t.newValue&&!r)return}const d=()=>{const T=this.storage.getItem(o);!r&&this.localCache[o]===T||this.notifyListeners(o,T)},I=this.storage.getItem(o);!function Jn(){return(0,w.w1)()&&10===document.documentMode}()||I===t.newValue||t.newValue===t.oldValue?d():setTimeout(d,10)}notifyListeners(t,r){this.localCache[t]=r;const o=this.listeners[t];if(o)for(const d of Array.from(o))d(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:o}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var o=()=>super._set,d=this;return(0,m.Z)(function*(){yield o().call(d,t,r),d.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,o=this;return(0,m.Z)(function*(){const d=yield r().call(o,t);return o.localCache[t]=JSON.stringify(d),d})()}_remove(t){var r=()=>super._remove,o=this;return(0,m.Z)(function*(){yield r().call(o,t),delete o.localCache[t]})()}}return n.type="LOCAL",n})(),ei=(()=>{class n extends Qi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let mo=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(d=>d.isListeningto(t));if(r)return r;const o=new n(t);return this.receivers.push(o),o}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,m.Z)(function*(){const o=t,{eventId:d,eventType:I,data:T}=o.data,R=r.handlersMap[I];if(!R?.size)return;o.ports[0].postMessage({status:"ack",eventId:d,eventType:I});const G=Array.from(R).map(function(){var me=(0,m.Z)(function*(ut){return ut(o.origin,T)});return function(ut){return me.apply(this,arguments)}}()),Y=yield function po(n){return Promise.all(n.map(function(){var e=(0,m.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(G);o.ports[0].postMessage({status:"done",eventId:d,eventType:I,response:Y})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function fn(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class _o{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var o=this;return(0,m.Z)(function*(){const d=typeof MessageChannel<"u"?new MessageChannel:null;if(!d)throw new Error("connection_unavailable");let I,T;return new Promise((R,G)=>{const Y=fn("",20);d.port1.start();const me=setTimeout(()=>{G(new Error("unsupported_event"))},r);T={messageChannel:d,onMessage(ut){const Mt=ut;if(Mt.data.eventId===Y)switch(Mt.data.status){case"ack":clearTimeout(me),I=setTimeout(()=>{G(new Error("timeout"))},3e3);break;case"done":clearTimeout(I),R(Mt.data.response);break;default:clearTimeout(me),clearTimeout(I),G(new Error("invalid_response"))}}},o.handlers.add(T),d.port1.addEventListener("message",T.onMessage),o.target.postMessage({eventType:e,eventId:Y,data:t},[d.port2])}).finally(()=>{T&&o.removeMessageHandler(T)})})()}}function He(){return window}function ti(){return typeof He().WorkerGlobalScope<"u"&&"function"==typeof He().importScripts}function ni(){return(ni=(0,m.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ts="firebaseLocalStorageDb",Wn="firebaseLocalStorage",ns="fbase_key";class pn{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function $n(n,e){return n.transaction([Wn],e?"readwrite":"readonly").objectStore(Wn)}function ri(){const n=indexedDB.open(ts,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Wn,{keyPath:ns})}catch(o){t(o)}}),n.addEventListener("success",(0,m.Z)(function*(){const r=n.result;r.objectStoreNames.contains(Wn)?e(r):(r.close(),yield function bo(){const n=indexedDB.deleteDatabase(ts);return new pn(n).toPromise()}(),e(yield ri()))}))})}function rs(n,e,t){return ii.apply(this,arguments)}function ii(){return(ii=(0,m.Z)(function*(n,e,t){const r=$n(n,!0).put({[ns]:e,value:t});return new pn(r).toPromise()})).apply(this,arguments)}function si(){return(si=(0,m.Z)(function*(n,e){const t=$n(n,!1).get(e),r=yield new pn(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function is(n,e){const t=$n(n,!0).delete(e);return new pn(t).toPromise()}const ss=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,m.Z)(function*(){return t.db||(t.db=yield ri()),t.db})()}_withRetries(t){var r=this;return(0,m.Z)(function*(){let o=0;for(;;)try{const d=yield r._openDb();return yield t(d)}catch(d){if(o++>3)throw d;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,m.Z)(function*(){return ti()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,m.Z)(function*(){t.receiver=mo._getInstance(function Io(){return ti()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=(0,m.Z)(function*(o,d){return{keyProcessed:(yield t._poll()).includes(d.key)}});return function(o,d){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=(0,m.Z)(function*(o,d){return["keyChanged"]});return function(o,d){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,m.Z)(function*(){var r,o;if(t.activeServiceWorker=yield function vo(){return ni.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new _o(t.activeServiceWorker);const d=yield t.sender._send("ping",{},800);d&&null!==(r=d[0])&&void 0!==r&&r.fulfilled&&null!==(o=d[0])&&void 0!==o&&o.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,m.Z)(function*(){if(r.sender&&r.activeServiceWorker&&function yo(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const t=yield ri();return yield rs(t,Vn,"1"),yield is(t,Vn),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return(0,m.Z)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var o=this;return(0,m.Z)(function*(){return o._withPendingWrite((0,m.Z)(function*(){return yield o._withRetries(d=>rs(d,t,r)),o.localCache[t]=r,o.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,m.Z)(function*(){const o=yield r._withRetries(d=>function Ao(n,e){return si.apply(this,arguments)}(d,t));return r.localCache[t]=o,o})()}_remove(t){var r=this;return(0,m.Z)(function*(){return r._withPendingWrite((0,m.Z)(function*(){return yield r._withRetries(o=>is(o,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,m.Z)(function*(){const r=yield t._withRetries(I=>{const T=$n(I,!1).getAll();return new pn(T).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const o=[],d=new Set;if(0!==r.length)for(const{fbase_key:I,value:T}of r)d.add(I),JSON.stringify(t.localCache[I])!==JSON.stringify(T)&&(t.notifyListeners(I,T),o.push(I));for(const I of Object.keys(t.localCache))t.localCache[I]&&!d.has(I)&&(t.notifyListeners(I,null),o.push(I));return o})()}notifyListeners(t,r){this.localCache[t]=r;const o=this.listeners[t];if(o)for(const d of Array.from(o))d(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})(),zn=1e12;class Do{constructor(e){this.auth=e,this.counter=zn,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new No(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||zn;null===(t=this._widgets.get(r))||void 0===t||t.delete(),this._widgets.delete(r)}getResponse(e){var t;return(null===(t=this._widgets.get(e||zn))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,m.Z)(function*(){var r;return null===(r=t._widgets.get(e||zn))||void 0===r||r.execute(),""})()}}class No{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const o="string"==typeof e?document.getElementById(e):e;E(o,"argument-error",{appName:t}),this.container=o,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ko(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(62*Math.random())));return e.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const oi=En("rcb"),xo=new B(3e4,6e4);class Lo{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(e=He().grecaptcha)||void 0===e||!e.render)}load(e,t=""){return E(function Mo(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&ze(He().grecaptcha)?Promise.resolve(He().grecaptcha):new Promise((r,o)=>{const d=He().setTimeout(()=>{o(he(e,"network-request-failed"))},xo.get());He()[oi]=()=>{He().clearTimeout(d),delete He()[oi];const T=He().grecaptcha;if(!T||!ze(T))return void o(he(e,"internal-error"));const R=T.render;T.render=(G,Y)=>{const me=R(G,Y);return this.counter++,me},this.hostLanguage=t,r(T)},Et(`${function Xn(){return Pt.recaptchaV2Script}()}?${(0,w.xO)({onload:oi,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(d),o(he(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!(null===(t=He().grecaptcha)||void 0===t||!t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Uo{load(e){return(0,m.Z)(function*(){return new Do(e)})()}clearedOneInstance(){}}const os="recaptcha",Fo={theme:"light",type:"image"};class Bo{constructor(e,t,r=Object.assign({},Fo)){this.parameters=r,this.type=os,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Me(e),this.isInvisible="invisible"===this.parameters.size,E(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const o="string"==typeof t?document.getElementById(t):t;E(o,this.auth,"argument-error"),this.container=o,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Uo:new Lo,this.validateStartingState()}verify(){var e=this;return(0,m.Z)(function*(){e.assertNotDestroyed();const t=yield e.render(),r=e.getAssertedRecaptcha();return r.getResponse(t)||new Promise(d=>{const I=T=>{T&&(e.tokenChangeListeners.delete(I),d(T))};e.tokenChangeListeners.add(I),e.isInvisible&&r.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){E(!this.parameters.sitekey,this.auth,"argument-error"),E(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),E(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),"function"==typeof e)e(t);else if("string"==typeof e){const r=He()[e];"function"==typeof r&&r(t)}}}assertNotDestroyed(){E(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,m.Z)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const r=document.createElement("div");t.appendChild(r),t=r}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,m.Z)(function*(){E(oe()&&!ti(),e.auth,"internal-error"),yield function Vo(){let n=null;return new Promise(e=>{"complete"!==document.readyState?(n=()=>e(),window.addEventListener("load",n)):e()}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function vt(n){return lt.apply(this,arguments)}(e.auth);E(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return E(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ai{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Nt._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function Wo(n,e,t){return ci.apply(this,arguments)}function ci(){return(ci=(0,m.Z)(function*(n,e,t){const r=Me(n),o=yield Hn(r,e,(0,w.m9)(t));return new ai(o,d=>Fn(r,d))})).apply(this,arguments)}function $o(n,e,t){return ui.apply(this,arguments)}function ui(){return(ui=(0,m.Z)(function*(n,e,t){const r=(0,w.m9)(n);yield Un(!1,r,"phone");const o=yield Hn(r.auth,e,(0,w.m9)(t));return new ai(o,d=>Ki(r,d))})).apply(this,arguments)}function zo(n,e,t){return li.apply(this,arguments)}function li(){return(li=(0,m.Z)(function*(n,e,t){const r=(0,w.m9)(n),o=yield Hn(r.auth,e,(0,w.m9)(t));return new ai(o,d=>Ji(r,d))})).apply(this,arguments)}function Hn(n,e,t){return di.apply(this,arguments)}function di(){return di=(0,m.Z)(function*(n,e,t){var r;const o=yield t.verify();try{let d;if(E("string"==typeof o,n,"argument-error"),E(t.type===os,n,"argument-error"),d="string"==typeof e?{phoneNumber:e}:e,"session"in d){const I=d.session;if("phoneNumber"in d)return E("enroll"===I.type,n,"internal-error"),(yield function so(n,e){return H(n,"POST","/v2/accounts/mfaEnrollment:start",J(n,e))}(n,{idToken:I.credential,phoneEnrollmentInfo:{phoneNumber:d.phoneNumber,recaptchaToken:o}})).phoneSessionInfo.sessionInfo;{E("signin"===I.type,n,"internal-error");const T=(null===(r=d.multiFactorHint)||void 0===r?void 0:r.uid)||d.multiFactorUid;return E(T,n,"missing-multi-factor-info"),(yield function wo(n,e){return H(n,"POST","/v2/accounts/mfaSignIn:start",J(n,e))}(n,{mfaPendingCredential:I.credential,mfaEnrollmentId:T,phoneSignInInfo:{recaptchaToken:o}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:I}=yield function un(n,e){return Gt.apply(this,arguments)}(n,{phoneNumber:d.phoneNumber,recaptchaToken:o});return I}}finally{t._reset()}}),di.apply(this,arguments)}function Ho(n,e){return hi.apply(this,arguments)}function hi(){return(hi=(0,m.Z)(function*(n,e){yield Ir((0,w.m9)(n),e)})).apply(this,arguments)}let Zo=(()=>{class n{constructor(t){this.providerId=n.PROVIDER_ID,this.auth=Me(t)}verifyPhoneNumber(t,r){return Hn(this.auth,t,(0,w.m9)(r))}static credential(t,r){return Nt._fromVerification(t,r)}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:r,temporaryProof:o}=t;return r&&o?Nt._fromTokenResponse(r,o):null}}return n.PROVIDER_ID="phone",n.PHONE_SIGN_IN_METHOD="phone",n})();function zt(n,e){return e?p(e):(E(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class fi extends kt{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wt(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wt(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wt(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function jo(n){return Gi(n.auth,new fi(n),n.bypassAuthState)}function Go(n){const{auth:e,user:t}=n;return E(t,e,"internal-error"),ji(t,new fi(n),n.bypassAuthState)}function Ko(n){return pi.apply(this,arguments)}function pi(){return(pi=(0,m.Z)(function*(n){const{auth:e,user:t}=n;return E(t,e,"internal-error"),Ir(t,new fi(n),n.bypassAuthState)})).apply(this,arguments)}class as{constructor(e,t,r,o,d=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=d,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,m.Z)(function*(r,o){e.pendingPromise={resolve:r,reject:o};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(d){e.reject(d)}});return function(r,o){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,m.Z)(function*(){const{urlResponse:r,sessionId:o,postBody:d,tenantId:I,error:T,type:R}=e;if(T)return void t.reject(T);const G={auth:t.auth,requestUri:r,sessionId:o,tenantId:I||void 0,postBody:d||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(R)(G))}catch(Y){t.reject(Y)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jo;case"linkViaPopup":case"linkViaRedirect":return Ko;case"reauthViaPopup":case"reauthViaRedirect":return Go;default:ee(this.auth,"internal-error")}}resolve(e){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Jo=new B(2e3,1e4);function qo(n,e,t){return mi.apply(this,arguments)}function mi(){return(mi=(0,m.Z)(function*(n,e,t){const r=Me(n);_e(n,e,l);const o=zt(r,t);return new vi(r,"signInViaPopup",e,o).executeNotNull()})).apply(this,arguments)}function Yo(n,e,t){return _i.apply(this,arguments)}function _i(){return(_i=(0,m.Z)(function*(n,e,t){const r=(0,w.m9)(n);_e(r.auth,e,l);const o=zt(r.auth,t);return new vi(r.auth,"reauthViaPopup",e,o,r).executeNotNull()})).apply(this,arguments)}function Xo(n,e,t){return gi.apply(this,arguments)}function gi(){return(gi=(0,m.Z)(function*(n,e,t){const r=(0,w.m9)(n);_e(r.auth,e,l);const o=zt(r.auth,t);return new vi(r.auth,"linkViaPopup",e,o,r).executeNotNull()})).apply(this,arguments)}let vi=(()=>{class n extends as{constructor(t,r,o,d,I){super(t,r,d,I),this.provider=o,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return(0,m.Z)(function*(){const r=yield t.execute();return E(r,t.auth,"internal-error"),r})()}onExecution(){var t=this;return(0,m.Z)(function*(){Z(1===t.filter.length,"Popup operations only handle one event");const r=fn();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],r),t.authWindow.associatedEvent=r,t.resolver._originValidation(t.auth).catch(o=>{t.reject(o)}),t.resolver._isIframeWebStorageSupported(t.auth,o=>{o||t.reject(he(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(he(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,o;this.pollId=null!==(o=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==o&&o.closed?window.setTimeout(()=>{this.pollId=null,this.reject(he(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(t,Jo.get())};t()}}return n.currentPopupAction=null,n})();const Qo="pendingRedirect",mn=new Map;class ea extends as{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,m.Z)(function*(){let r=mn.get(t.auth._key());if(!r){try{const d=(yield function ta(n,e){return yi.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(d)}catch(o){r=()=>Promise.reject(o)}mn.set(t.auth._key(),r)}return t.bypassAuthState||mn.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,m.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const o=yield r.auth._redirectUserForId(e.eventId);if(o)return r.user=o,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function yi(){return(yi=(0,m.Z)(function*(n,e){const t=ls(e),r=us(n);if(!(yield r._isAvailable()))return!1;const o="true"===(yield r._get(t));return yield r._remove(t),o})).apply(this,arguments)}function Ii(n,e){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,m.Z)(function*(n,e){return us(n)._set(ls(e),"true")})).apply(this,arguments)}function na(){mn.clear()}function cs(n,e){mn.set(n._key(),e)}function us(n){return p(n._redirectPersistence)}function ls(n){return F(Qo,n.config.apiKey,n.name)}function ra(n,e,t){return function ia(n,e,t){return bi.apply(this,arguments)}(n,e,t)}function bi(){return(bi=(0,m.Z)(function*(n,e,t){const r=Me(n);_e(n,e,l),yield r._initializationPromise;const o=zt(r,t);return yield Ii(o,r),o._openRedirect(r,e,"signInViaRedirect")})).apply(this,arguments)}function sa(n,e,t){return function oa(n,e,t){return Ai.apply(this,arguments)}(n,e,t)}function Ai(){return(Ai=(0,m.Z)(function*(n,e,t){const r=(0,w.m9)(n);_e(r.auth,e,l),yield r.auth._initializationPromise;const o=zt(r.auth,t);yield Ii(o,r.auth);const d=yield ds(r);return o._openRedirect(r.auth,e,"reauthViaRedirect",d)})).apply(this,arguments)}function aa(n,e,t){return function ca(n,e,t){return Ti.apply(this,arguments)}(n,e,t)}function Ti(){return(Ti=(0,m.Z)(function*(n,e,t){const r=(0,w.m9)(n);_e(r.auth,e,l),yield r.auth._initializationPromise;const o=zt(r.auth,t);yield Un(!1,r,e.providerId),yield Ii(o,r.auth);const d=yield ds(r);return o._openRedirect(r.auth,e,"linkViaRedirect",d)})).apply(this,arguments)}function ua(n,e){return Si.apply(this,arguments)}function Si(){return(Si=(0,m.Z)(function*(n,e){return yield Me(n)._initializationPromise,wi(n,e,!1)})).apply(this,arguments)}function wi(n,e){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,m.Z)(function*(n,e,t=!1){const r=Me(n),o=zt(r,e),I=yield new ea(r,o,t).execute();return I&&!t&&(delete I.user._redirectEventId,yield r._persistUserIfCurrent(I.user),yield r._setRedirectUser(null,e)),I})).apply(this,arguments)}function ds(n){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,m.Z)(function*(n){const e=fn(`${n.uid}:::`);return n._redirectEventId=e,yield n.auth._setRedirectUser(n),yield n.auth._persistUserIfCurrent(n),e})).apply(this,arguments)}class hs{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function da(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ps(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!ps(e)){const o=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(he(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fs(e))}saveEventToCache(e){this.cachedEventUids.add(fs(e)),this.lastProcessedEventTime=Date.now()}}function fs(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ps({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function ms(n){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,m.Z)(function*(n,e={}){return H(n,"GET","/v1/projects",e)})).apply(this,arguments)}const ha=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fa=/^https?/;function Ri(){return(Ri=(0,m.Z)(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield ms(n);for(const t of e)try{if(ma(t))return}catch{}ee(n,"unauthorized-domain")})).apply(this,arguments)}function ma(n){const e=ae(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const I=new URL(n);return""===I.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&I.hostname===r}if(!fa.test(t))return!1;if(ha.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const _a=new B(3e4,6e4);function _s(){const n=He().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Zn=null;const ya=new B(5e3,15e3),Ia="__/auth/iframe",Ea="emulator/auth/iframe",ba={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Aa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ta(n){const e=n.config;E(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?K(e,Ea):`https://${n.config.authDomain}/${Ia}`,r={apiKey:e.apiKey,appName:n.name,v:g.Jn},o=Aa.get(n.config.apiHost);o&&(r.eid=o);const d=n._getFrameworks();return d.length&&(r.fw=d.join(",")),`${t}?${(0,w.xO)(r).slice(1)}`}function Di(){return Di=(0,m.Z)(function*(n){const e=yield function va(n){return Zn=Zn||function ga(n){return new Promise((e,t)=>{var r,o,d;function I(){_s(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_s(),t(he(n,"network-request-failed"))},timeout:_a.get()})}if(null!==(o=null===(r=He().gapi)||void 0===r?void 0:r.iframes)&&void 0!==o&&o.Iframe)e(gapi.iframes.getContext());else{if(null===(d=He().gapi)||void 0===d||!d.load){const T=En("iframefcb");return He()[T]=()=>{gapi.load?I():t(he(n,"network-request-failed"))},Et(`${function er(){return Pt.gapiScript}()}?onload=${T}`).catch(R=>t(R))}I()}}).catch(e=>{throw Zn=null,e})}(n),Zn}(n),t=He().gapi;return E(t,n,"internal-error"),e.open({where:document.body,url:Ta(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ba,dontclear:!0},r=>new Promise(function(){var o=(0,m.Z)(function*(d,I){yield r.restyle({setHideOnLeave:!1});const T=he(n,"network-request-failed"),R=He().setTimeout(()=>{I(T)},ya.get());function G(){He().clearTimeout(R),d(r)}r.ping(G).then(G,()=>{I(T)})});return function(d,I){return o.apply(this,arguments)}}()))}),Di.apply(this,arguments)}const wa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class gs{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ka="__/auth/handler",xa="emulator/auth/handler",La=encodeURIComponent("fac");function Ni(n,e,t,r,o,d){return ki.apply(this,arguments)}function ki(){return(ki=(0,m.Z)(function*(n,e,t,r,o,d){E(n.config.authDomain,n,"auth-domain-config-required"),E(n.config.apiKey,n,"invalid-api-key");const I={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:g.Jn,eventId:o};if(e instanceof l){e.setDefaultLanguage(n.languageCode),I.providerId=e.providerId||"",(0,w.xb)(e.getCustomParameters())||(I.customParameters=JSON.stringify(e.getCustomParameters()));for(const[Y,me]of Object.entries(d||{}))I[Y]=me}if(e instanceof s){const Y=e.getScopes().filter(me=>""!==me);Y.length>0&&(I.scopes=Y.join(","))}n.tenantId&&(I.tid=n.tenantId);const T=I;for(const Y of Object.keys(T))void 0===T[Y]&&delete T[Y];const R=yield n._getAppCheckToken(),G=R?`#${La}=${encodeURIComponent(R)}`:"";return`${function Ma({config:n}){return n.emulator?K(n,xa):`https://${n.authDomain}/${ka}`}(n)}?${(0,w.xO)(T).slice(1)}${G}`})).apply(this,arguments)}const xi="webStorageSupport",vs=class Ua{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ei,this._completeRedirectFn=wi,this._overrideRedirectResult=cs}_openPopup(e,t,r,o){var d=this;return(0,m.Z)(function*(){var I;Z(null===(I=d.eventManagers[e._key()])||void 0===I?void 0:I.manager,"_initialize() not called before _openPopup()");const T=yield Ni(e,t,r,ae(),o);return function Da(n,e,t,r=500,o=600){const d=Math.max((window.screen.availHeight-o)/2,0).toString(),I=Math.max((window.screen.availWidth-r)/2,0).toString();let T="";const R=Object.assign(Object.assign({},wa),{width:r.toString(),height:o.toString(),top:d,left:I}),G=(0,w.z$)().toLowerCase();t&&(T=$e(G)?"_blank":t),fe(G)&&(e=e||"http://localhost",R.scrollbars="yes");const Y=Object.entries(R).reduce((ut,[Mt,Gn])=>`${ut}${Mt}=${Gn},`,"");if(function Kn(n=(0,w.z$)()){var e;return Ut(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(G)&&"_self"!==T)return function Na(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",T),new gs(null);const me=window.open(e||"",T,Y);E(me,n,"popup-blocked");try{me.focus()}catch{}return new gs(me)}(e,T,fn())})()}_openRedirect(e,t,r,o){var d=this;return(0,m.Z)(function*(){return yield d._originValidation(e),function go(n){He().location.href=n}(yield Ni(e,t,r,ae(),o)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:d}=this.eventManagers[t];return o?Promise.resolve(o):(Z(d,"If manager is not set, promise should be"),d)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,m.Z)(function*(){const r=yield function Sa(n){return Di.apply(this,arguments)}(e),o=new hs(e);return r.register("authEvent",d=>(E(d?.authEvent,e,"invalid-auth-event"),{status:o.onEvent(d.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:o},t.iframes[e._key()]=r,o})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xi,{type:xi},o=>{var d;const I=null===(d=o?.[0])||void 0===d?void 0:d[xi];void 0!==I&&t(!!I),ee(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function pa(n){return Ri.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return gn()||Ne()||Ut()}};class Fa{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return N("unexpected MultiFactorSessionType")}}}class Li extends Fa{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Li(e)}_finalizeEnroll(e,t,r){return function oo(n,e){return H(n,"POST","/v2/accounts/mfaEnrollment:finalize",J(n,e))}(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function Co(n,e){return H(n,"POST","/v2/accounts/mfaSignIn:finalize",J(n,e))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ba=(()=>{class n{constructor(){}static assertion(t){return Li._fromCredential(t)}}return n.FACTOR_ID="phone",n})();var Is="@firebase/auth";class Va{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,m.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){E(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,w.Pz)("authIdTokenMaxAge"),function In(n){Pt=n}({loadJS:n=>new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const d=he("internal-error");d.customData=o,t(d)},r.type="text/javascript",r.charset="UTF-8",function ja(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function $a(n){(0,g.Xd)(new Oe.wA("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),d=e.getProvider("app-check-internal"),{apiKey:I,authDomain:T}=r.options;E(I&&!I.includes(":"),"invalid-api-key",{appName:r.name});const R={apiKey:I,authDomain:T,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ht(n)},G=new vn(r,o,d,R);return function sr(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(p);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(G,t),G},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),(0,g.Xd)(new Oe.wA("auth-internal",e=>{const t=Me(e.getProvider("auth").getImmediate());return new Va(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,g.KN)(Is,"1.6.0",function Wa(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),(0,g.KN)(Is,"1.6.0","esm2017")}("Browser")},8963:(it,Ee,k)=>{k.d(Ee,{LL:()=>Le,Pz:()=>he,ZR:()=>H,b$:()=>oe,m9:()=>De,ne:()=>at,pd:()=>Xe,ru:()=>ae,tV:()=>b,uI:()=>E,w1:()=>ge,xO:()=>Be,xb:()=>vt,z$:()=>$,zd:()=>dt});const Oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(c,i){if(!Array.isArray(c))throw Error("encodeByteArray takes an array as a parameter");this.init_();const u=i?this.byteToCharMapWebSafe_:this.byteToCharMap_,_=[];for(let a=0;a<c.length;a+=3){const f=c[a],p=a+1<c.length,A=p?c[a+1]:0,D=a+2<c.length,F=D?c[a+2]:0;let fe=(15&A)<<2|F>>6,Ne=63&F;D||(Ne=64,p||(fe=64)),_.push(u[f>>2],u[(3&f)<<4|A>>4],u[fe],u[Ne])}return _.join("")},encodeString(c,i){return this.HAS_NATIVE_SUPPORT&&!i?btoa(c):this.encodeByteArray(function(c){const i=[];let u=0;for(let _=0;_<c.length;_++){let a=c.charCodeAt(_);a<128?i[u++]=a:a<2048?(i[u++]=a>>6|192,i[u++]=63&a|128):55296==(64512&a)&&_+1<c.length&&56320==(64512&c.charCodeAt(_+1))?(a=65536+((1023&a)<<10)+(1023&c.charCodeAt(++_)),i[u++]=a>>18|240,i[u++]=a>>12&63|128,i[u++]=a>>6&63|128,i[u++]=63&a|128):(i[u++]=a>>12|224,i[u++]=a>>6&63|128,i[u++]=63&a|128)}return i}(c),i)},decodeString(c,i){return this.HAS_NATIVE_SUPPORT&&!i?atob(c):function(c){const i=[];let u=0,_=0;for(;u<c.length;){const a=c[u++];if(a<128)i[_++]=String.fromCharCode(a);else if(a>191&&a<224){const f=c[u++];i[_++]=String.fromCharCode((31&a)<<6|63&f)}else if(a>239&&a<365){const D=((7&a)<<18|(63&c[u++])<<12|(63&c[u++])<<6|63&c[u++])-65536;i[_++]=String.fromCharCode(55296+(D>>10)),i[_++]=String.fromCharCode(56320+(1023&D))}else{const f=c[u++],p=c[u++];i[_++]=String.fromCharCode((15&a)<<12|(63&f)<<6|63&p)}}return i.join("")}(this.decodeStringToByteArray(c,i))},decodeStringToByteArray(c,i){this.init_();const u=i?this.charToByteMapWebSafe_:this.charToByteMap_,_=[];for(let a=0;a<c.length;){const f=u[c.charAt(a++)],A=a<c.length?u[c.charAt(a)]:0;++a;const F=a<c.length?u[c.charAt(a)]:64;++a;const M=a<c.length?u[c.charAt(a)]:64;if(++a,null==f||null==A||null==F||null==M)throw new be;_.push(f<<2|A>>4),64!==F&&(_.push(A<<4&240|F>>2),64!==M&&_.push(F<<6&192|M))}return _},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let c=0;c<this.ENCODED_VALS.length;c++)this.byteToCharMap_[c]=this.ENCODED_VALS.charAt(c),this.charToByteMap_[this.byteToCharMap_[c]]=c,this.byteToCharMapWebSafe_[c]=this.ENCODED_VALS_WEBSAFE.charAt(c),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[c]]=c,c>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(c)]=c,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(c)]=c)}}};class be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b=function(c){try{return Oe.decodeString(c,!0)}catch(i){console.error("base64Decode failed: ",i)}return null},L=()=>{try{return function ie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const c=process.env.__FIREBASE_DEFAULTS__;return c?JSON.parse(c):void 0})()||(()=>{if(typeof document>"u")return;let c;try{c=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const i=c&&b(c[1]);return i&&JSON.parse(i)})()}catch(c){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${c}`)}},he=c=>{var i;return null===(i=L())||void 0===i?void 0:i[`_${c}`]};function $(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function E(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($())}function ae(){const c="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof c&&void 0!==c.id}function oe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ge(){const c=$();return c.indexOf("MSIE ")>=0||c.indexOf("Trident/")>=0}class H extends Error{constructor(i,u,_){super(u),this.code=i,this.customData=_,this.name="FirebaseError",Object.setPrototypeOf(this,H.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Le.prototype.create)}}class Le{constructor(i,u,_){this.service=i,this.serviceName=u,this.errors=_}create(i,...u){const _=u[0]||{},a=`${this.service}/${i}`,f=this.errors[i],p=f?function Ge(c,i){return c.replace(st,(u,_)=>{const a=i[_];return null!=a?String(a):`<${_}?>`})}(f,_):"Error";return new H(a,`${this.serviceName}: ${p} (${a}).`,_)}}const st=/\{\$([^}]+)}/g;function vt(c){for(const i in c)if(Object.prototype.hasOwnProperty.call(c,i))return!1;return!0}function Be(c){const i=[];for(const[u,_]of Object.entries(c))Array.isArray(_)?_.forEach(a=>{i.push(encodeURIComponent(u)+"="+encodeURIComponent(a))}):i.push(encodeURIComponent(u)+"="+encodeURIComponent(_));return i.length?"&"+i.join("&"):""}function dt(c){const i={};return c.replace(/^\?/,"").split("&").forEach(_=>{if(_){const[a,f]=_.split("=");i[decodeURIComponent(a)]=decodeURIComponent(f)}}),i}function Xe(c){const i=c.indexOf("?");if(!i)return"";const u=c.indexOf("#",i);return c.substring(i,u>0?u:void 0)}function at(c,i){const u=new Qe(c,i);return u.subscribe.bind(u)}class Qe{constructor(i,u){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=u,this.task.then(()=>{i(this)}).catch(_=>{this.error(_)})}next(i){this.forEachObserver(u=>{u.next(i)})}error(i){this.forEachObserver(u=>{u.error(i)}),this.close(i)}complete(){this.forEachObserver(i=>{i.complete()}),this.close()}subscribe(i,u,_){let a;if(void 0===i&&void 0===u&&void 0===_)throw new Error("Missing Observer.");a=function mt(c,i){if("object"!=typeof c||null===c)return!1;for(const u of i)if(u in c&&"function"==typeof c[u])return!0;return!1}(i,["next","error","complete"])?i:{next:i,error:u,complete:_},void 0===a.next&&(a.next=je),void 0===a.error&&(a.error=je),void 0===a.complete&&(a.complete=je);const f=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),f}unsubscribeOne(i){void 0===this.observers||void 0===this.observers[i]||(delete this.observers[i],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(i){if(!this.finalized)for(let u=0;u<this.observers.length;u++)this.sendOne(u,i)}sendOne(i,u){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[i])try{u(this.observers[i])}catch(_){typeof console<"u"&&console.error&&console.error(_)}})}close(i){this.finalized||(this.finalized=!0,void 0!==i&&(this.finalError=i),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function je(){}function De(c){return c&&c._delegate?c._delegate:c}},963:(it,Ee,k)=>{k.d(Ee,{BH:()=>ye,L:()=>O,LL:()=>Le,Sg:()=>_e,UG:()=>N,ZB:()=>x,ZR:()=>H,aH:()=>ee,b$:()=>oe,eu:()=>ue,hl:()=>z,jU:()=>Z,m9:()=>De,ne:()=>at,r3:()=>Ze,ru:()=>ae,vZ:()=>ot,w1:()=>ge,z$:()=>$,zI:()=>le});const X=function(c){const i=[];let u=0;for(let _=0;_<c.length;_++){let a=c.charCodeAt(_);a<128?i[u++]=a:a<2048?(i[u++]=a>>6|192,i[u++]=63&a|128):55296==(64512&a)&&_+1<c.length&&56320==(64512&c.charCodeAt(_+1))?(a=65536+((1023&a)<<10)+(1023&c.charCodeAt(++_)),i[u++]=a>>18|240,i[u++]=a>>12&63|128,i[u++]=a>>6&63|128,i[u++]=63&a|128):(i[u++]=a>>12|224,i[u++]=a>>6&63|128,i[u++]=63&a|128)}return i},Oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(c,i){if(!Array.isArray(c))throw Error("encodeByteArray takes an array as a parameter");this.init_();const u=i?this.byteToCharMapWebSafe_:this.byteToCharMap_,_=[];for(let a=0;a<c.length;a+=3){const f=c[a],p=a+1<c.length,A=p?c[a+1]:0,D=a+2<c.length,F=D?c[a+2]:0;let fe=(15&A)<<2|F>>6,Ne=63&F;D||(Ne=64,p||(fe=64)),_.push(u[f>>2],u[(3&f)<<4|A>>4],u[fe],u[Ne])}return _.join("")},encodeString(c,i){return this.HAS_NATIVE_SUPPORT&&!i?btoa(c):this.encodeByteArray(X(c),i)},decodeString(c,i){return this.HAS_NATIVE_SUPPORT&&!i?atob(c):function(c){const i=[];let u=0,_=0;for(;u<c.length;){const a=c[u++];if(a<128)i[_++]=String.fromCharCode(a);else if(a>191&&a<224){const f=c[u++];i[_++]=String.fromCharCode((31&a)<<6|63&f)}else if(a>239&&a<365){const D=((7&a)<<18|(63&c[u++])<<12|(63&c[u++])<<6|63&c[u++])-65536;i[_++]=String.fromCharCode(55296+(D>>10)),i[_++]=String.fromCharCode(56320+(1023&D))}else{const f=c[u++],p=c[u++];i[_++]=String.fromCharCode((15&a)<<12|(63&f)<<6|63&p)}}return i.join("")}(this.decodeStringToByteArray(c,i))},decodeStringToByteArray(c,i){this.init_();const u=i?this.charToByteMapWebSafe_:this.charToByteMap_,_=[];for(let a=0;a<c.length;){const f=u[c.charAt(a++)],A=a<c.length?u[c.charAt(a)]:0;++a;const F=a<c.length?u[c.charAt(a)]:64;++a;const M=a<c.length?u[c.charAt(a)]:64;if(++a,null==f||null==A||null==F||null==M)throw new be;_.push(f<<2|A>>4),64!==F&&(_.push(A<<4&240|F>>2),64!==M&&_.push(F<<6&192|M))}return _},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let c=0;c<this.ENCODED_VALS.length;c++)this.byteToCharMap_[c]=this.ENCODED_VALS.charAt(c),this.charToByteMap_[this.byteToCharMap_[c]]=c,this.byteToCharMapWebSafe_[c]=this.ENCODED_VALS_WEBSAFE.charAt(c),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[c]]=c,c>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(c)]=c,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(c)]=c)}}};class be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const O=function(c){return function(c){const i=X(c);return Oe.encodeByteArray(i,!0)}(c).replace(/\./g,"")};function x(c,i){if(!(i instanceof Object))return i;switch(i.constructor){case Date:return new Date(i.getTime());case Object:void 0===c&&(c={});break;case Array:c=[];break;default:return i}for(const u in i)!i.hasOwnProperty(u)||!j(u)||(c[u]=x(c[u],i[u]));return c}function j(c){return"__proto__"!==c}const L=()=>{try{return function ie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const c=process.env.__FIREBASE_DEFAULTS__;return c?JSON.parse(c):void 0})()||(()=>{if(typeof document>"u")return;let c;try{c=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const i=c&&function(c){try{return Oe.decodeString(c,!0)}catch(i){console.error("base64Decode failed: ",i)}return null}(c[1]);return i&&JSON.parse(i)})()}catch(c){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${c}`)}},ee=()=>{var c;return null===(c=L())||void 0===c?void 0:c.config};class ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((i,u)=>{this.resolve=i,this.reject=u})}wrapCallback(i){return(u,_)=>{u?this.reject(u):this.resolve(_),"function"==typeof i&&(this.promise.catch(()=>{}),1===i.length?i(u):i(u,_))}}}function _e(c,i){if(c.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const _=i||"demo-project",a=c.iat||0,f=c.sub||c.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p=Object.assign({iss:`https://securetoken.google.com/${_}`,aud:_,iat:a,exp:a+3600,auth_time:a,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},c);return[O(JSON.stringify({alg:"none",type:"JWT"})),O(JSON.stringify(p)),""].join(".")}function $(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function N(){var c;const i=null===(c=L())||void 0===c?void 0:c.forceEnvironment;if("node"===i)return!0;if("browser"===i)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Z(){return"object"==typeof self&&self.self===self}function ae(){const c="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof c&&void 0!==c.id}function oe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ge(){const c=$();return c.indexOf("MSIE ")>=0||c.indexOf("Trident/")>=0}function z(){try{return"object"==typeof indexedDB}catch{return!1}}function ue(){return new Promise((c,i)=>{try{let u=!0;const _="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(_);a.onsuccess=()=>{a.result.close(),u||self.indexedDB.deleteDatabase(_),c(!0)},a.onupgradeneeded=()=>{u=!1},a.onerror=()=>{var f;i((null===(f=a.error)||void 0===f?void 0:f.message)||"")}}catch(u){i(u)}})}function le(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class H extends Error{constructor(i,u,_){super(u),this.code=i,this.customData=_,this.name="FirebaseError",Object.setPrototypeOf(this,H.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Le.prototype.create)}}class Le{constructor(i,u,_){this.service=i,this.serviceName=u,this.errors=_}create(i,...u){const _=u[0]||{},a=`${this.service}/${i}`,f=this.errors[i],p=f?function Ge(c,i){return c.replace(st,(u,_)=>{const a=i[_];return null!=a?String(a):`<${_}?>`})}(f,_):"Error";return new H(a,`${this.serviceName}: ${p} (${a}).`,_)}}const st=/\{\$([^}]+)}/g;function Ze(c,i){return Object.prototype.hasOwnProperty.call(c,i)}function ot(c,i){if(c===i)return!0;const u=Object.keys(c),_=Object.keys(i);for(const a of u){if(!_.includes(a))return!1;const f=c[a],p=i[a];if(qe(f)&&qe(p)){if(!ot(f,p))return!1}else if(f!==p)return!1}for(const a of _)if(!u.includes(a))return!1;return!0}function qe(c){return null!==c&&"object"==typeof c}function at(c,i){const u=new Qe(c,i);return u.subscribe.bind(u)}class Qe{constructor(i,u){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=u,this.task.then(()=>{i(this)}).catch(_=>{this.error(_)})}next(i){this.forEachObserver(u=>{u.next(i)})}error(i){this.forEachObserver(u=>{u.error(i)}),this.close(i)}complete(){this.forEachObserver(i=>{i.complete()}),this.close()}subscribe(i,u,_){let a;if(void 0===i&&void 0===u&&void 0===_)throw new Error("Missing Observer.");a=function mt(c,i){if("object"!=typeof c||null===c)return!1;for(const u of i)if(u in c&&"function"==typeof c[u])return!0;return!1}(i,["next","error","complete"])?i:{next:i,error:u,complete:_},void 0===a.next&&(a.next=je),void 0===a.error&&(a.error=je),void 0===a.complete&&(a.complete=je);const f=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),f}unsubscribeOne(i){void 0===this.observers||void 0===this.observers[i]||(delete this.observers[i],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(i){if(!this.finalized)for(let u=0;u<this.observers.length;u++)this.sendOne(u,i)}sendOne(i,u){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[i])try{u(this.observers[i])}catch(_){typeof console<"u"&&console.error&&console.error(_)}})}close(i){this.finalized||(this.finalized=!0,void 0!==i&&(this.finalError=i),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function je(){}function De(c){return c&&c._delegate?c._delegate:c}},4867:(it,Ee,k)=>{k.d(Ee,{c:()=>g});var m=k(4664),w=k(4674);function g(X,pe){return(0,w.m)(pe)?(0,m.w)(()=>X,pe):(0,m.w)(()=>X)}},434:(it,Ee,k)=>{k.d(Ee,{L6:()=>he,Qv:()=>ee,_Q:()=>ye,f7:()=>E,lh:()=>$,nw:()=>N,rT:()=>_e,ww:()=>ae,zQ:()=>Z}),k(4015);var w=k(6814),g=k(9212),X=k(8326),pe=k(7217),Oe=k(8645),be=k(2096),se=k(5592),O=k(2459),b=k(3019),S=k(3093),x=k(4664),j=k(7398),ie=k(304),Ae=k(1374),de=k(4867),te=k(5137),L=k(2181),re=k(7142);const ee=new g.OlP("angularfire2.auth.use-emulator"),he=new g.OlP("angularfire2.auth.settings"),ye=new g.OlP("angularfire2.auth.tenant-id"),_e=new g.OlP("angularfire2.auth.langugage-code"),$=new g.OlP("angularfire2.auth.use-device-language"),E=new g.OlP("angularfire.auth.persistence"),N=(oe,xe,ge,Pe,B,K,z,ue)=>(0,pe.cc)(`${oe.name}.auth`,"AngularFireAuth",oe.name,()=>{const le=xe.runOutsideAngular(()=>oe.auth());if(ge&&le.useEmulator(...ge),Pe&&(le.tenantId=Pe),le.languageCode=B,K&&le.useDeviceLanguage(),z)for(const[J,H]of Object.entries(z))le.settings[J]=H;return ue&&le.setPersistence(ue),le},[ge,Pe,B,K,z,ue]);let Z=(()=>{class oe{authState;idToken;user;idTokenResult;credential;constructor(ge,Pe,B,K,z,ue,le,J,H,Le,Ge,st){const Re=new Oe.x,Ke=(0,be.of)(void 0).pipe((0,S.Q)(z.outsideAngular),(0,x.w)(()=>K.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,4015)))),(0,j.U)(()=>(0,pe.on)(ge,K,Pe)),(0,j.U)(ke=>N(ke,K,ue,J,H,Le,le,Ge)),(0,ie.d)({bufferSize:1,refCount:!1}));if((0,w.PM)(B))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,be.of)(null);else{Ke.pipe((0,Ae.P)()).subscribe();const ke=Ke.pipe((0,x.w)(Te=>Te.getRedirectResult().then(ze=>ze,()=>null)),X.iC,(0,ie.d)({bufferSize:1,refCount:!1})),Fe=Ke.pipe((0,x.w)(Te=>new se.y(ze=>({unsubscribe:K.runOutsideAngular(()=>Te.onAuthStateChanged(Ze=>ze.next(Ze),Ze=>ze.error(Ze),()=>ze.complete()))})))),pt=Ke.pipe((0,x.w)(Te=>new se.y(ze=>({unsubscribe:K.runOutsideAngular(()=>Te.onIdTokenChanged(Ze=>ze.next(Ze),Ze=>ze.error(Ze),()=>ze.complete()))}))));this.authState=ke.pipe((0,de.c)(Fe),(0,te.R)(z.outsideAngular),(0,S.Q)(z.insideAngular)),this.user=ke.pipe((0,de.c)(pt),(0,te.R)(z.outsideAngular),(0,S.Q)(z.insideAngular)),this.idToken=this.user.pipe((0,x.w)(Te=>Te?(0,O.D)(Te.getIdToken()):(0,be.of)(null))),this.idTokenResult=this.user.pipe((0,x.w)(Te=>Te?(0,O.D)(Te.getIdTokenResult()):(0,be.of)(null))),this.credential=(0,b.T)(ke,Re,this.authState.pipe((0,L.h)(Te=>!Te))).pipe((0,j.U)(Te=>Te?.user?Te:null),(0,te.R)(z.outsideAngular),(0,S.Q)(z.insideAngular))}return(0,pe.pX)(this,Ke,K,{spy:{apply:(ke,Fe,pt)=>{(ke.startsWith("signIn")||ke.startsWith("createUser"))&&pt.then(Te=>Re.next(Te))}}})}static \u0275fac=function(Pe){return new(Pe||oe)(g.LFG(pe.Dh),g.LFG(pe.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(X.HU),g.LFG(ee,8),g.LFG(he,8),g.LFG(ye,8),g.LFG(_e,8),g.LFG($,8),g.LFG(E,8),g.LFG(X.Rf,8))};static \u0275prov=g.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"any"})}return oe})(),ae=(()=>{class oe{constructor(){re.Z.registerVersion("angularfire",X.q4.full,"auth-compat")}static \u0275fac=function(Pe){return new(Pe||oe)};static \u0275mod=g.oAB({type:oe});static \u0275inj=g.cJS({providers:[Z]})}return oe})()},7217:(it,Ee,k)=>{k.d(Ee,{Dh:()=>se,GT:()=>Oe,cc:()=>ie,hO:()=>j,on:()=>b,pX:()=>pe,xv:()=>O});var m=k(9212),w=k(8326),g=k(7142);const X=["ngOnDestroy"],pe=(L,re,ne,ee={})=>new Proxy(L,{get:(he,ye)=>ne.runOutsideAngular(()=>{if(L[ye])return ee?.spy?.get&&ee.spy.get(ye,L[ye]),L[ye];if(X.indexOf(ye)>-1)return()=>{};const _e=re.toPromise().then($=>{const E=$?.[ye];return"function"==typeof E?E.bind($):E?.then?E.then(N=>ne.run(()=>N)):ne.run(()=>E)});return new Proxy(()=>{},{get:($,E)=>_e[E],apply:($,E,N)=>_e.then(Z=>{const ae=Z?.(...N);return ee?.spy?.apply&&ee.spy.apply(ye,N,ae),ae})})})}),Oe=(L,re)=>{re.forEach(ne=>{Object.getOwnPropertyNames(ne.prototype||ne).forEach(ee=>{Object.defineProperty(L.prototype,ee,Object.getOwnPropertyDescriptor(ne.prototype||ne,ee))})})};class be{constructor(re){return re}}const se=new m.OlP("angularfire2.app.options"),O=new m.OlP("angularfire2.app.name");function b(L,re,ne){const he="object"==typeof ne&&ne||{};he.name=he.name||"string"==typeof ne&&ne||"[DEFAULT]";const _e=g.Z.apps.filter($=>$&&$.name===he.name)[0]||re.runOutsideAngular(()=>g.Z.initializeApp(L,he));try{if(JSON.stringify(L)!==JSON.stringify(_e.options)){const $=!!module.hot;S("error",`${_e.name} Firebase App already initialized with different options${$?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new be(_e)}const S=(L,...re)=>{(0,m.X6Q)()&&typeof console<"u"&&console[L](...re)},x={provide:be,useFactory:b,deps:[se,m.R0b,[new m.FiY,O]]};let j=(()=>{class L{static initializeApp(ne,ee){return{ngModule:L,providers:[{provide:se,useValue:ne},{provide:O,useValue:ee}]}}constructor(ne){g.Z.registerVersion("angularfire",w.q4.full,"core"),g.Z.registerVersion("angularfire",w.q4.full,"app-compat"),g.Z.registerVersion("angular",m.q4F.full,ne.toString())}static \u0275fac=function(ee){return new(ee||L)(m.LFG(m.Lbi))};static \u0275mod=m.oAB({type:L});static \u0275inj=m.cJS({providers:[x]})}return L})();function ie(L,re,ne,ee,he){const[,ye,_e]=globalThis.\u0275AngularfireInstanceCache.find($=>$[0]===L)||[];if(ye)return function Ae(L,re){try{return L.toString()===re.toString()}catch{return L===re}}(he,_e)||(te("error",`${re} was already initialized on the ${ne} Firebase App with different settings.${de?" You may need to reload as Firebase is not HMR aware.":""}`),te("warn",{is:he,was:_e})),ye;{const $=ee();return globalThis.\u0275AngularfireInstanceCache.push([L,$,he]),$}}const de=typeof module<"u"&&!!module.hot,te=(L,...re)=>{(0,m.X6Q)()&&typeof console<"u"&&console[L](...re)};globalThis.\u0275AngularfireInstanceCache||=[]},8326:(it,Ee,k)=>{k.d(Ee,{q4:()=>Ae,iC:()=>oe,fc:()=>Z,HU:()=>_e,Rf:()=>re});var m=k(9212),w=k(9032);(0,w.registerVersion)("firebase","10.8.0","app");var pe=k(1954),be=k(2631);const O=new class se extends be.v{}(class Oe extends pe.o{constructor(K,z){super(K,z),this.scheduler=K,this.work=z}schedule(K,z=0){return z>0?super.schedule(K,z):(this.delay=z,this.state=K,this.scheduler.flush(this),this)}execute(K,z){return z>0||this.closed?super.execute(K,z):this._execute(K,z)}requestAsyncId(K,z,ue=0){return null!=ue&&ue>0||null==ue&&this.delay>0?super.requestAsyncId(K,z,ue):(K.flush(this),0)}});var S=k(6321),x=k(9397),j=k(3093),ie=k(5137);const Ae=new m.GfV("ANGULARFIRE2_VERSION");class re{constructor(){return((B,K)=>{const z=(0,w.getApps)(),ue=[];return z.forEach(le=>{le.container.getProvider(B).instances.forEach(H=>{ue.includes(H)||ue.push(H)})}),ue})(ne)}}const ne="app-check";function ee(){}class he{zone;delegate;constructor(K,z=O){this.zone=K,this.delegate=z}now(){return this.delegate.now()}schedule(K,z,ue){const le=this.zone;return this.delegate.schedule(function(H){le.runGuarded(()=>{K.apply(this,[H])})},z,ue)}}class ye{zone;task=null;constructor(K){this.zone=K}call(K,z){const ue=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ee,{},ee,ee)),z.pipe((0,x.b)({next:ue,complete:ue,error:ue})).subscribe(K).add(ue)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _e=(()=>{class B{ngZone;outsideAngular;insideAngular;constructor(z){this.ngZone=z,this.outsideAngular=z.runOutsideAngular(()=>new he(Zone.current)),this.insideAngular=z.run(()=>new he(Zone.current,S.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(ue){return new(ue||B)(m.LFG(m.R0b))};static \u0275prov=m.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"})}return B})();function $(){const B=globalThis.\u0275AngularFireScheduler;if(!B)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return B}function Z(B){return B.pipe((0,j.Q)($().outsideAngular))}function oe(B){return function xe(B){return function(z){return(z=z.lift(new ye(B.ngZone))).pipe((0,ie.R)(B.outsideAngular),(0,j.Q)(B.insideAngular))}}($())(B)}},4811:(it,Ee,k)=>{k.d(Ee,{Jn:()=>on,Xd:()=>Dt,KN:()=>Lt});var m=k(5861);const pe=function(l){const s=[];let h=0;for(let y=0;y<l.length;y++){let v=l.charCodeAt(y);v<128?s[h++]=v:v<2048?(s[h++]=v>>6|192,s[h++]=63&v|128):55296==(64512&v)&&y+1<l.length&&56320==(64512&l.charCodeAt(y+1))?(v=65536+((1023&v)<<10)+(1023&l.charCodeAt(++y)),s[h++]=v>>18|240,s[h++]=v>>12&63|128,s[h++]=v>>6&63|128,s[h++]=63&v|128):(s[h++]=v>>12|224,s[h++]=v>>6&63|128,s[h++]=63&v|128)}return s},be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(l,s){if(!Array.isArray(l))throw Error("encodeByteArray takes an array as a parameter");this.init_();const h=s?this.byteToCharMapWebSafe_:this.byteToCharMap_,y=[];for(let v=0;v<l.length;v+=3){const P=l[v],W=v+1<l.length,ce=W?l[v+1]:0,we=v+2<l.length,Ue=we?l[v+2]:0;let ft=(15&ce)<<2|Ue>>6,Ye=63&Ue;we||(Ye=64,W||(ft=64)),y.push(h[P>>2],h[(3&P)<<4|ce>>4],h[ft],h[Ye])}return y.join("")},encodeString(l,s){return this.HAS_NATIVE_SUPPORT&&!s?btoa(l):this.encodeByteArray(pe(l),s)},decodeString(l,s){return this.HAS_NATIVE_SUPPORT&&!s?atob(l):function(l){const s=[];let h=0,y=0;for(;h<l.length;){const v=l[h++];if(v<128)s[y++]=String.fromCharCode(v);else if(v>191&&v<224){const P=l[h++];s[y++]=String.fromCharCode((31&v)<<6|63&P)}else if(v>239&&v<365){const we=((7&v)<<18|(63&l[h++])<<12|(63&l[h++])<<6|63&l[h++])-65536;s[y++]=String.fromCharCode(55296+(we>>10)),s[y++]=String.fromCharCode(56320+(1023&we))}else{const P=l[h++],W=l[h++];s[y++]=String.fromCharCode((15&v)<<12|(63&P)<<6|63&W)}}return s.join("")}(this.decodeStringToByteArray(l,s))},decodeStringToByteArray(l,s){this.init_();const h=s?this.charToByteMapWebSafe_:this.charToByteMap_,y=[];for(let v=0;v<l.length;){const P=h[l.charAt(v++)],ce=v<l.length?h[l.charAt(v)]:0;++v;const Ue=v<l.length?h[l.charAt(v)]:64;++v;const Ce=v<l.length?h[l.charAt(v)]:64;if(++v,null==P||null==ce||null==Ue||null==Ce)throw new se;y.push(P<<2|ce>>4),64!==Ue&&(y.push(ce<<4&240|Ue>>2),64!==Ce&&y.push(Ue<<6&192|Ce))}return y},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let l=0;l<this.ENCODED_VALS.length;l++)this.byteToCharMap_[l]=this.ENCODED_VALS.charAt(l),this.charToByteMap_[this.byteToCharMap_[l]]=l,this.byteToCharMapWebSafe_[l]=this.ENCODED_VALS_WEBSAFE.charAt(l),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[l]]=l,l>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(l)]=l,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(l)]=l)}}};class se extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b=function(l){return function(l){const s=pe(l);return be.encodeByteArray(s,!0)}(l).replace(/\./g,"")};class Le extends Error{constructor(s,h,y){super(h),this.code=s,this.customData=y,this.name="FirebaseError",Object.setPrototypeOf(this,Le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ge.prototype.create)}}class Ge{constructor(s,h,y){this.service=s,this.serviceName=h,this.errors=y}create(s,...h){const y=h[0]||{},v=`${this.service}/${s}`,P=this.errors[s],W=P?function st(l,s){return l.replace(Re,(h,y)=>{const v=s[y];return null!=v?String(v):`<${y}?>`})}(P,y):"Error";return new Le(v,`${this.serviceName}: ${W} (${v}).`,y)}}const Re=/\{\$([^}]+)}/g;class i{constructor(s,h,y){this.name=s,this.instanceFactory=h,this.type=y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(s){return this.instantiationMode=s,this}setMultipleInstances(s){return this.multipleInstances=s,this}setServiceProps(s){return this.serviceProps=s,this}setInstanceCreatedCallback(s){return this.onInstanceCreated=s,this}}var A=k(7879);const D=(l,s)=>s.some(h=>l instanceof h);let F,q;const Ne=new WeakMap,$e=new WeakMap,ve=new WeakMap,nt=new WeakMap,Ot=new WeakMap;let Jt={get(l,s,h){if(l instanceof IDBTransaction){if("done"===s)return $e.get(l);if("objectStoreNames"===s)return l.objectStoreNames||ve.get(l);if("store"===s)return h.objectStoreNames[1]?void 0:h.objectStore(h.objectStoreNames[0])}return St(l[s])},set:(l,s,h)=>(l[s]=h,!0),has:(l,s)=>l instanceof IDBTransaction&&("done"===s||"store"===s)||s in l};function gn(l){return"function"==typeof l?function Jn(l){return l!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return q||(q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(l)?function(...s){return l.apply(Ht(this),s),St(Ne.get(this))}:function(...s){return St(l.apply(Ht(this),s))}:function(s,...h){const y=l.call(Ht(this),s,...h);return ve.set(y,s.sort?s.sort():[s]),St(y)}}(l):(l instanceof IDBTransaction&&function Ut(l){if($e.has(l))return;const s=new Promise((h,y)=>{const v=()=>{l.removeEventListener("complete",P),l.removeEventListener("error",W),l.removeEventListener("abort",W)},P=()=>{h(),v()},W=()=>{y(l.error||new DOMException("AbortError","AbortError")),v()};l.addEventListener("complete",P),l.addEventListener("error",W),l.addEventListener("abort",W)});$e.set(l,s)}(l),D(l,function M(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(l,Jt):l)}function St(l){if(l instanceof IDBRequest)return function _n(l){const s=new Promise((h,y)=>{const v=()=>{l.removeEventListener("success",P),l.removeEventListener("error",W)},P=()=>{h(St(l.result)),v()},W=()=>{y(l.error),v()};l.addEventListener("success",P),l.addEventListener("error",W)});return s.then(h=>{h instanceof IDBCursor&&Ne.set(h,l)}).catch(()=>{}),Ot.set(s,l),s}(l);if(nt.has(l))return nt.get(l);const s=gn(l);return s!==l&&(nt.set(l,s),Ot.set(s,l)),s}const Ht=l=>Ot.get(l),qt=["get","getKey","getAll","getAllKeys","count"],Yn=["put","add","delete","clear"],Yt=new Map;function vn(l,s){if(!(l instanceof IDBDatabase)||s in l||"string"!=typeof s)return;if(Yt.get(s))return Yt.get(s);const h=s.replace(/FromIndex$/,""),y=s!==h,v=Yn.includes(h);if(!(h in(y?IDBIndex:IDBObjectStore).prototype)||!v&&!qt.includes(h))return;const P=function(){var W=(0,m.Z)(function*(ce,...we){const Ue=this.transaction(ce,v?"readwrite":"readonly");let ct=Ue.store;return y&&(ct=ct.index(we.shift())),(yield Promise.all([ct[h](...we),v&&Ue.done]))[0]});return function(we){return W.apply(this,arguments)}}();return Yt.set(s,P),P}!function Kn(l){Jt=l(Jt)}(l=>({...l,get:(s,h,y)=>vn(s,h)||l.get(s,h,y),has:(s,h)=>!!vn(s,h)||l.has(s,h)}));class Me{constructor(s){this.container=s}getPlatformInfoString(){return this.container.getProviders().map(h=>{if(function yn(l){const s=l.getComponent();return"VERSION"===s?.type}(h)){const y=h.getImmediate();return`${y.library}/${y.version}`}return null}).filter(h=>h).join(" ")}}const Pt="@firebase/app",Et=new A.Yd("@firebase/app"),rn={[Pt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Rt=new Map,xt=new Map;function ur(l,s){try{l.container.addComponent(s)}catch(h){Et.debug(`Component ${s.name} failed to register with FirebaseApp ${l.name}`,h)}}function Dt(l){const s=l.name;if(xt.has(s))return Et.debug(`There were multiple attempts to register component ${s}.`),!1;xt.set(s,l);for(const h of Rt.values())ur(h,l);return!0}const ht=new Ge("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."}),on="9.23.0";function Lt(l,s,h){var y;let v=null!==(y=rn[l])&&void 0!==y?y:l;h&&(v+=`-${h}`);const P=v.match(/\s|\//),W=s.match(/\s|\//);if(P||W){const ce=[`Unable to register library "${v}" with version "${s}":`];return P&&ce.push(`library name "${v}" contains illegal characters (whitespace or "/")`),P&&W&&ce.push("and"),W&&ce.push(`version name "${s}" contains illegal characters (whitespace or "/")`),void Et.warn(ce.join(" "))}Dt(new i(`${v}-version`,()=>({library:v,version:s}),"VERSION"))}const cn="firebase-heartbeat-database",fr=1,rt="firebase-heartbeat-store";let un=null;function Gt(){return un||(un=function qn(l,s,{blocked:h,upgrade:y,blocking:v,terminated:P}={}){const W=indexedDB.open(l,s),ce=St(W);return y&&W.addEventListener("upgradeneeded",we=>{y(St(W.result),we.oldVersion,we.newVersion,St(W.transaction),we)}),h&&W.addEventListener("blocked",we=>h(we.oldVersion,we.newVersion,we)),ce.then(we=>{P&&we.addEventListener("close",()=>P()),v&&we.addEventListener("versionchange",Ue=>v(Ue.oldVersion,Ue.newVersion,Ue))}).catch(()=>{}),ce}(cn,fr,{upgrade:(l,s)=>{0===s&&l.createObjectStore(rt)}}).catch(l=>{throw ht.create("idb-open",{originalErrorMessage:l.message})})),un}function Bt(){return(Bt=(0,m.Z)(function*(l){try{return yield(yield Gt()).transaction(rt).objectStore(rt).get(kn(l))}catch(s){if(s instanceof Le)Et.warn(s.message);else{const h=ht.create("idb-get",{originalErrorMessage:s?.message});Et.warn(h.message)}}})).apply(this,arguments)}function Nn(l,s){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,m.Z)(function*(l,s){try{const y=(yield Gt()).transaction(rt,"readwrite");yield y.objectStore(rt).put(s,kn(l)),yield y.done}catch(h){if(h instanceof Le)Et.warn(h.message);else{const y=ht.create("idb-set",{originalErrorMessage:h?.message});Et.warn(y.message)}}})).apply(this,arguments)}function kn(l){return`${l.name}!${l.options.appId}`}class Nt{constructor(s){this.container=s,this._heartbeatsCache=null;const h=this.container.getProvider("app").getImmediate();this._storage=new Wt(h),this._heartbeatsCachePromise=this._storage.read().then(y=>(this._heartbeatsCache=y,y))}triggerHeartbeat(){var s=this;return(0,m.Z)(function*(){const y=s.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),v=xn();if(null===s._heartbeatsCache&&(s._heartbeatsCache=yield s._heartbeatsCachePromise),s._heartbeatsCache.lastSentHeartbeatDate!==v&&!s._heartbeatsCache.heartbeats.some(P=>P.date===v))return s._heartbeatsCache.heartbeats.push({date:v,agent:y}),s._heartbeatsCache.heartbeats=s._heartbeatsCache.heartbeats.filter(P=>{const W=new Date(P.date).valueOf();return Date.now()-W<=2592e6}),s._storage.overwrite(s._heartbeatsCache)})()}getHeartbeatsHeader(){var s=this;return(0,m.Z)(function*(){if(null===s._heartbeatsCache&&(yield s._heartbeatsCachePromise),null===s._heartbeatsCache||0===s._heartbeatsCache.heartbeats.length)return"";const h=xn(),{heartbeatsToSend:y,unsentEntries:v}=function _r(l,s=1024){const h=[];let y=l.slice();for(const v of l){const P=h.find(W=>W.agent===v.agent);if(P){if(P.dates.push(v.date),gr(h)>s){P.dates.pop();break}}else if(h.push({agent:v.agent,dates:[v.date]}),gr(h)>s){h.pop();break}y=y.slice(1)}return{heartbeatsToSend:h,unsentEntries:y}}(s._heartbeatsCache.heartbeats),P=b(JSON.stringify({version:2,heartbeats:y}));return s._heartbeatsCache.lastSentHeartbeatDate=h,v.length>0?(s._heartbeatsCache.heartbeats=v,yield s._storage.overwrite(s._heartbeatsCache)):(s._heartbeatsCache.heartbeats=[],s._storage.overwrite(s._heartbeatsCache)),P})()}}function xn(){return(new Date).toISOString().substring(0,10)}class Wt{constructor(s){this.app=s,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!function ue(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function le(){return new Promise((l,s)=>{try{let h=!0;const y="validate-browser-context-for-indexeddb-analytics-module",v=self.indexedDB.open(y);v.onsuccess=()=>{v.result.close(),h||self.indexedDB.deleteDatabase(y),l(!0)},v.onupgradeneeded=()=>{h=!1},v.onerror=()=>{var P;s((null===(P=v.error)||void 0===P?void 0:P.message)||"")}}catch(h){s(h)}})}().then(()=>!0).catch(()=>!1)})()}read(){var s=this;return(0,m.Z)(function*(){return(yield s._canUseIndexedDBPromise)&&(yield function pr(l){return Bt.apply(this,arguments)}(s.app))||{heartbeats:[]}})()}overwrite(s){var h=this;return(0,m.Z)(function*(){var y;if(yield h._canUseIndexedDBPromise){const P=yield h.read();return Nn(h.app,{lastSentHeartbeatDate:null!==(y=s.lastSentHeartbeatDate)&&void 0!==y?y:P.lastSentHeartbeatDate,heartbeats:s.heartbeats})}})()}add(s){var h=this;return(0,m.Z)(function*(){var y;if(yield h._canUseIndexedDBPromise){const P=yield h.read();return Nn(h.app,{lastSentHeartbeatDate:null!==(y=s.lastSentHeartbeatDate)&&void 0!==y?y:P.lastSentHeartbeatDate,heartbeats:[...P.heartbeats,...s.heartbeats]})}})()}}function gr(l){return b(JSON.stringify({version:2,heartbeats:l})).length}!function dn(l){Dt(new i("platform-logger",s=>new Me(s),"PRIVATE")),Dt(new i("heartbeat",s=>new Nt(s),"PRIVATE")),Lt(Pt,"0.9.13",l),Lt(Pt,"0.9.13","esm2017"),Lt("fire-js","")}("")},386:(it,Ee,k)=>{k.d(Ee,{wA:()=>w}),k(8963);class w{constructor(O,b,S){this.name=O,this.instanceFactory=b,this.type=S,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(O){return this.instantiationMode=O,this}setMultipleInstances(O){return this.multipleInstances=O,this}setServiceProps(O){return this.serviceProps=O,this}setInstanceCreatedCallback(O){return this.onInstanceCreated=O,this}}},7879:(it,Ee,k)=>{k.d(Ee,{Am:()=>O,Ub:()=>se,Yd:()=>be,in:()=>w});const m=[];var w=function(b){return b[b.DEBUG=0]="DEBUG",b[b.VERBOSE=1]="VERBOSE",b[b.INFO=2]="INFO",b[b.WARN=3]="WARN",b[b.ERROR=4]="ERROR",b[b.SILENT=5]="SILENT",b}(w||{});const g={debug:w.DEBUG,verbose:w.VERBOSE,info:w.INFO,warn:w.WARN,error:w.ERROR,silent:w.SILENT},X=w.INFO,pe={[w.DEBUG]:"log",[w.VERBOSE]:"log",[w.INFO]:"info",[w.WARN]:"warn",[w.ERROR]:"error"},Oe=(b,S,...x)=>{if(S<b.logLevel)return;const j=(new Date).toISOString(),ie=pe[S];if(!ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${S})`);console[ie](`[${j}]  ${b.name}:`,...x)};class be{constructor(S){this.name=S,this._logLevel=X,this._logHandler=Oe,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(S){if(!(S in w))throw new TypeError(`Invalid value "${S}" assigned to \`logLevel\``);this._logLevel=S}setLogLevel(S){this._logLevel="string"==typeof S?g[S]:S}get logHandler(){return this._logHandler}set logHandler(S){if("function"!=typeof S)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=S}get userLogHandler(){return this._userLogHandler}set userLogHandler(S){this._userLogHandler=S}debug(...S){this._userLogHandler&&this._userLogHandler(this,w.DEBUG,...S),this._logHandler(this,w.DEBUG,...S)}log(...S){this._userLogHandler&&this._userLogHandler(this,w.VERBOSE,...S),this._logHandler(this,w.VERBOSE,...S)}info(...S){this._userLogHandler&&this._userLogHandler(this,w.INFO,...S),this._logHandler(this,w.INFO,...S)}warn(...S){this._userLogHandler&&this._userLogHandler(this,w.WARN,...S),this._logHandler(this,w.WARN,...S)}error(...S){this._userLogHandler&&this._userLogHandler(this,w.ERROR,...S),this._logHandler(this,w.ERROR,...S)}}function se(b){m.forEach(S=>{S.setLogLevel(b)})}function O(b,S){for(const x of m){let j=null;S&&S.level&&(j=g[S.level]),x.userLogHandler=null===b?null:(ie,Ae,...de)=>{const te=de.map(L=>{if(null==L)return null;if("string"==typeof L)return L;if("number"==typeof L||"boolean"==typeof L)return L.toString();if(L instanceof Error)return L.message;try{return JSON.stringify(L)}catch{return null}}).filter(L=>L).join(" ");Ae>=(j??ie.logLevel)&&b({level:w[Ae].toLowerCase(),message:te,args:de,type:ie.name})}}}},7142:(it,Ee,k)=>{k.d(Ee,{Z:()=>m.Z});var m=k(8168);m.Z.registerVersion("firebase","10.8.0","app-compat")},4015:(it,Ee,k)=>{k.r(Ee);var m=k(5861),w=k(8168),g=k(4939),X=k(8963);function se(){return window}k(4811),k(7879),k(386);function S(){return S=(0,m.Z)(function*(a,f,p){var A;const{BuildInfo:D}=se();(0,g.au)(f.sessionId,"AuthEvent did not contain a session ID");const F=yield function L(a){return re.apply(this,arguments)}(f.sessionId),q={};return(0,g.av)()?q.ibi=D.packageName:(0,g.aw)()?q.apn=D.packageName:(0,g.ax)(a,"operation-not-supported-in-this-environment"),D.displayName&&(q.appDisplayName=D.displayName),q.sessionId=F,(0,g.ay)(a,p,f.type,void 0,null!==(A=f.eventId)&&void 0!==A?A:void 0,q)}),S.apply(this,arguments)}function j(){return(j=(0,m.Z)(function*(a){const{BuildInfo:f}=se(),p={};(0,g.av)()?p.iosBundleId=f.packageName:(0,g.aw)()?p.androidPackageName=f.packageName:(0,g.ax)(a,"operation-not-supported-in-this-environment"),yield(0,g.az)(a,p)})).apply(this,arguments)}function de(){return(de=(0,m.Z)(function*(a,f,p){const{cordova:A}=se();let D=()=>{};try{yield new Promise((F,q)=>{let M=null;function fe(){var ve;F();const nt=null===(ve=A.plugins.browsertab)||void 0===ve?void 0:ve.close;"function"==typeof nt&&nt(),"function"==typeof p?.close&&p.close()}function Ne(){M||(M=window.setTimeout(()=>{q((0,g.aB)(a,"redirect-cancelled-by-user"))},2e3))}function $e(){"visible"===document?.visibilityState&&Ne()}f.addPassiveListener(fe),document.addEventListener("resume",Ne,!1),(0,g.aw)()&&document.addEventListener("visibilitychange",$e,!1),D=()=>{f.removePassiveListener(fe),document.removeEventListener("resume",Ne,!1),document.removeEventListener("visibilitychange",$e,!1),M&&window.clearTimeout(M)}})}finally{D()}})).apply(this,arguments)}function re(){return(re=(0,m.Z)(function*(a){const f=function ne(a){if((0,g.au)(/[0-9a-zA-Z]+/.test(a),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(a);const f=new ArrayBuffer(a.length),p=new Uint8Array(f);for(let A=0;A<a.length;A++)p[A]=a.charCodeAt(A);return p}(a),p=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(p)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class he extends g.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(f)),super.onEvent(f)}initialized(){var f=this;return(0,m.Z)(function*(){yield f.initPromise})()}}function $(a){return E.apply(this,arguments)}function E(){return(E=(0,m.Z)(function*(a){const f=yield ae()._get(oe(a));return f&&(yield ae()._remove(oe(a))),f})).apply(this,arguments)}function Z(){const a=[];for(let p=0;p<20;p++){const A=Math.floor(62*Math.random());a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(A))}return a.join("")}function ae(){return(0,g.aE)(g.b)}function oe(a){return(0,g.aF)("authEvent",a.config.apiKey,a.name)}function Pe(a){if(!a?.includes("?"))return{};const[f,...p]=a.split("?");return(0,X.zd)(p.join("?"))}const z=class K{constructor(){this._redirectPersistence=g.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=g.aG,this._overrideRedirectResult=g.aH}_initialize(f){var p=this;return(0,m.Z)(function*(){const A=f._key();let D=p.eventManagers.get(A);return D||(D=new he(f),p.eventManagers.set(A,D),p.attachCallbackListeners(f,D)),D})()}_openPopup(f){(0,g.ax)(f,"operation-not-supported-in-this-environment")}_openRedirect(f,p,A,D){var F=this;return(0,m.Z)(function*(){!function te(a){var f,p,A,D,F,q,M,fe,Ne,$e;const ve=se();(0,g.aC)("function"==typeof(null===(f=ve?.universalLinks)||void 0===f?void 0:f.subscribe),a,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,g.aC)(typeof(null===(p=ve?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",a,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,g.aC)("function"==typeof(null===(F=null===(D=null===(A=ve?.cordova)||void 0===A?void 0:A.plugins)||void 0===D?void 0:D.browsertab)||void 0===F?void 0:F.openUrl),a,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,g.aC)("function"==typeof(null===(fe=null===(M=null===(q=ve?.cordova)||void 0===q?void 0:q.plugins)||void 0===M?void 0:M.browsertab)||void 0===fe?void 0:fe.isAvailable),a,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,g.aC)("function"==typeof(null===($e=null===(Ne=ve?.cordova)||void 0===Ne?void 0:Ne.InAppBrowser)||void 0===$e?void 0:$e.open),a,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const q=yield F._initialize(f);yield q.initialized(),q.resetRedirect(),(0,g.aI)(),yield F._originValidation(f);const M=function ye(a,f,p=null){return{type:f,eventId:p,urlResponse:null,sessionId:Z(),postBody:null,tenantId:a.tenantId,error:(0,g.aB)(a,"no-auth-event")}}(f,A,D);yield function _e(a,f){return ae()._set(oe(a),f)}(f,M);const fe=yield function b(a,f,p){return S.apply(this,arguments)}(f,M,p),Ne=yield function ie(a){const{cordova:f}=se();return new Promise(p=>{f.plugins.browsertab.isAvailable(A=>{let D=null;A?f.plugins.browsertab.openUrl(a):D=f.InAppBrowser.open(a,(0,g.aA)()?"_blank":"_system","location=yes"),p(D)})})}(fe);return function Ae(a,f,p){return de.apply(this,arguments)}(f,q,Ne)})()}_isIframeWebStorageSupported(f,p){throw new Error("Method not implemented.")}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function x(a){return j.apply(this,arguments)}(f)),this.originValidationPromises[p]}attachCallbackListeners(f,p){const{universalLinks:A,handleOpenURL:D,BuildInfo:F}=se(),q=setTimeout((0,m.Z)(function*(){yield $(f),p.onEvent(ue())}),500),M=function(){var $e=(0,m.Z)(function*(ve){clearTimeout(q);const nt=yield $(f);let Ot=null;nt&&ve?.url&&(Ot=function N(a,f){var p,A;const D=function ge(a){const f=Pe(a),p=f.link?decodeURIComponent(f.link):void 0,A=Pe(p).link,D=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Pe(D).link||D||A||p||a}(f);if(D.includes("/__/auth/callback")){const F=Pe(D),q=F.firebaseError?function xe(a){try{return JSON.parse(a)}catch{return null}}(decodeURIComponent(F.firebaseError)):null,M=null===(A=null===(p=q?.code)||void 0===p?void 0:p.split("auth/"))||void 0===A?void 0:A[1],fe=M?(0,g.aB)(M):null;return fe?{type:a.type,eventId:a.eventId,tenantId:a.tenantId,error:fe,urlResponse:null,sessionId:null,postBody:null}:{type:a.type,eventId:a.eventId,tenantId:a.tenantId,sessionId:a.sessionId,urlResponse:D,postBody:null}}return null}(nt,ve.url)),p.onEvent(Ot||ue())});return function(nt){return $e.apply(this,arguments)}}();typeof A<"u"&&"function"==typeof A.subscribe&&A.subscribe(null,M);const fe=D,Ne=`${F.packageName.toLowerCase()}://`;se().handleOpenURL=function(){var $e=(0,m.Z)(function*(ve){if(ve.toLowerCase().startsWith(Ne)&&M({url:ve}),"function"==typeof fe)try{fe(ve)}catch(nt){console.error(nt)}});return function(ve){return $e.apply(this,arguments)}}()}};function ue(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,g.aB)("no-auth-event")}}var J=k(3427),H=k(963);function Re(){var a;return(null===(a=self?.location)||void 0===a?void 0:a.protocol)||null}function ke(a=(0,H.z$)()){return!("file:"!==Re()&&"ionic:"!==Re()&&"capacitor:"!==Re()||!a.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ze(){try{const a=self.localStorage,f=g.aN();if(a)return a.setItem(f,"1"),a.removeItem(f),!function ze(a=(0,H.z$)()){return function pt(){return(0,H.w1)()&&11===document?.documentMode}()||function Te(a=(0,H.z$)()){return/Edge\/\d+/.test(a)}(a)}()||(0,H.hl)()}catch{return gt()&&(0,H.hl)()}return!1}function gt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function vt(){return(function Ke(){return"http:"===Re()||"https:"===Re()}()||(0,H.ru)()||ke())&&!function Fe(){return(0,H.b$)()||(0,H.UG)()}()&&Ze()&&!gt()}function lt(){return ke()&&typeof document<"u"}function qe(){return(qe=(0,m.Z)(function*(){return!!lt()&&new Promise(a=>{const f=setTimeout(()=>{a(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),a(!0)})})})).apply(this,arguments)}const Be={LOCAL:"local",NONE:"none",SESSION:"session"},dt=g.aC,Xe="persistence";function at(a){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,m.Z)(function*(a){yield a._initializationPromise;const f=mt(),p=g.aF(Xe,a.config.apiKey,a.name);f&&f.setItem(p,a._getPersistence())})).apply(this,arguments)}function mt(){var a;try{return(null===(a=function bt(){return typeof window<"u"?window:null}())||void 0===a?void 0:a.sessionStorage)||null}catch{return null}}const je=g.aC;class Ve{constructor(){this.browserResolver=g.aE(g.k),this.cordovaResolver=g.aE(z),this.underlyingResolver=null,this._redirectPersistence=g.a,this._completeRedirectFn=g.aG,this._overrideRedirectResult=g.aH}_initialize(f){var p=this;return(0,m.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,p,A,D){var F=this;return(0,m.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._openPopup(f,p,A,D)})()}_openRedirect(f,p,A,D){var F=this;return(0,m.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._openRedirect(f,p,A,D)})()}_isIframeWebStorageSupported(f,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,p)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return lt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return je(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,m.Z)(function*(){if(f.underlyingResolver)return;const p=yield function ot(){return qe.apply(this,arguments)}();f.underlyingResolver=p?f.cordovaResolver:f.browserResolver})()}}function Je(a){return a.unwrap()}function et(a){return Ct(a)}function Ct(a){const{_tokenResponse:f}=a instanceof H.ZR?a.customData:a;if(!f)return null;if(!(a instanceof H.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return g.P.credentialFromResult(a);const p=f.providerId;if(!p||p===g.p.PASSWORD)return null;let A;switch(p){case g.p.GOOGLE:A=g.X;break;case g.p.FACEBOOK:A=g.W;break;case g.p.GITHUB:A=g.Y;break;case g.p.TWITTER:A=g.$;break;default:const{oauthIdToken:D,oauthAccessToken:F,oauthTokenSecret:q,pendingToken:M,nonce:fe}=f;return F||q||D||M?M?p.startsWith("saml.")?g.aQ._create(p,M):g.N._fromParams({providerId:p,signInMethod:p,pendingToken:M,idToken:D,accessToken:F}):new g.Z(p).credential({idToken:D,accessToken:F,rawNonce:fe}):null}return a instanceof H.ZR?A.credentialFromError(a):A.credentialFromResult(a)}function We(a,f){return f.catch(p=>{throw p instanceof H.ZR&&function It(a,f){var p;const A=null===(p=f.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new V(a,g.as(a,f));else if(A){const D=Ct(f),F=f;D&&(F.credential=D,F.tenantId=A.tenantId||void 0,F.email=A.email||void 0,F.phoneNumber=A.phoneNumber||void 0)}}(a,p),p}).then(p=>{const D=p.user;return{operationType:p.operationType,credential:et(p),additionalUserInfo:g.aq(p),user:C.getOrCreate(D)}})}function _t(a,f){return tt.apply(this,arguments)}function tt(){return(tt=(0,m.Z)(function*(a,f){const p=yield f;return{verificationId:p.verificationId,confirm:A=>We(a,p.confirm(A))}})).apply(this,arguments)}class V{constructor(f,p){this.resolver=p,this.auth=function yt(a){return a.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return We(Je(this.auth),this.resolver.resolveSignIn(f))}}class C{constructor(f){this._delegate=f,this.multiFactor=g.at(f)}static getOrCreate(f){return C.USER_MAP.has(f)||C.USER_MAP.set(f,new C(f)),C.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var p=this;return(0,m.Z)(function*(){return We(p.auth,g.a2(p._delegate,f))})()}linkWithPhoneNumber(f,p){var A=this;return(0,m.Z)(function*(){return _t(A.auth,g.l(A._delegate,f,p))})()}linkWithPopup(f){var p=this;return(0,m.Z)(function*(){return We(p.auth,g.d(p._delegate,f,Ve))})()}linkWithRedirect(f){var p=this;return(0,m.Z)(function*(){return yield at(g.aJ(p.auth)),g.g(p._delegate,f,Ve)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var p=this;return(0,m.Z)(function*(){return We(p.auth,g.a3(p._delegate,f))})()}reauthenticateWithPhoneNumber(f,p){return _t(this.auth,g.r(this._delegate,f,p))}reauthenticateWithPopup(f){return We(this.auth,g.e(this._delegate,f,Ve))}reauthenticateWithRedirect(f){var p=this;return(0,m.Z)(function*(){return yield at(g.aJ(p.auth)),g.h(p._delegate,f,Ve)})()}sendEmailVerification(f){return g.ag(this._delegate,f)}unlink(f){var p=this;return(0,m.Z)(function*(){return yield g.ap(p._delegate,f),p})()}updateEmail(f){return g.al(this._delegate,f)}updatePassword(f){return g.am(this._delegate,f)}updatePhoneNumber(f){return g.u(this._delegate,f)}updateProfile(f){return g.ak(this._delegate,f)}verifyBeforeUpdateEmail(f,p){return g.ah(this._delegate,f,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}C.USER_MAP=new WeakMap;const U=g.aC;let Q=(()=>{class a{constructor(p,A){if(this.app=p,A.isInitialized())return this._delegate=A.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=p.options;U(D,"invalid-api-key",{appName:p.name}),U(D,"invalid-api-key",{appName:p.name});const F=typeof window<"u"?Ve:void 0;this._delegate=A.initialize({options:{persistence:Se(D,p.name),popupRedirectResolver:F}}),this._delegate._updateErrorMap(g.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?C.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,A){g.K(this._delegate,p,A)}applyActionCode(p){return g.a7(this._delegate,p)}checkActionCode(p){return g.a8(this._delegate,p)}confirmPasswordReset(p,A){return g.a6(this._delegate,p,A)}createUserWithEmailAndPassword(p,A){var D=this;return(0,m.Z)(function*(){return We(D._delegate,g.aa(D._delegate,p,A))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return g.af(this._delegate,p)}isSignInWithEmailLink(p){return g.ad(this._delegate,p)}getRedirectResult(){var p=this;return(0,m.Z)(function*(){U(vt(),p._delegate,"operation-not-supported-in-this-environment");const A=yield g.j(p._delegate,Ve);return A?We(p._delegate,Promise.resolve(A)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function le(a,f){(0,g.aJ)(a)._logFramework(f)}(this._delegate,p)}onAuthStateChanged(p,A,D){const{next:F,error:q,complete:M}=Ie(p,A,D);return this._delegate.onAuthStateChanged(F,q,M)}onIdTokenChanged(p,A,D){const{next:F,error:q,complete:M}=Ie(p,A,D);return this._delegate.onIdTokenChanged(F,q,M)}sendSignInLinkToEmail(p,A){return g.ac(this._delegate,p,A)}sendPasswordResetEmail(p,A){return g.a5(this._delegate,p,A||void 0)}setPersistence(p){var A=this;return(0,m.Z)(function*(){let D;switch(function At(a,f){dt(Object.values(Be).includes(f),a,"invalid-persistence-type"),(0,H.b$)()?dt(f!==Be.SESSION,a,"unsupported-persistence-type"):(0,H.UG)()?dt(f===Be.NONE,a,"unsupported-persistence-type"):gt()?dt(f===Be.NONE||f===Be.LOCAL&&(0,H.hl)(),a,"unsupported-persistence-type"):dt(f===Be.NONE||Ze(),a,"unsupported-persistence-type")}(A._delegate,p),p){case Be.SESSION:D=g.a;break;case Be.LOCAL:D=(yield g.aE(g.i)._isAvailable())?g.i:g.b;break;case Be.NONE:D=g.U;break;default:return g.ax("argument-error",{appName:A._delegate.name})}return A._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return We(this._delegate,g.a0(this._delegate))}signInWithCredential(p){return We(this._delegate,g.a1(this._delegate,p))}signInWithCustomToken(p){return We(this._delegate,g.a4(this._delegate,p))}signInWithEmailAndPassword(p,A){return We(this._delegate,g.ab(this._delegate,p,A))}signInWithEmailLink(p,A){return We(this._delegate,g.ae(this._delegate,p,A))}signInWithPhoneNumber(p,A){return _t(this._delegate,g.s(this._delegate,p,A))}signInWithPopup(p){var A=this;return(0,m.Z)(function*(){return U(vt(),A._delegate,"operation-not-supported-in-this-environment"),We(A._delegate,g.c(A._delegate,p,Ve))})()}signInWithRedirect(p){var A=this;return(0,m.Z)(function*(){return U(vt(),A._delegate,"operation-not-supported-in-this-environment"),yield at(A._delegate),g.f(A._delegate,p,Ve)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return g.a9(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return a.Persistence=Be,a})();function Ie(a,f,p){let A=a;"function"!=typeof a&&({next:A,error:f,complete:p}=a);const D=A;return{next:q=>D(q&&C.getOrCreate(q)),error:f,complete:p}}function Se(a,f){const p=function Tt(a,f){const p=mt();if(!p)return[];const A=g.aF(Xe,a,f);switch(p.getItem(A)){case Be.NONE:return[g.U];case Be.LOCAL:return[g.i,g.a];case Be.SESSION:return[g.a];default:return[]}}(a,f);if(typeof self<"u"&&!p.includes(g.i)&&p.push(g.i),typeof window<"u")for(const A of[g.b,g.a])p.includes(A)||p.push(A);return p.includes(g.U)||p.push(g.U),p}class De{constructor(){this.providerId="phone",this._delegate=new g.P(Je(w.Z.auth()))}static credential(f,p){return g.P.credential(f,p)}verifyPhoneNumber(f,p){return this._delegate.verifyPhoneNumber(f,p)}unwrap(){return this._delegate}}De.PHONE_SIGN_IN_METHOD=g.P.PHONE_SIGN_IN_METHOD,De.PROVIDER_ID=g.P.PROVIDER_ID;const c=g.aC;class i{constructor(f,p,A=w.Z.app()){var D;c(null===(D=A.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:A.name}),this._delegate=new g.R(A.auth(),f,p),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function _(a){a.INTERNAL.registerComponent(new J.wA("auth-compat",f=>{const p=f.getProvider("app-compat").getImmediate(),A=f.getProvider("auth");return new Q(p,A)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:g.A.EMAIL_SIGNIN,PASSWORD_RESET:g.A.PASSWORD_RESET,RECOVER_EMAIL:g.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:g.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:g.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:g.A.VERIFY_EMAIL}},EmailAuthProvider:g.V,FacebookAuthProvider:g.W,GithubAuthProvider:g.Y,GoogleAuthProvider:g.X,OAuthProvider:g.Z,SAMLAuthProvider:g._,PhoneAuthProvider:De,PhoneMultiFactorGenerator:g.m,RecaptchaVerifier:i,TwitterAuthProvider:g.$,Auth:Q,AuthCredential:g.L,Error:H.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),a.registerVersion("@firebase/auth-compat","0.5.2")}(w.Z)},8168:(it,Ee,k)=>{k.d(Ee,{Z:()=>Ae});var m=k(963),w=k(3427),g=k(9032),X=k(7879);class pe{constructor(te,L){this._delegate=te,this.firebase=L,(0,g._addComponent)(te,new w.wA("app-compat",()=>this,"PUBLIC")),this.container=te.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this._delegate.automaticDataCollectionEnabled=te}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(te=>{this._delegate.checkDestroyed(),te()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,g.deleteApp)(this._delegate)))}_getService(te,L=g._DEFAULT_ENTRY_NAME){var re;this._delegate.checkDestroyed();const ne=this._delegate.container.getProvider(te);return!ne.isInitialized()&&"EXPLICIT"===(null===(re=ne.getComponent())||void 0===re?void 0:re.instantiationMode)&&ne.initialize(),ne.getImmediate({identifier:L})}_removeServiceInstance(te,L=g._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(te).clearInstance(L)}_addComponent(te){(0,g._addComponent)(this._delegate,te)}_addOrOverwriteComponent(te){(0,g._addOrOverwriteComponent)(this._delegate,te)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),b=function O(){const de=function se(de){const te={},L={__esModule:!0,initializeApp:function ee($,E={}){const N=g.initializeApp($,E);if((0,m.r3)(te,N.name))return te[N.name];const Z=new de(N,L);return te[N.name]=Z,Z},app:ne,registerVersion:g.registerVersion,setLogLevel:g.setLogLevel,onLog:g.onLog,apps:null,SDK_VERSION:g.SDK_VERSION,INTERNAL:{registerComponent:function ye($){const E=$.name,N=E.replace("-compat","");if(g._registerComponent($)&&"PUBLIC"===$.type){const Z=(ae=ne())=>{if("function"!=typeof ae[N])throw be.create("invalid-app-argument",{appName:E});return ae[N]()};void 0!==$.serviceProps&&(0,m.ZB)(Z,$.serviceProps),L[N]=Z,de.prototype[N]=function(...ae){return this._getService.bind(this,E).apply(this,$.multipleInstances?ae:[])}}return"PUBLIC"===$.type?L[N]:null},removeApp:function re($){delete te[$]},useAsService:function _e($,E){return"serverAuth"===E?null:E},modularAPIs:g}};function ne($){if(!(0,m.r3)(te,$=$||g._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:$});return te[$]}return L.default=L,Object.defineProperty(L,"apps",{get:function he(){return Object.keys(te).map($=>te[$])}}),ne.App=de,L}(pe);return de.INTERNAL=Object.assign(Object.assign({},de.INTERNAL),{createFirebaseNamespace:O,extendNamespace:function te(L){(0,m.ZB)(de,L)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),de}(),S=new X.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){S.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const de=self.firebase.SDK_VERSION;de&&de.indexOf("LITE")>=0&&S.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=b;!function ie(de){(0,g.registerVersion)("@firebase/app-compat","0.2.27",de)}()},9032:(it,Ee,k)=>{k.r(Ee),k.d(Ee,{FirebaseError:()=>X.ZR,SDK_VERSION:()=>Te,_DEFAULT_ENTRY_NAME:()=>z,_addComponent:()=>H,_addOrOverwriteComponent:()=>Le,_apps:()=>le,_clearComponents:()=>Ke,_components:()=>J,_getProvider:()=>st,_registerComponent:()=>Ge,_removeServiceInstance:()=>Re,deleteApp:()=>vt,getApp:()=>Ze,getApps:()=>gt,initializeApp:()=>ze,onLog:()=>qe,registerVersion:()=>ot,setLogLevel:()=>bt});var m=k(5861),w=k(3427),g=k(7879),X=k(963),pe=k(8667);class Oe{constructor(C){this.container=C}getPlatformInfoString(){return this.container.getProviders().map(U=>{if(function be(V){const C=V.getComponent();return"VERSION"===C?.type}(U)){const Q=U.getImmediate();return`${Q.library}/${Q.version}`}return null}).filter(U=>U).join(" ")}}const se="@firebase/app",O="0.9.27",b=new g.Yd("@firebase/app"),z="[DEFAULT]",ue={[se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},le=new Map,J=new Map;function H(V,C){try{V.container.addComponent(C)}catch(U){b.debug(`Component ${C.name} failed to register with FirebaseApp ${V.name}`,U)}}function Le(V,C){V.container.addOrOverwriteComponent(C)}function Ge(V){const C=V.name;if(J.has(C))return b.debug(`There were multiple attempts to register component ${C}.`),!1;J.set(C,V);for(const U of le.values())H(U,V);return!0}function st(V,C){const U=V.container.getProvider("heartbeat").getImmediate({optional:!0});return U&&U.triggerHeartbeat(),V.container.getProvider(C)}function Re(V,C,U=z){st(V,C).clearInstance(U)}function Ke(){J.clear()}const Fe=new X.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class pt{constructor(C,U,Q){this._isDeleted=!1,this._options=Object.assign({},C),this._config=Object.assign({},U),this._name=U.name,this._automaticDataCollectionEnabled=U.automaticDataCollectionEnabled,this._container=Q,this.container.addComponent(new w.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(C){this.checkDestroyed(),this._automaticDataCollectionEnabled=C}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(C){this._isDeleted=C}checkDestroyed(){if(this.isDeleted)throw Fe.create("app-deleted",{appName:this._name})}}const Te="10.8.0";function ze(V,C={}){let U=V;"object"!=typeof C&&(C={name:C});const Q=Object.assign({name:z,automaticDataCollectionEnabled:!1},C),Ie=Q.name;if("string"!=typeof Ie||!Ie)throw Fe.create("bad-app-name",{appName:String(Ie)});if(U||(U=(0,X.aH)()),!U)throw Fe.create("no-options");const Se=le.get(Ie);if(Se){if((0,X.vZ)(U,Se.options)&&(0,X.vZ)(Q,Se.config))return Se;throw Fe.create("duplicate-app",{appName:Ie})}const De=new w.H0(Ie);for(const i of J.values())De.addComponent(i);const c=new pt(U,Q,De);return le.set(Ie,c),c}function Ze(V=z){const C=le.get(V);if(!C&&V===z&&(0,X.aH)())return ze();if(!C)throw Fe.create("no-app",{appName:V});return C}function gt(){return Array.from(le.values())}function vt(V){return lt.apply(this,arguments)}function lt(){return(lt=(0,m.Z)(function*(V){const C=V.name;le.has(C)&&(le.delete(C),yield Promise.all(V.container.getProviders().map(U=>U.delete())),V.isDeleted=!0)})).apply(this,arguments)}function ot(V,C,U){var Q;let Ie=null!==(Q=ue[V])&&void 0!==Q?Q:V;U&&(Ie+=`-${U}`);const Se=Ie.match(/\s|\//),De=C.match(/\s|\//);if(Se||De){const c=[`Unable to register library "${Ie}" with version "${C}":`];return Se&&c.push(`library name "${Ie}" contains illegal characters (whitespace or "/")`),Se&&De&&c.push("and"),De&&c.push(`version name "${C}" contains illegal characters (whitespace or "/")`),void b.warn(c.join(" "))}Ge(new w.wA(`${Ie}-version`,()=>({library:Ie,version:C}),"VERSION"))}function qe(V,C){if(null!==V&&"function"!=typeof V)throw Fe.create("invalid-log-argument");(0,g.Am)(V,C)}function bt(V){(0,g.Ub)(V)}const Be="firebase-heartbeat-database",dt=1,Xe="firebase-heartbeat-store";let At=null;function at(){return At||(At=(0,pe.X3)(Be,dt,{upgrade:(V,C)=>{if(0===C)try{V.createObjectStore(Xe)}catch(U){console.warn(U)}}}).catch(V=>{throw Fe.create("idb-open",{originalErrorMessage:V.message})})),At}function Tt(){return(Tt=(0,m.Z)(function*(V){try{const U=(yield at()).transaction(Xe),Q=yield U.objectStore(Xe).get(Ve(V));return yield U.done,Q}catch(C){if(C instanceof X.ZR)b.warn(C.message);else{const U=Fe.create("idb-get",{originalErrorMessage:C?.message});b.warn(U.message)}}})).apply(this,arguments)}function mt(V,C){return je.apply(this,arguments)}function je(){return(je=(0,m.Z)(function*(V,C){try{const Q=(yield at()).transaction(Xe,"readwrite");yield Q.objectStore(Xe).put(C,Ve(V)),yield Q.done}catch(U){if(U instanceof X.ZR)b.warn(U.message);else{const Q=Fe.create("idb-set",{originalErrorMessage:U?.message});b.warn(Q.message)}}})).apply(this,arguments)}function Ve(V){return`${V.name}!${V.options.appId}`}class et{constructor(C){this.container=C,this._heartbeatsCache=null;const U=this.container.getProvider("app").getImmediate();this._storage=new We(U),this._heartbeatsCachePromise=this._storage.read().then(Q=>(this._heartbeatsCache=Q,Q))}triggerHeartbeat(){var C=this;return(0,m.Z)(function*(){var U,Q;const Se=C.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),De=It();if((null!=(null===(U=C._heartbeatsCache)||void 0===U?void 0:U.heartbeats)||(C._heartbeatsCache=yield C._heartbeatsCachePromise,null!=(null===(Q=C._heartbeatsCache)||void 0===Q?void 0:Q.heartbeats)))&&C._heartbeatsCache.lastSentHeartbeatDate!==De&&!C._heartbeatsCache.heartbeats.some(c=>c.date===De))return C._heartbeatsCache.heartbeats.push({date:De,agent:Se}),C._heartbeatsCache.heartbeats=C._heartbeatsCache.heartbeats.filter(c=>{const i=new Date(c.date).valueOf();return Date.now()-i<=2592e6}),C._storage.overwrite(C._heartbeatsCache)})()}getHeartbeatsHeader(){var C=this;return(0,m.Z)(function*(){var U;if(null===C._heartbeatsCache&&(yield C._heartbeatsCachePromise),null==(null===(U=C._heartbeatsCache)||void 0===U?void 0:U.heartbeats)||0===C._heartbeatsCache.heartbeats.length)return"";const Q=It(),{heartbeatsToSend:Ie,unsentEntries:Se}=function Ct(V,C=1024){const U=[];let Q=V.slice();for(const Ie of V){const Se=U.find(De=>De.agent===Ie.agent);if(Se){if(Se.dates.push(Ie.date),_t(U)>C){Se.dates.pop();break}}else if(U.push({agent:Ie.agent,dates:[Ie.date]}),_t(U)>C){U.pop();break}Q=Q.slice(1)}return{heartbeatsToSend:U,unsentEntries:Q}}(C._heartbeatsCache.heartbeats),De=(0,X.L)(JSON.stringify({version:2,heartbeats:Ie}));return C._heartbeatsCache.lastSentHeartbeatDate=Q,Se.length>0?(C._heartbeatsCache.heartbeats=Se,yield C._storage.overwrite(C._heartbeatsCache)):(C._heartbeatsCache.heartbeats=[],C._storage.overwrite(C._heartbeatsCache)),De})()}}function It(){return(new Date).toISOString().substring(0,10)}class We{constructor(C){this.app=C,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,X.hl)()&&(0,X.eu)().then(()=>!0).catch(()=>!1)})()}read(){var C=this;return(0,m.Z)(function*(){if(yield C._canUseIndexedDBPromise){const Q=yield function Qe(V){return Tt.apply(this,arguments)}(C.app);return Q?.heartbeats?Q:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(C){var U=this;return(0,m.Z)(function*(){var Q;if(yield U._canUseIndexedDBPromise){const Se=yield U.read();return mt(U.app,{lastSentHeartbeatDate:null!==(Q=C.lastSentHeartbeatDate)&&void 0!==Q?Q:Se.lastSentHeartbeatDate,heartbeats:C.heartbeats})}})()}add(C){var U=this;return(0,m.Z)(function*(){var Q;if(yield U._canUseIndexedDBPromise){const Se=yield U.read();return mt(U.app,{lastSentHeartbeatDate:null!==(Q=C.lastSentHeartbeatDate)&&void 0!==Q?Q:Se.lastSentHeartbeatDate,heartbeats:[...Se.heartbeats,...C.heartbeats]})}})()}}function _t(V){return(0,X.L)(JSON.stringify({version:2,heartbeats:V})).length}!function tt(V){Ge(new w.wA("platform-logger",C=>new Oe(C),"PRIVATE")),Ge(new w.wA("heartbeat",C=>new et(C),"PRIVATE")),ot(se,O,V),ot(se,O,"esm2017"),ot("fire-js","")}("")},3427:(it,Ee,k)=>{k.d(Ee,{H0:()=>se,wA:()=>g});var m=k(5861),w=k(963);class g{constructor(b,S,x){this.name=b,this.instanceFactory=S,this.type=x,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(b){return this.instantiationMode=b,this}setMultipleInstances(b){return this.multipleInstances=b,this}setServiceProps(b){return this.serviceProps=b,this}setInstanceCreatedCallback(b){return this.onInstanceCreated=b,this}}const X="[DEFAULT]";class pe{constructor(b,S){this.name=b,this.container=S,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(b){const S=this.normalizeInstanceIdentifier(b);if(!this.instancesDeferred.has(S)){const x=new w.BH;if(this.instancesDeferred.set(S,x),this.isInitialized(S)||this.shouldAutoInitialize())try{const j=this.getOrInitializeService({instanceIdentifier:S});j&&x.resolve(j)}catch{}}return this.instancesDeferred.get(S).promise}getImmediate(b){var S;const x=this.normalizeInstanceIdentifier(b?.identifier),j=null!==(S=b?.optional)&&void 0!==S&&S;if(!this.isInitialized(x)&&!this.shouldAutoInitialize()){if(j)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:x})}catch(ie){if(j)return null;throw ie}}getComponent(){return this.component}setComponent(b){if(b.name!==this.name)throw Error(`Mismatching Component ${b.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=b,this.shouldAutoInitialize()){if(function be(O){return"EAGER"===O.instantiationMode}(b))try{this.getOrInitializeService({instanceIdentifier:X})}catch{}for(const[S,x]of this.instancesDeferred.entries()){const j=this.normalizeInstanceIdentifier(S);try{const ie=this.getOrInitializeService({instanceIdentifier:j});x.resolve(ie)}catch{}}}}clearInstance(b=X){this.instancesDeferred.delete(b),this.instancesOptions.delete(b),this.instances.delete(b)}delete(){var b=this;return(0,m.Z)(function*(){const S=Array.from(b.instances.values());yield Promise.all([...S.filter(x=>"INTERNAL"in x).map(x=>x.INTERNAL.delete()),...S.filter(x=>"_delete"in x).map(x=>x._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(b=X){return this.instances.has(b)}getOptions(b=X){return this.instancesOptions.get(b)||{}}initialize(b={}){const{options:S={}}=b,x=this.normalizeInstanceIdentifier(b.instanceIdentifier);if(this.isInitialized(x))throw Error(`${this.name}(${x}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const j=this.getOrInitializeService({instanceIdentifier:x,options:S});for(const[ie,Ae]of this.instancesDeferred.entries())x===this.normalizeInstanceIdentifier(ie)&&Ae.resolve(j);return j}onInit(b,S){var x;const j=this.normalizeInstanceIdentifier(S),ie=null!==(x=this.onInitCallbacks.get(j))&&void 0!==x?x:new Set;ie.add(b),this.onInitCallbacks.set(j,ie);const Ae=this.instances.get(j);return Ae&&b(Ae,j),()=>{ie.delete(b)}}invokeOnInitCallbacks(b,S){const x=this.onInitCallbacks.get(S);if(x)for(const j of x)try{j(b,S)}catch{}}getOrInitializeService({instanceIdentifier:b,options:S={}}){let x=this.instances.get(b);if(!x&&this.component&&(x=this.component.instanceFactory(this.container,{instanceIdentifier:(O=b,O===X?void 0:O),options:S}),this.instances.set(b,x),this.instancesOptions.set(b,S),this.invokeOnInitCallbacks(x,b),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,b,x)}catch{}var O;return x||null}normalizeInstanceIdentifier(b=X){return this.component?this.component.multipleInstances?b:X:b}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class se{constructor(b){this.name=b,this.providers=new Map}addComponent(b){const S=this.getProvider(b.name);if(S.isComponentSet())throw new Error(`Component ${b.name} has already been registered with ${this.name}`);S.setComponent(b)}addOrOverwriteComponent(b){this.getProvider(b.name).isComponentSet()&&this.providers.delete(b.name),this.addComponent(b)}getProvider(b){if(this.providers.has(b))return this.providers.get(b);const S=new pe(b,this);return this.providers.set(b,S),S}getProviders(){return Array.from(this.providers.values())}}},8667:(it,Ee,k)=>{k.d(Ee,{Lj:()=>ee,X3:()=>ne});var m=k(5861);const w=(E,N)=>N.some(Z=>E instanceof Z);let g,X;const be=new WeakMap,se=new WeakMap,O=new WeakMap,b=new WeakMap,S=new WeakMap;let ie={get(E,N,Z){if(E instanceof IDBTransaction){if("done"===N)return se.get(E);if("objectStoreNames"===N)return E.objectStoreNames||O.get(E);if("store"===N)return Z.objectStoreNames[1]?void 0:Z.objectStore(Z.objectStoreNames[0])}return L(E[N])},set:(E,N,Z)=>(E[N]=Z,!0),has:(E,N)=>E instanceof IDBTransaction&&("done"===N||"store"===N)||N in E};function te(E){return"function"==typeof E?function de(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Oe(){return X||(X=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...N){return E.apply(re(this),N),L(be.get(this))}:function(...N){return L(E.apply(re(this),N))}:function(N,...Z){const ae=E.call(re(this),N,...Z);return O.set(ae,N.sort?N.sort():[N]),L(ae)}}(E):(E instanceof IDBTransaction&&function j(E){if(se.has(E))return;const N=new Promise((Z,ae)=>{const oe=()=>{E.removeEventListener("complete",xe),E.removeEventListener("error",ge),E.removeEventListener("abort",ge)},xe=()=>{Z(),oe()},ge=()=>{ae(E.error||new DOMException("AbortError","AbortError")),oe()};E.addEventListener("complete",xe),E.addEventListener("error",ge),E.addEventListener("abort",ge)});se.set(E,N)}(E),w(E,function pe(){return g||(g=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,ie):E)}function L(E){if(E instanceof IDBRequest)return function x(E){const N=new Promise((Z,ae)=>{const oe=()=>{E.removeEventListener("success",xe),E.removeEventListener("error",ge)},xe=()=>{Z(L(E.result)),oe()},ge=()=>{ae(E.error),oe()};E.addEventListener("success",xe),E.addEventListener("error",ge)});return N.then(Z=>{Z instanceof IDBCursor&&be.set(Z,E)}).catch(()=>{}),S.set(N,E),N}(E);if(b.has(E))return b.get(E);const N=te(E);return N!==E&&(b.set(E,N),S.set(N,E)),N}const re=E=>S.get(E);function ne(E,N,{blocked:Z,upgrade:ae,blocking:oe,terminated:xe}={}){const ge=indexedDB.open(E,N),Pe=L(ge);return ae&&ge.addEventListener("upgradeneeded",B=>{ae(L(ge.result),B.oldVersion,B.newVersion,L(ge.transaction),B)}),Z&&ge.addEventListener("blocked",B=>Z(B.oldVersion,B.newVersion,B)),Pe.then(B=>{xe&&B.addEventListener("close",()=>xe()),oe&&B.addEventListener("versionchange",K=>oe(K.oldVersion,K.newVersion,K))}).catch(()=>{}),Pe}function ee(E,{blocked:N}={}){const Z=indexedDB.deleteDatabase(E);return N&&Z.addEventListener("blocked",ae=>N(ae.oldVersion,ae)),L(Z).then(()=>{})}const he=["get","getKey","getAll","getAllKeys","count"],ye=["put","add","delete","clear"],_e=new Map;function $(E,N){if(!(E instanceof IDBDatabase)||N in E||"string"!=typeof N)return;if(_e.get(N))return _e.get(N);const Z=N.replace(/FromIndex$/,""),ae=N!==Z,oe=ye.includes(Z);if(!(Z in(ae?IDBIndex:IDBObjectStore).prototype)||!oe&&!he.includes(Z))return;const xe=function(){var ge=(0,m.Z)(function*(Pe,...B){const K=this.transaction(Pe,oe?"readwrite":"readonly");let z=K.store;return ae&&(z=z.index(B.shift())),(yield Promise.all([z[Z](...B),oe&&K.done]))[0]});return function(B){return ge.apply(this,arguments)}}();return _e.set(N,xe),xe}!function Ae(E){ie=E(ie)}(E=>({...E,get:(N,Z,ae)=>$(N,Z)||E.get(N,Z,ae),has:(N,Z)=>!!$(N,Z)||E.has(N,Z)}))}}]);