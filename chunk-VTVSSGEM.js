import{a as g}from"./chunk-M5PFS4RI.js";import{$ as d,Bc as u,Cc as f,Rc as p,Tc as y,Y as h,oc as m}from"./chunk-OUJ3NISO.js";var b=class l{constructor(e,t){this.titleService=e;this.metaService=t;this.domAdapter=m()}domAdapter;getDocument(){return this.domAdapter.getDefaultDocument()}getBaseHref(){return(this.domAdapter.getBaseHref(document)||"/").replace(/\/$/,"")}setTitle(e){this.titleService.setTitle(e)}getTitle(){return this.titleService.getTitle()}scrollToTop(){window.scrollTo({top:0,left:0,behavior:"smooth"})}scrollIntoView(e){let r=this.getDocument().getElementById(e);return r?(r.scrollIntoView(!0),!0):!1}purgeOpenGraph(){for(let e of["og:title","og:type","og:url","og:description","og:site_name","og:image"])this.purgeOpenGraphTag(e)}purgeOpenGraphTag(e){this.metaService.removeTag(`property="${e}"`)}getOpenGraphTag(e){return this.metaService.getTag(`property="${e}"`)}refreshOpenGraphTag(e,t){let r=this.getOpenGraphTag(e);r||(r=this.metaService.addTag({property:e},!0)),r.content=t}updateOpenGraph(e,t,r,i,o,n){this.refreshOpenGraphTag("og:title",e),this.refreshOpenGraphTag("og:type",t),this.refreshOpenGraphTag("og:url",r),this.refreshOpenGraphTag("og:description",i),n?this.refreshOpenGraphTag("og:site_name",n):this.purgeOpenGraphTag("og:site_name"),o?this.refreshOpenGraphTag("og:image",o):this.purgeOpenGraphTag("og:image")}purgeDescription(){this.metaService.removeTag('name="description"')}refreshDescription(e){let t=this.metaService.getTag('name="description"');t||(t=this.metaService.addTag({name:"description"},!0)),t.content=e}getHeadElement(){let r=this.domAdapter.getDefaultDocument().getElementsByTagName("head");return r.length===0?(y("html header to apply stylesheet NOT found. But not raise error."),null):r[0]}cleanupOverrideStyle(e){let t=this.getHeadElement();if(!t)return;let r=t.getElementsByClassName(e);for(;0<r.length;){let i=r[0];t.removeChild(i)}}overrideBasicStyle(e){let t=this.getHeadElement();if(!t)return null;let r="ghpages-spa-style_"+g(10),i=this.domAdapter.getDefaultDocument(),o=t.getElementsByClassName(r),n=[],a=0;for(;a<o.length;){let c=o[a],s=c.getAttribute("href");s&&e.indexOf(s)>=0?(n.push(s),a++):t.removeChild(c)}for(let c of e){if(n.indexOf(c)>=0)continue;let s=i.createElement("link");s.setAttribute("rel","stylesheet"),s.setAttribute("href",c),s.setAttribute("media","screen"),s.setAttribute("class",r),t.appendChild(s)}return r}dynamicScripts={};ensureDynamicScript(e,t){let r=this.getHeadElement();if(!r)throw new Error(`Failed to append script ${e}`);for(let a in this.dynamicScripts)if(this.dynamicScripts[a].getAttribute("src")===e)return p(`DOM already has script on ${e} `),a;let i=g(20),n=this.domAdapter.getDefaultDocument().createElement("script");return n.setAttribute("src",e),t?.isAsync&&(n.async=!0),r.appendChild(n),this.dynamicScripts[i]=n,p(`New script ${e} is append on DOM as id:${i}.`),i}removeDynamicScript(e){let t=this.getHeadElement();if(!t||!(e in this.dynamicScripts))return;let r=this.dynamicScripts[e];t.removeChild(r),delete this.dynamicScripts[e],p(`Script id:${e} was removed from DOM`)}addFeedLink(e){let t=this.getHeadElement();if(!t)throw new Error(`Failed to append feed ${e.href}`);let i=this.domAdapter.getDefaultDocument().createElement("link");i.setAttribute("href",e.href),i.setAttribute("rel","alternate"),i.setAttribute("type",e.contentType),i.setAttribute("title",e.title),t.appendChild(i)}addResourceHint(e,t,r){let i=this.getHeadElement();if(!i)return;let n=this.domAdapter.getDefaultDocument().createElement("link");n.setAttribute("href",e),n.setAttribute("rel",t),r&&n.setAttribute("crossorigin",r),i.appendChild(n)}static \u0275fac=function(t){return new(t||l)(d(f),d(u))};static \u0275prov=h({token:l,factory:l.\u0275fac,providedIn:"root"})};export{b as a};
