"use strict";(self.webpackChunkKaguraGithubPages=self.webpackChunkKaguraGithubPages||[]).push([[528],{5528:(Ht,E,c)=>{c.r(E),c.d(E,{CommentEntryComponent:()=>Kt});var _=c(1528),k=c(8476),r=c(6716),t=c(4496),p=c(4304),$=c(256),C=c(2112),v=c(8472),g=c(4400),l=c(1368),f=c(496),x=c(6520),A=c(3616),D=c(7368),I=c(4704),F=c(5657),y=c(2700),h=c(2980),O=c(6016),d=c(6504),T=c(6684),w=c(5192);function B(n,s){if(1&n){const e=t.KQA();t.I0R(0,"div",9)(1,"button",10),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.onClickDismiss())}),t.I0R(2,"span",11),t.OEk(3,"\xd7"),t.C$Y()()()}}function R(n,s){1&n&&(t.I0R(0,"div",12),t.OEk(1,"OK!"),t.C$Y())}function b(n,s){1&n&&(t.I0R(0,"div",14),t.OEk(1,"\u5165\u529b\u5fc5\u9808\u3067\u3059\u3002"),t.C$Y())}function Y(n,s){1&n&&(t.I0R(0,"div",14),t.OEk(1,"\u9577\u3059\u304e\u307e\u3059\u3002"),t.C$Y())}function L(n,s){1&n&&(t.I0R(0,"div",14),t.OEk(1,"\u77ed\u3059\u304e\u307e\u3059\u3002"),t.C$Y())}function P(n,s){if(1&n&&(t.SAx(0),t.yuY(1,b,2,0,"div",13)(2,Y,2,0,"div",13)(3,L,2,0,"div",13),t.k70()),2&n){const e=t.GaO();t.yG2(),t.E7m("ngIf",null==e.textareaControl.errors?null:e.textareaControl.errors.required),t.yG2(),t.E7m("ngIf",null==e.textareaControl.errors?null:e.textareaControl.errors.maxlength),t.yG2(),t.E7m("ngIf",null==e.textareaControl.errors?null:e.textareaControl.errors.minlength)}}let G=(()=>{class n{user;auth;toastr;funcs;tos;editModel;pageId;showDismiss=!1;replyId;requestSent=new t._w7;editDismiss=new t._w7;inputForm;constructor(e,o,i,u,m){this.user=e,this.auth=o,this.toastr=i,this.funcs=u,this.tos=m}get textareaControl(){return this.inputForm.get("commentText")}ngOnInit(){(0,r.qe)("CommentEditorComponent.OnInit()"),this.inputForm=new d.WC({}),this.inputForm.addControl("commentText",new d.Ku(this.editModel?this.editModel.message:null,[d.AQ.required]))}onClickDismiss(){(0,r.qe)("CommentEditorComponent.onClickDismiss()"),this.editDismiss.emit()}doNewPost(){var e=this;return(0,_.c)(function*(){const o={message:e.textareaControl.value,pageId:e.pageId,replyId:e.replyId};return yield e.funcs.call("postComment",o)})()}doUpdatePost(e){var o=this;return(0,_.c)(function*(){const i={pageId:o.pageId,commentId:e.id,message:o.textareaControl.value};return yield o.funcs.call("editComment",i)})()}onClickPostComment(){var e=this;(0,r.qe)("CommentEditorComponent.onClickPostComment()"),!this.inputForm.invalid&&(this.textareaControl.invalid||this.tos.confirmTos$(`${this.auth.myUid}/commentAgreement`,r.OU.CommentServiceTosUrl).pipe((0,T.I)(o=>o)).subscribe(function(){var o=(0,_.c)(function*(i){e.inputForm.disable();try{e.editModel?yield e.doUpdatePost(e.editModel):yield e.doNewPost(),e.toastr.info("\u6295\u7a3f\u3057\u307e\u3057\u305f\u3002(\u627f\u8a8d\u3055\u308c\u308b\u307e\u3067\u4ed6\u306e\u4eba\u306b\u306f\u8868\u793a\u3055\u308c\u307e\u305b\u3093\u3002)"),e.textareaControl.setValue(""),e.inputForm.markAsPristine(),e.inputForm.markAsUntouched(),e.requestSent.emit()}catch(u){e.toastr.error("message"in u?`\u6295\u7a3f\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002( ${u.message} )`:"\u6295\u7a3f\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")}finally{e.inputForm.enable()}});return function(i){return o.apply(this,arguments)}}()))}static \u0275fac=function(o){return new(o||n)(t.GI1(h.o),t.GI1(p.o),t.GI1(g.SA),t.GI1(C.W),t.GI1(w.k))};static \u0275cmp=t.In1({type:n,selectors:[["gitfire-comment-editor"]],inputs:{editModel:"editModel",pageId:"pageId",showDismiss:"showDismiss",replyId:"replyId"},outputs:{requestSent:"requestSent",editDismiss:"editDismiss"},decls:16,vars:14,consts:[["class","text-end",4,"ngIf"],[1,"input-group",3,"formGroup"],["title","\u3053\u306e\u540d\u524d\u3067\u6295\u7a3f\u306f\u8868\u793a\u3055\u308c\u307e\u3059\u3002","src","/assets/octicons/question.svg",1,"m-1","octicon-info","help-icon"],["disabled","",1,"m-3",3,"value"],[1,"m-3"],["autofocus","","name","commentText","formControlName","commentText","placeholder","\u6295\u7a3f\u3059\u308b\u30b3\u30e1\u30f3\u30c8\u3092\u3053\u3053\u306b\u66f8\u3044\u3066\u304f\u3060\u3055\u3044\u3002","required","","minlength","5","maxlength","65536",1,"p-3","form-control"],["class","valid-feedback",4,"ngIf"],[4,"ngIf"],["title","\u30b3\u30e1\u30f3\u30c8\u5185\u5bb9\u306f\u627f\u8a8d\u5f8c\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002",1,"btn","btn-primary","m-2",3,"disabled","click"],[1,"text-end"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["aria-hidden","true"],[1,"valid-feedback"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"]],template:function(o,i){1&o&&(t.yuY(0,B,4,0,"div",0),t.I0R(1,"div",1)(2,"div")(3,"label"),t.OEk(4,"\u540d\u524d"),t.wR5(5,"img",2),t.OEk(6,": "),t.C$Y(),t.wR5(7,"input",3),t.wVc(8,"async"),t.C$Y(),t.I0R(9,"div",4),t.wR5(10,"textarea",5),t.yuY(11,R,2,0,"div",6)(12,P,4,3,"ng-container",7),t.C$Y(),t.I0R(13,"div")(14,"button",8),t.qCj("click",function(){return i.onClickPostComment()}),t.OEk(15,"\u6295\u7a3f\u3059\u308b"),t.C$Y()()()),2&o&&(t.E7m("ngIf",i.showDismiss),t.yG2(),t.eAK("was-validated",i.textareaControl.dirty||i.textareaControl.touched),t.E7m("formGroup",i.inputForm),t.yG2(6),t._6D("value",t.kDX(8,12,i.user.myNickname$())),t.yG2(2),t.m4B("width",100,"%"),t.yG2(),t.m4B("height",8,"rem"),t.yG2(),t.E7m("ngIf",!i.textareaControl.invalid),t.yG2(),t.E7m("ngIf",i.textareaControl.invalid),t.yG2(2),t.E7m("disabled",i.textareaControl.invalid||i.inputForm.disabled))},dependencies:[l.u_,d.ot,d.ue,d.u,d.eJ,d.El,d.Mj,d.uW,d.Wo,l.a]})}return n})();function M(n,s){1&n&&t.wR5(0,"span",2)}function S(n,s){if(1&n&&(t.I0R(0,"span",20)(1,"small",6),t.wVc(2,"date"),t.OEk(3),t.wVc(4,"date"),t.C$Y()()),2&n){const e=t.GaO().$implicit;t.yG2(),t._6D("title",t.g7$(2,2,e.updatedAt,"yyyy-MM-dd HH:mm")),t.yG2(2),t.oRS("\u66f4\u65b0\u65e5: ",t.g7$(4,5,e.updatedAt,"yyyy-MM-dd"),"")}}function q(n,s){if(1&n&&(t.I0R(0,"span",20)(1,"small"),t.OEk(2),t.wVc(3,"date"),t.C$Y()()),2&n){const e=t.GaO().$implicit;t.yG2(2),t.oRS("\u627f\u8a8d\u65e5: ",t.g7$(3,1,e.decisionAt,"yyyy-MM-dd"),"")}}function J(n,s){if(1&n){const e=t.KQA();t.I0R(0,"a",32),t.qCj("click",function(i){t.usT(e);const u=t.GaO(2).$implicit,m=t.GaO(2);return t.CGJ(m.onClickApprove(i,u))}),t.OEk(1,"\u627f\u8a8d"),t.C$Y()}}function j(n,s){if(1&n){const e=t.KQA();t.I0R(0,"a",33),t.qCj("click",function(i){t.usT(e);const u=t.GaO(2).$implicit,m=t.GaO(2);return t.CGJ(m.onClickApprove(i,u))}),t.OEk(1,"\u7de8\u96c6\u627f\u8a8d"),t.C$Y()}}function U(n,s){if(1&n){const e=t.KQA();t.I0R(0,"a",34),t.qCj("click",function(i){t.usT(e);const u=t.GaO(2).$implicit,m=t.GaO(2);return t.CGJ(m.onClickApprove(i,u))}),t.OEk(1,"\u524a\u9664\u627f\u8a8d"),t.C$Y()}}function K(n,s){if(1&n){const e=t.KQA();t.I0R(0,"a",35),t.qCj("click",function(i){t.usT(e);const u=t.GaO(2).$implicit,m=t.GaO(2);return t.CGJ(m.onClickReject(i,u))}),t.OEk(1,"\u62d2\u5426"),t.C$Y()}}function H(n,s){if(1&n){const e=t.KQA();t.I0R(0,"a",36),t.qCj("click",function(i){t.usT(e);const u=t.GaO(2).$implicit,m=t.GaO(2);return t.CGJ(m.onClickReject(i,u))}),t.OEk(1,"\u7de8\u96c6\u62d2\u5426"),t.C$Y()}}function Q(n,s){if(1&n){const e=t.KQA();t.I0R(0,"a",37),t.qCj("click",function(i){t.usT(e);const u=t.GaO(2).$implicit,m=t.GaO(2);return t.CGJ(m.onClickReject(i,u))}),t.OEk(1,"\u7de8\u96c6\u62d2\u5426"),t.C$Y()}}function V(n,s){if(1&n){const e=t.KQA();t.I0R(0,"a",38),t.qCj("click",function(i){t.usT(e);const u=t.GaO(2).$implicit,m=t.GaO(2);return t.CGJ(m.onClickProtect(i,u))}),t.OEk(1,"\u4fdd\u8b77"),t.C$Y()}}function W(n,s){if(1&n){const e=t.KQA();t.I0R(0,"a",39),t.qCj("click",function(i){t.usT(e);const u=t.GaO(2).$implicit,m=t.GaO(2);return t.CGJ(m.onClickUnProtect(i,u))}),t.OEk(1,"\u4fdd\u8b77\u89e3\u9664"),t.C$Y()}}function X(n,s){if(1&n&&(t.I0R(0,"span",21)(1,"span",22),t.OEk(2,"\ufe19"),t.C$Y(),t.I0R(3,"div",23),t.yuY(4,J,2,0,"a",24)(5,j,2,0,"a",25)(6,U,2,0,"a",26)(7,K,2,0,"a",27)(8,H,2,0,"a",28)(9,Q,2,0,"a",29)(10,V,2,0,"a",30)(11,W,2,0,"a",31),t.C$Y()()),2&n){const e=t.GaO().$implicit;t.yG2(4),t.E7m("ngIf","pending"===e.store.state),t.yG2(),t.E7m("ngIf","approved"===e.store.state&&"edit-request"===e.store.editedState),t.yG2(),t.E7m("ngIf","approved"===e.store.state&&"delete-request"===e.store.editedState),t.yG2(),t.E7m("ngIf","pending"===e.store.state),t.yG2(),t.E7m("ngIf","approved"===e.store.state&&"edit-request"===e.store.editedState),t.yG2(),t.E7m("ngIf","approved"===e.store.state&&"delete-request"===e.store.editedState),t.yG2(),t.E7m("ngIf","approved"===e.store.state&&!e.store.isAdminEdit),t.yG2(),t.E7m("ngIf","approved"===e.store.state&&e.store.isAdminEdit)}}function N(n,s){1&n&&t.wR5(0,"gitfire-user-box",40),2&n&&t.E7m("userPublic",s.$implicit)}function z(n,s){1&n&&(t.I0R(0,"span",41),t.OEk(1,"\u7ba1\u7406\u4eba\u306b\u3088\u308b\u4fdd\u8b77"),t.C$Y())}function Z(n,s){1&n&&(t.I0R(0,"span",42),t.OEk(1,"\u5374\u4e0b\u3055\u308c\u305f\u30b3\u30e1\u30f3\u30c8\u3067\u3059\u3002"),t.C$Y())}function tt(n,s){1&n&&(t.I0R(0,"span",43),t.OEk(1,"\u627f\u8a8d\u5f85\u3061\u306e\u30b3\u30e1\u30f3\u30c8\u3067\u3059\u3002"),t.C$Y())}function et(n,s){1&n&&(t.I0R(0,"span",43),t.OEk(1,"\u524a\u9664\u3055\u308c\u307e\u3057\u305f\u3002"),t.C$Y())}function nt(n,s){1&n&&(t.I0R(0,"span",42),t.OEk(1,"\u7de8\u96c6\u7533\u8acb\u304c\u5374\u4e0b\u3055\u308c\u307e\u3057\u305f\u3002"),t.C$Y())}function it(n,s){1&n&&(t.I0R(0,"span",42),t.OEk(1,"\u524a\u9664\u7533\u8acb\u304c\u5374\u4e0b\u3055\u308c\u307e\u3057\u305f\u3002"),t.C$Y())}function ot(n,s){1&n&&(t.I0R(0,"span",42),t.OEk(1,"\u524a\u9664\u7533\u8acb\u4e2d\u3067\u3059\u3002"),t.C$Y())}function ut(n,s){1&n&&(t.I0R(0,"span",43),t.OEk(1,"\u7de8\u96c6\u7533\u8acb\u4e2d\u3067\u3059\u3002"),t.C$Y())}function st(n,s){if(1&n&&(t.SAx(0)(1,13),t.yuY(2,nt,2,0,"span",14)(3,it,2,0,"span",14)(4,ot,2,0,"span",14)(5,ut,2,0,"span",15),t.k70()()),2&n){const e=t.GaO().$implicit;t.yG2(),t.E7m("ngSwitch",e.store.editedState),t.yG2(),t.E7m("ngSwitchCase","edit-rejected"),t.yG2(),t.E7m("ngSwitchCase","delete-rejected"),t.yG2(),t.E7m("ngSwitchCase","delete-request"),t.yG2(),t.E7m("ngSwitchCase","edit-request")}}function mt(n,s){if(1&n){const e=t.KQA();t.SAx(0),t.I0R(1,"gitfire-comment-editor",45),t.qCj("requestSent",function(){t.usT(e);const i=t.GaO(3).$implicit,u=t.GaO(2);return t.CGJ(u.onEditRequested(i))})("editDismiss",function(){t.usT(e);const i=t.GaO(3).$implicit,u=t.GaO(2);return t.CGJ(u.onEditDismissed(i))}),t.C$Y(),t.k70()}if(2&n){const e=s.$implicit,o=t.GaO(5);t.yG2(),t.E7m("pageId",o.pageId)("editModel",e)("showDismiss",!0)}}function rt(n,s){if(1&n&&(t.SAx(0),t.yuY(1,mt,2,3,"ng-container",1),t.wVc(2,"async"),t.k70()),2&n){const e=t.GaO(2).$implicit;t.yG2(),t.E7m("ngIf",t.kDX(2,1,e.editor$))}}function ct(n,s){if(1&n&&t.wR5(0,"div",46),2&n){const e=t.GaO(2).$implicit;t.E7m("innerHTML",e.store.messageHtml,t.E3n)}}function at(n,s){if(1&n&&(t.I0R(0,"div"),t.yuY(1,rt,3,3,"ng-container",1)(2,ct,1,1,"div",44),t.C$Y()),2&n){const e=t.GaO().$implicit;t.yG2(),t.E7m("ngIf",e.isEditing),t.yG2(),t.E7m("ngIf","approved"===e.store.state&&!e.isEditing)}}function _t(n,s){if(1&n&&t.wR5(0,"div",46),2&n){const e=t.GaO(2).$implicit;t.E7m("innerHTML",e.store.messageHtml,t.E3n)}}function dt(n,s){if(1&n&&(t.SAx(0),t.yuY(1,_t,1,1,"div",44),t.k70()),2&n){const e=t.GaO().$implicit;t.yG2(),t.E7m("ngIf","approved"===e.store.state)}}function lt(n,s){1&n&&t.wR5(0,"span",2)}function pt(n,s){1&n&&t.wR5(0,"div",53),2&n&&t.E7m("innerHTML",s.$implicit.messageHtml,t.E3n)}function Ct(n,s){if(1&n&&(t.I0R(0,"div",51)(1,"span",43),t.OEk(2,"\u7533\u8acb\u4e2d\u306e\u30e1\u30c3\u30bb\u30fc\u30b8"),t.C$Y(),t.yuY(3,pt,1,1,"div",52),t.wVc(4,"async"),t.C$Y()),2&n){t.GaO();const e=t.Gew(2),o=t.GaO().$implicit;t.yG2(3),t.E7m("ngIf",t.kDX(4,2,o.privateMessage$))("ngIfElse",e)}}function gt(n,s){1&n&&t.wR5(0,"div",53),2&n&&t.E7m("innerHTML",s.$implicit.messageHtml,t.E3n)}function ft(n,s){if(1&n&&(t.I0R(0,"div",54)(1,"span",42),t.OEk(2,"\u5374\u4e0b\u3055\u308c\u305f\u30e1\u30c3\u30bb\u30fc\u30b8"),t.C$Y(),t.yuY(3,gt,1,1,"div",52),t.wVc(4,"async"),t.C$Y()),2&n){t.GaO();const e=t.Gew(2),o=t.GaO().$implicit;t.yG2(3),t.E7m("ngIf",t.kDX(4,2,o.privateMessage$))("ngIfElse",e)}}function Et(n,s){1&n&&t.wR5(0,"div",53),2&n&&t.E7m("innerHTML",s.$implicit.messageHtml,t.E3n)}function vt(n,s){if(1&n&&(t.I0R(0,"div",51)(1,"span",43),t.OEk(2,"\u7de8\u96c6\u7533\u8acb\u4e2d\u306e\u30e1\u30c3\u30bb\u30fc\u30b8"),t.C$Y(),t.yuY(3,Et,1,1,"div",52),t.wVc(4,"async"),t.C$Y()),2&n){t.GaO(2);const e=t.Gew(2),o=t.GaO().$implicit;t.yG2(3),t.E7m("ngIf",t.kDX(4,2,o.privateMessage$))("ngIfElse",e)}}function It(n,s){1&n&&t.wR5(0,"div",53),2&n&&t.E7m("innerHTML",s.$implicit.messageHtml,t.E3n)}function yt(n,s){if(1&n&&(t.I0R(0,"div",54)(1,"span",42),t.OEk(2,"\u7de8\u96c6\u7533\u8acb\u304c\u5374\u4e0b\u3055\u308c\u305f\u30e1\u30c3\u30bb\u30fc\u30b8"),t.C$Y(),t.yuY(3,It,1,1,"div",52),t.wVc(4,"async"),t.C$Y()),2&n){t.GaO(2);const e=t.Gew(2),o=t.GaO().$implicit;t.yG2(3),t.E7m("ngIf",t.kDX(4,2,o.privateMessage$))("ngIfElse",e)}}function ht(n,s){if(1&n&&(t.I0R(0,"div"),t.yuY(1,vt,5,4,"div",49)(2,yt,5,4,"div",50),t.C$Y()),2&n){const e=t.GaO(2).$implicit;t.yG2(),t.E7m("ngIf","edit-request"===e.store.editedState),t.yG2(),t.E7m("ngIf","edit-rejected"===e.store.editedState)}}function Gt(n,s){if(1&n&&(t.I0R(0,"div",47),t.yuY(1,lt,1,0,"ng-template",null,48,t.gJz)(3,Ct,5,4,"div",49)(4,ft,5,4,"div",50)(5,ht,3,2,"div",1),t.C$Y()),2&n){const e=t.GaO().$implicit;t.yG2(3),t.E7m("ngIf","pending"===e.store.state),t.yG2(),t.E7m("ngIf","rejected"===e.store.state),t.yG2(),t.E7m("ngIf","approved"===e.store.state)}}function kt(n,s){if(1&n){const e=t.KQA();t.SAx(0),t.I0R(1,"button",55),t.qCj("click",function(i){t.usT(e);const u=t.GaO().$implicit,m=t.GaO(2);return t.CGJ(m.onClickReply(i,u))}),t.OEk(2,"\u8fd4\u4fe1"),t.C$Y(),t.k70()}}function $t(n,s){if(1&n){const e=t.KQA();t.SAx(0),t.I0R(1,"button",56),t.qCj("click",function(i){t.usT(e);const u=t.GaO().$implicit,m=t.GaO(2);return t.CGJ(m.onClickDelete(i,u))}),t.OEk(2,"\u524a\u9664"),t.C$Y(),t.I0R(3,"button",57),t.qCj("click",function(i){t.usT(e);const u=t.GaO().$implicit,m=t.GaO(2);return t.CGJ(m.onClickEdit(i,u))}),t.OEk(4,"\u7de8\u96c6"),t.C$Y(),t.k70()}}function xt(n,s){if(1&n){const e=t.KQA();t.I0R(0,"div",18)(1,"gitfire-comment-editor",58),t.qCj("requestSent",function(){t.usT(e);const i=t.GaO().$implicit,u=t.GaO(2);return t.CGJ(u.onReplyRequested(i))})("editDismiss",function(){t.usT(e);const i=t.GaO().$implicit,u=t.GaO(2);return t.CGJ(u.onReplyDismissed(i))}),t.C$Y()()}if(2&n){const e=t.GaO().$implicit,o=t.GaO(2);t.yG2(),t.E7m("showDismiss",!0)("replyId",e.store.id)("pageId",o.pageId)}}function At(n,s){if(1&n&&(t.I0R(0,"div",5)(1,"div")(2,"div")(3,"span",6),t.wVc(4,"date"),t.OEk(5),t.wVc(6,"date"),t.C$Y(),t.yuY(7,S,5,8,"span",7)(8,q,4,4,"span",7)(9,X,12,8,"span",8),t.C$Y(),t.I0R(10,"div",9),t.OEk(11,"\u30e6\u30fc\u30b6: "),t.yuY(12,N,1,1,"gitfire-user-box",10),t.wVc(13,"async"),t.C$Y()(),t.I0R(14,"div",11)(15,"div"),t.yuY(16,z,2,0,"span",12),t.SAx(17,13),t.yuY(18,Z,2,0,"span",14)(19,tt,2,0,"span",15)(20,et,2,0,"span",15)(21,st,6,5,"ng-container",16),t.k70(),t.C$Y(),t.I0R(22,"div"),t.yuY(23,at,3,2,"div",1)(24,dt,2,1,"ng-container",1),t.C$Y(),t.yuY(25,Gt,6,3,"div",17),t.C$Y(),t.I0R(26,"div",18),t.yuY(27,kt,3,0,"ng-container",1)(28,$t,5,0,"ng-container",1),t.C$Y(),t.yuY(29,xt,2,3,"div",19),t.C$Y()),2&n){const e=s.$implicit,o=s.odd,i=t.GaO(2);t.m4B("background",o?i.ACCENT_COLOR:null),t.CI5("id","appGitfireComment-",e.store.id,""),t.yG2(3),t._6D("title",t.g7$(4,21,e.publishAt,"yyyy-MM-dd HH:mm")),t.yG2(2),t.oRS("\u6295\u7a3f\u65e5\u6642: ",t.g7$(6,24,e.publishAt,"yyyy-MM-dd HH:mm"),""),t.yG2(2),t.E7m("ngIf",e.isEdited),t.yG2(),t.E7m("ngIf",e.decisionAt),t.yG2(),t.E7m("ngIf",e.isDisplayAdmin),t.yG2(3),t.E7m("ngIf",t.kDX(13,27,e.user$)),t.yG2(4),t.E7m("ngIf",e.store.isAdminEdit),t.yG2(),t.E7m("ngSwitch",e.store.state),t.yG2(),t.E7m("ngSwitchCase","rejected"),t.yG2(),t.E7m("ngSwitchCase","pending"),t.yG2(),t.E7m("ngSwitchCase","deleted"),t.yG2(),t.E7m("ngSwitchCase","approved"),t.yG2(2),t.E7m("ngIf",e.isOwn),t.yG2(),t.E7m("ngIf",!e.isOwn),t.yG2(),t.E7m("ngIf",e.isOwn||e.isDisplayAdmin),t.yG2(2),t.E7m("ngIf",e.canReply),t.yG2(),t.E7m("ngIf",e.canChange),t.yG2(),t.E7m("ngIf",e.isReplying)}}function Dt(n,s){if(1&n){const e=t.KQA();t.I0R(0,"button",59),t.qCj("click",function(i){t.usT(e);const u=t.GaO(2);return t.CGJ(u.onClickMoreComment(i))}),t.OEk(1,"\u3055\u3089\u306b\u8aad\u307f\u8fbc\u3080"),t.C$Y()}}function Ft(n,s){if(1&n&&(t.I0R(0,"div"),t.yuY(1,At,30,29,"div",3)(2,Dt,2,0,"button",4),t.C$Y()),2&n){const e=t.GaO();t.yG2(),t.E7m("ngForOf",e.comments),t.yG2(),t.E7m("ngIf",e.maybeMoreComment)}}class Ot{store;updatedAt;publishAt;decisionAt;isEdited;privateMessage$;editor$;user$;isEditing;isReplying;isDisplayAdmin;canReply;canChange;isOwn}let Tt=(()=>{class n{auth;user;dialog;store;funcs;toastr;ACCENT_COLOR=r.OU.themaColor.EVEN;destroy$=new F.E;pageId;isPageProtect=!1;comments$;comments=[];commentData={};maybeMoreComment=!1;isLoading=!0;constructor(e,o,i,u,m,a){this.auth=e,this.user=o,this.dialog=i,this.store=u,this.funcs=m,this.toastr=a}ngOnDestroy(){(0,r.qe)("CommentListComponent.OnDestroy()"),this.destroy$.next()}ngOnInit(){(0,r.qe)("CommentListComponent.OnInit()"),this.comments$=this.store.doc(`/comment/v1/page/${this.pageId}`).collection("public",e=>e.orderBy("publishAt","desc").limit(30)).valueChanges({idField:"id"}),this.comments$.pipe((0,A.a)(this.destroy$)).subscribe(e=>{for(let o of e){let i=this.commentData[o.id];i||(i=new Ot,this.comments.push(i)),i.publishAt=o.publishAt.toDate(),i.updatedAt=o.updatedAt.toDate();const u=i.updatedAt.getTime()-i.publishAt.getTime();i.isEdited="none"!==o.editedState&&Math.abs(u)>5,o.decisionAt&&(i.decisionAt=o.decisionAt.toDate()),i.user$=this.user.user$(o.owner),i.store=o,this.auth.myUid===o.owner||this.auth.isAdmin?i.privateMessage$||(i.privateMessage$=(0,y.of)({pageId:this.pageId,commentId:o.id}).pipe((0,D.G)(a=>this.funcs.call("readPrivateComment",a)),(0,I.k)(a=>a)),i.editor$=i.privateMessage$.pipe((0,I.k)(a=>({id:a.id,message:a.message,images:a.images})))):i.editor$=(0,y.of)({id:o.id,message:o.message,images:o.images}),i.isDisplayAdmin=this.auth.isAdmin,i.isOwn=o.owner===this.auth.myUid,i.canReply=!this.isPageProtect&&!i.isOwn&&"approved"==o.state&&!o.isProtect,i.canChange=i.isOwn&&!o.isAdminEdit&&!o.isProtect&&"approved"===o.state,this.commentData[o.id]=i}this.comments=this.comments.sort((o,i)=>i.publishAt.getTime()-o.publishAt.getTime()),this.isLoading=!1})}onClickEdit(e,o){(0,r.qe)("CommentListComponent.onClickEdit()"),o.isEditing=!0}doDeleteRequest(e){var o=this;return(0,_.c)(function*(){const i={pageId:o.pageId,commentId:e.store.id};try{yield o.funcs.call("deleteComment",i),o.toastr.info("\u524a\u9664\u7533\u8acb\u3057\u307e\u3057\u305f\u3002\u627f\u8a8d\u5f8c\u306b\u524a\u9664\u3055\u308c\u307e\u3059\u3002")}catch(u){(0,r.sJ)("Error while delete request",u);const m=u instanceof Error?u.message:"Unknown error";o.toastr.error(`\u524a\u9664\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002 ( ${m} )`)}})()}onClickDelete(e,o){var i=this;return(0,_.c)(function*(){(0,r.qe)("onClickDelete()",e,o);const u=i.dialog.createHtmlBuilder(),m=new x.AV("\n<div>\n\u7ba1\u7406\u4eba\u306b\u627f\u8a8d\u3055\u308c\u305f\u5f8c\u3067\u524a\u9664\u3055\u308c\u307e\u3059\u3002\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f\n</div>\n");u.setMessage(m).setType(f.aU.Warn).setSize(f.q2.Default).setTitle("\u78ba\u8a8d").okButton((0,_.c)(function*(){yield i.doDeleteRequest(o)})).cancelButton(()=>{}).open()})()}onClickReply(e,o){(0,r.qe)("CommentListComponent.onClickReply()",e,o),o.isReplying=!0}onEditDismissed(e){(0,r.qe)("CommentListComponent.onEditDismissed()"),e.isEditing=!1}onEditRequested(e){(0,r.qe)("CommentListComponent.onEditRequested()"),e.isEditing=!1}onReplyRequested(e){(0,r.qe)("CommentListComponent.onReplyRequested()"),e.isReplying=!1}onReplyDismissed(e){(0,r.qe)("CommentListComponent.onReplyDismissed()"),e.isReplying=!1}onClickMoreComment(e){(0,r.qe)("CommentListComponent.onClickMoreComment()")}onClickApprove(e,o){var i=this;return(0,_.c)(function*(){(0,r.qe)("CommentListComponent.onClickApprove()");const u={pageId:i.pageId,commentId:o.store.id};try{yield i.funcs.call("approveComment",u),i.toastr.info("\u627f\u8a8d\u3057\u307e\u3057\u305f\u3002")}catch(m){(0,r.sJ)("Error while approve",m);const a=m instanceof Error?m.message:"Unknown error";i.toastr.error(`\u627f\u8a8d\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002 ( ${a} )`)}})()}onClickReject(e,o){var i=this;return(0,_.c)(function*(){(0,r.qe)("CommentListComponent.onClickReject()");const u={pageId:i.pageId,commentId:o.store.id};try{yield i.funcs.call("rejectComment",u),i.toastr.info("\u5374\u4e0b\u3057\u307e\u3057\u305f\u3002")}catch(m){(0,r.sJ)("Error while reject",m);const a=m instanceof Error?m.message:"Unknown error";i.toastr.error(`\u5374\u4e0b\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002 ( ${a} )`)}})()}onClickProtect(e,o){var i=this;return(0,_.c)(function*(){(0,r.qe)("CommentListComponent.onClickProtect()");const u={pageId:i.pageId,commentId:o.store.id};try{yield i.funcs.call("protectComment",u),i.toastr.info("\u4fdd\u8b77\u3057\u307e\u3057\u305f\u3002")}catch(m){(0,r.sJ)("Error while protect",m);const a=m instanceof Error?m.message:"Unknown error";i.toastr.error(`\u4fdd\u8b77\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002 ( ${a} )`)}})()}onClickUnProtect(e,o){var i=this;return(0,_.c)(function*(){(0,r.qe)("CommentListComponent.onClickUnProtect()");const u={pageId:i.pageId,commentId:o.store.id,unprotect:!0};try{yield i.funcs.call("protectComment",u),i.toastr.info("\u4fdd\u8b77\u89e3\u9664\u3057\u307e\u3057\u305f\u3002")}catch(m){(0,r.sJ)("Error while unprotect",m);const a=m instanceof Error?m.message:"Unknown error";i.toastr.error(`\u4fdd\u8b77\u89e3\u9664\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002 ( ${a} )`)}})()}static \u0275fac=function(o){return new(o||n)(t.GI1(p.o),t.GI1(h.o),t.GI1(f.EF),t.GI1(v.i4),t.GI1(C.W),t.GI1(g.SA))};static \u0275cmp=t.In1({type:n,selectors:[["gitfire-comment-list"]],inputs:{pageId:"pageId",isPageProtect:"isPageProtect"},decls:2,vars:2,consts:[["class","spinner-border text-primary","role","status",4,"ngIf"],[4,"ngIf"],["role","status",1,"spinner-border","text-primary"],[3,"id","background",4,"ngFor","ngForOf"],["class","btn btn-primary","title","\u53e4\u3044\u6295\u7a3f\u3092\u3055\u3089\u306b\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002",3,"click",4,"ngIf"],[3,"id"],[3,"title"],["class","mx-1",4,"ngIf"],["class","mx-2","style","position: absolute; right: 0px;","data-bs-toggle","dropdown",4,"ngIf"],[2,"height","2rem"],[3,"userPublic",4,"ngIf"],[1,"m-1"],["class","border border-danger text-danger m-1 p-1",4,"ngIf"],[3,"ngSwitch"],["class","text-warning",4,"ngSwitchCase"],["class","text-info",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","p-2",4,"ngIf"],[1,"m-2"],["class","m-2",4,"ngIf"],[1,"mx-1"],["data-bs-toggle","dropdown",1,"mx-2",2,"position","absolute","right","0px"],[1,"gitweeMenuItem"],[1,"dropdown-menu"],["class","text-info dropdown-item gitweeMenuItem","title","\u4fdd\u7559\u72b6\u614b\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u627f\u8a8d\u3057\u307e\u3059\u3002",3,"click",4,"ngIf"],["class","text-info dropdown-item gitweeMenuItem","title","\u7de8\u96c6\u7533\u8acb\u3055\u308c\u305f\u30b3\u30e1\u30f3\u30c8\u3092\u627f\u8a8d\u3057\u307e\u3059\u3002",3,"click",4,"ngIf"],["class","text-info dropdown-item gitweeMenuItem","title","\u524a\u9664\u7533\u8acb\u3055\u308c\u305f\u30b3\u30e1\u30f3\u30c8\u3092\u627f\u8a8d\u3057\u307e\u3059\u3002",3,"click",4,"ngIf"],["class","text-warning dropdown-item gitweeMenuItem","title","\u4fdd\u7559\u72b6\u614b\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u62d2\u5426\u3057\u307e\u3059\u3002",3,"click",4,"ngIf"],["class","text-warning dropdown-item gitweeMenuItem","title","\u7de8\u96c6\u7533\u8acb\u3055\u308c\u305f\u30b3\u30e1\u30f3\u30c8\u3092\u62d2\u5426\u3057\u307e\u3059\u3002",3,"click",4,"ngIf"],["class","text-warning dropdown-item gitweeMenuItem","title","\u524a\u9664\u7533\u8acb\u3055\u308c\u305f\u30b3\u30e1\u30f3\u30c8\u3092\u62d2\u5426\u3057\u307e\u3059\u3002",3,"click",4,"ngIf"],["class","text-danger dropdown-item gitweeMenuItem","title","\u30b3\u30e1\u30f3\u30c8\u3092\u4fdd\u8b77\u3057\u307e\u3059\u3002",3,"click",4,"ngIf"],["class","text-danger dropdown-item gitweeMenuItem","title","\u30b3\u30e1\u30f3\u30c8\u4fdd\u8b77\u3092\u89e3\u9664\u3057\u307e\u3059\u3002",3,"click",4,"ngIf"],["title","\u4fdd\u7559\u72b6\u614b\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u627f\u8a8d\u3057\u307e\u3059\u3002",1,"text-info","dropdown-item","gitweeMenuItem",3,"click"],["title","\u7de8\u96c6\u7533\u8acb\u3055\u308c\u305f\u30b3\u30e1\u30f3\u30c8\u3092\u627f\u8a8d\u3057\u307e\u3059\u3002",1,"text-info","dropdown-item","gitweeMenuItem",3,"click"],["title","\u524a\u9664\u7533\u8acb\u3055\u308c\u305f\u30b3\u30e1\u30f3\u30c8\u3092\u627f\u8a8d\u3057\u307e\u3059\u3002",1,"text-info","dropdown-item","gitweeMenuItem",3,"click"],["title","\u4fdd\u7559\u72b6\u614b\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u62d2\u5426\u3057\u307e\u3059\u3002",1,"text-warning","dropdown-item","gitweeMenuItem",3,"click"],["title","\u7de8\u96c6\u7533\u8acb\u3055\u308c\u305f\u30b3\u30e1\u30f3\u30c8\u3092\u62d2\u5426\u3057\u307e\u3059\u3002",1,"text-warning","dropdown-item","gitweeMenuItem",3,"click"],["title","\u524a\u9664\u7533\u8acb\u3055\u308c\u305f\u30b3\u30e1\u30f3\u30c8\u3092\u62d2\u5426\u3057\u307e\u3059\u3002",1,"text-warning","dropdown-item","gitweeMenuItem",3,"click"],["title","\u30b3\u30e1\u30f3\u30c8\u3092\u4fdd\u8b77\u3057\u307e\u3059\u3002",1,"text-danger","dropdown-item","gitweeMenuItem",3,"click"],["title","\u30b3\u30e1\u30f3\u30c8\u4fdd\u8b77\u3092\u89e3\u9664\u3057\u307e\u3059\u3002",1,"text-danger","dropdown-item","gitweeMenuItem",3,"click"],[3,"userPublic"],[1,"border","border-danger","text-danger","m-1","p-1"],[1,"text-warning"],[1,"text-info"],["class","p-2",3,"innerHTML",4,"ngIf"],[3,"pageId","editModel","showDismiss","requestSent","editDismiss"],[1,"p-2",3,"innerHTML"],[1,"p-2"],["loadingMessage",""],["class","border border-info",4,"ngIf"],["class","border border-warning",4,"ngIf"],[1,"border","border-info"],[3,"innerHTML",4,"ngIf","ngIfElse"],[3,"innerHTML"],[1,"border","border-warning"],["title","\u3053\u306e\u30b3\u30e1\u30f3\u30c8\u3078\u8fd4\u4fe1\u3057\u307e\u3059\u3002",1,"btn","btn-primary","m-1",3,"click"],["title","\u6295\u7a3f\u306e\u524a\u9664\u3092\u7533\u8acb\u3057\u307e\u3059\u3002",1,"btn","btn-warning","m-1",3,"click"],["title","\u30b3\u30e1\u30f3\u30c8\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002",1,"btn","btn-secondary","m-1",3,"click"],[3,"showDismiss","replyId","pageId","requestSent","editDismiss"],["title","\u53e4\u3044\u6295\u7a3f\u3092\u3055\u3089\u306b\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002",1,"btn","btn-primary",3,"click"]],template:function(o,i){1&o&&t.yuY(0,M,1,0,"span",0)(1,Ft,3,2,"div",1),2&o&&(t.E7m("ngIf",i.isLoading),t.yG2(),t.E7m("ngIf",i.comments))},dependencies:[l.ay,l.u_,l.Ko,l.Wm,O.e,G,l.a,l.y],styles:[".gitweeMenuItem[_ngcontent-%COMP%]{cursor:pointer}"]})}return n})();function wt(n,s){1&n&&t.wR5(0,"span",2)}function Bt(n,s){1&n&&(t.I0R(0,"div",7),t.OEk(1,"\u30b3\u30e1\u30f3\u30c8\u306f\u3042\u308a\u307e\u305b\u3093"),t.C$Y())}function Rt(n,s){if(1&n){const e=t.KQA();t.I0R(0,"button",11),t.qCj("click",function(){t.usT(e);const i=t.GaO(4);return t.CGJ(i.onClickProtect())}),t.OEk(1,"\u30da\u30fc\u30b8\u3092\u4fdd\u8b77"),t.C$Y()}}function bt(n,s){if(1&n){const e=t.KQA();t.I0R(0,"button",12),t.qCj("click",function(){t.usT(e);const i=t.GaO(4);return t.CGJ(i.onClickUnProtect())}),t.OEk(1,"\u4fdd\u8b77\u3092\u89e3\u9664"),t.C$Y()}}function Yt(n,s){if(1&n&&(t.SAx(0),t.yuY(1,Rt,2,0,"button",9)(2,bt,2,0,"button",10),t.k70()),2&n){const e=t.GaO().$implicit;t.yG2(),t.E7m("ngIf",!e.isProtect),t.yG2(),t.E7m("ngIf",e.isProtect)}}function Lt(n,s){1&n&&(t.I0R(0,"span",14)(1,"span",15),t.OEk(2,"\u30da\u30fc\u30b8\u306f\u4fdd\u8b77\u3055\u308c\u3066\u3044\u307e\u3059"),t.C$Y()())}function Pt(n,s){if(1&n&&(t.SAx(0),t.yuY(1,Lt,3,0,"span",13),t.k70()),2&n){const e=t.GaO().$implicit;t.yG2(),t.E7m("ngIf",e.isProtect)}}function Mt(n,s){if(1&n){const e=t.KQA();t.SAx(0),t.I0R(1,"button",16),t.qCj("click",function(i){t.usT(e);const u=t.GaO(3);return t.CGJ(u.onClickWatchPage(i,!0))}),t.OEk(2,"Watch(\u30c6\u30b9\u30c8\u4e2d)"),t.C$Y(),t.I0R(3,"button",17),t.qCj("click",function(i){t.usT(e);const u=t.GaO(3);return t.CGJ(u.onClickWatchPage(i,!1))}),t.OEk(4,"Unwatch(\u30c6\u30b9\u30c8\u4e2d)"),t.C$Y(),t.k70()}}function St(n,s){if(1&n&&(t.I0R(0,"span",20),t.OEk(1),t.C$Y()),2&n){const e=t.GaO(2).$implicit;t.yG2(),t.oRS("(\u4fdd\u7559 ",e.countPending," \u4ef6)")}}function qt(n,s){if(1&n&&(t.I0R(0,"div",18)(1,"span"),t.OEk(2),t.C$Y(),t.yuY(3,St,2,1,"span",19),t.C$Y()),2&n){const e=t.GaO().$implicit;t.yG2(2),t.oRS("",e.countAll," \u4ef6\u306e\u30b3\u30e1\u30f3\u30c8"),t.yG2(),t.E7m("ngIf",e.countPending>0)}}function Jt(n,s){if(1&n&&(t.I0R(0,"div")(1,"div",7),t.yuY(2,Yt,3,2,"ng-container",1)(3,Pt,2,1,"ng-container",1)(4,Mt,5,0,"ng-container",1),t.C$Y(),t.yuY(5,qt,4,2,"div",8),t.C$Y()),2&n){const e=s.$implicit;t.GaO();const o=t.Gew(2),i=t.GaO();t.yG2(2),t.E7m("ngIf",i.auth.isAdmin),t.yG2(),t.E7m("ngIf",!i.auth.isAdmin),t.yG2(),t.E7m("ngIf",i.auth.hasMessaging),t.yG2(),t.E7m("ngIf",e.countAll>0)("ngIfElse",o)}}function jt(n,s){if(1&n&&t.wR5(0,"gitfire-comment-editor",21),2&n){const e=t.GaO(2);t.E7m("pageId",e.pageId)}}function Ut(n,s){if(1&n&&(t.I0R(0,"div"),t.yuY(1,Bt,2,0,"ng-template",null,3,t.gJz)(3,Jt,6,5,"div",4),t.wVc(4,"async"),t.I0R(5,"div"),t.yuY(6,jt,1,1,"gitfire-comment-editor",5),t.wVc(7,"async"),t.wR5(8,"gitfire-comment-list",6),t.wVc(9,"async"),t.C$Y()()),2&n){const e=t.Gew(2),o=t.GaO();let i,u;t.yG2(3),t.E7m("ngIf",t.kDX(4,5,o.pageInfo$))("ngIfElse",e),t.yG2(3),t.E7m("ngIf",!(null!=(i=t.kDX(7,7,o.pageInfo$))&&i.isProtect)),t.yG2(2),t.E7m("pageId",o.pageId)("isPageProtect",null==(u=t.kDX(9,9,o.pageInfo$))?null:u.isProtect)}}let Kt=(()=>{class n{auth;router;funcs;store;toastr;pagePath;pageJson;pageInfo$;pageId;constructor(e,o,i,u,m){this.auth=e,this.router=o,this.funcs=i,this.store=u,this.toastr=m}pagePath2PageKey(e){const o=`${r.OU.PAGE_DATA}/`,i=o.length,u=e.jsonPath;if(!u.startsWith(o))throw new Error(`Not a supported path ${u}`);return u.substring(i-1)}buildLeafUrl(){const e=this.pageJson;return e.anchorLink?e.anchorId?`${e.anchorLink}#${e.anchorId}`:e.anchorLink:this.router.url}ngOnInit(){var e=this;return(0,_.c)(function*(){(0,r.qe)("CommentEntryComponent.OnInit()",e.pagePath);const u={pageKey:e.pageJson?.pageKey||e.pagePath2PageKey(e.pagePath),leafUrl:e.buildLeafUrl()};e.pageId=yield e.funcs.call("getPageId",u),(0,r.qe)("getPageId",e.pageId,u),e.pageInfo$=e.store.doc(`/comment/v1/page/${e.pageId}`).valueChanges().pipe((0,k.C)(1))})()}doProtectPage(e){var o=this;return(0,_.c)(function*(){const i={pageId:o.pageId,unprotect:e};yield o.funcs.call("protectPage",i)})()}onClickUnProtect(){var e=this;return(0,_.c)(function*(){(0,r.qe)("CommentEntryComponent.onClickUnProtect()");try{e.doProtectPage(!0),e.toastr.info("\u30da\u30fc\u30b8\u306e\u4fdd\u8b77\u3092\u89e3\u9664\u3057\u307e\u3057\u305f\u3002")}catch(o){(0,r.sJ)(o);const i=o instanceof Error?o.message:"Unknown error";e.toastr.error(`\u30da\u30fc\u30b8\u306e\u4fdd\u8b77\u3092\u89e3\u9664\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002 ( ${i} )`)}})()}onClickWatchPage(e,o){var i=this;return(0,_.c)(function*(){(0,r.qe)("CommentEntryComponent.onClickWatchPage()");try{const u={pageId:i.pageId,isWatch:o};yield i.funcs.call("watchCommentPage",u),i.toastr.info(o?"\u30da\u30fc\u30b8\u306e Watch \u3092\u958b\u59cb\u3057\u307e\u3057\u305f\u3002":"\u30da\u30fc\u30b8\u3092 Watch \u3092\u505c\u6b62\u3057\u307e\u3057\u305f\u3002")}catch(u){(0,r.sJ)(u);const m=u instanceof Error?u.message:"Unknown error";i.toastr.error(`\u30da\u30fc\u30b8\u306e Watch \u72b6\u614b\u3092\u5909\u66f4\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002 ( ${m} )`)}})()}onClickProtect(){var e=this;return(0,_.c)(function*(){(0,r.qe)("CommentEntryComponent.onClickProtect()");try{e.doProtectPage(!1),e.toastr.info("\u30da\u30fc\u30b8\u3092\u4fdd\u8b77\u3057\u307e\u3057\u305f\u3002")}catch(o){(0,r.sJ)(o);const i=o instanceof Error?o.message:"Unknown error";e.toastr.error(`\u30da\u30fc\u30b8\u3092\u4fdd\u8b77\u72b6\u614b\u306b\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002 ( ${i} )`)}})()}static \u0275fac=function(o){return new(o||n)(t.GI1(p.o),t.GI1($.G),t.GI1(C.W),t.GI1(v.i4),t.GI1(g.SA))};static \u0275cmp=t.In1({type:n,selectors:[["gitfire-comment-entry"]],inputs:{pagePath:"pagePath",pageJson:"pageJson"},decls:3,vars:2,consts:[["class","spinner-border text-primary","role","status",4,"ngIf"],[4,"ngIf"],["role","status",1,"spinner-border","text-primary"],["commentNothing",""],[4,"ngIf","ngIfElse"],[3,"pageId",4,"ngIf"],[3,"pageId","isPageProtect"],[1,"text-end"],["class","m-1 text-end",4,"ngIf","ngIfElse"],["class","btn btn-danger m-1","title","\u30da\u30fc\u30b8\u3078\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u7981\u6b62\u3057\u307e\u3059\u3002",3,"click",4,"ngIf"],["class","btn btn-info m-1","title","\u30da\u30fc\u30b8\u3078\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002",3,"click",4,"ngIf"],["title","\u30da\u30fc\u30b8\u3078\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u7981\u6b62\u3057\u307e\u3059\u3002",1,"btn","btn-danger","m-1",3,"click"],["title","\u30da\u30fc\u30b8\u3078\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002",1,"btn","btn-info","m-1",3,"click"],["class","p-1 border border-danger",4,"ngIf"],[1,"p-1","border","border-danger"],[1,"text-danger"],["title","\u3053\u306e\u6a5f\u80fd\u306f\u8a66\u9a13\u904b\u7528\u4e2d\u3067\u3059\u3002\u3053\u306e\u30da\u30fc\u30b8\u3078\u306e\u30b3\u30e1\u30f3\u30c8\u3001\u66f4\u65b0\u3092\u901a\u77e5\u3057\u307e\u3059\u3002",1,"btn","btn-secondary","m-1",3,"click"],["title","\u3053\u306e\u6a5f\u80fd\u306f\u8a66\u9a13\u904b\u7528\u4e2d\u3067\u3059\u3002\u3053\u306e\u30da\u30fc\u30b8\u3078\u306e\u30b3\u30e1\u30f3\u30c8\u3001\u66f4\u65b0\u901a\u77e5\u3092\u505c\u6b62\u3057\u307e\u3059\u3002",1,"btn","btn-secondary","m-1",3,"click"],[1,"m-1","text-end"],["class","text-warning",4,"ngIf"],[1,"text-warning"],[3,"pageId"]],template:function(o,i){1&o&&(t.wR5(0,"hr"),t.yuY(1,wt,1,0,"span",0)(2,Ut,10,11,"div",1)),2&o&&(t.yG2(),t.E7m("ngIf",!i.pageId),t.yG2(),t.E7m("ngIf",i.pageId))},dependencies:[l.u_,Tt,G,l.a]})}return n})()}}]);