import{c as q}from"./chunk-ZKEQBYKM.js";import{$ as f,I as Re,La as oe,M as ne,P as b,Q as re,U as Se,V as B,Z as V,_ as ie,a as P,aa as p,b as ve,ba as k,ca as Pe,da as W,ea as K,f as Ie,g as ye,ia as Ce,j as v,jc as D,k as _,l as te,m as x,ma as m,o as H,oa as De,ra as j,va as C,x as _e,xc as Oe,z as be}from"./chunk-LXNYTSMG.js";import{F as ae,H as xe,K as ce,O as je,P as ue,Q as U,R as T,S as A,a as Ne,f as se,t as Me,x as Fe}from"./chunk-LZXNU2FR.js";var tt="firebase",nt="11.10.0";T(tt,nt,"app");var S=new Se("ANGULARFIRE2_VERSION");function rt(e,t,n){if(t){if(t.length===1)return t[0];let o=t.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(e).getImmediate({optional:!0})}var He=(e,t)=>{let n=t?[t]:U(),r=[];return n.forEach(i=>{i.container.getProvider(e).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},O=(function(e){return e[e.SILENT=0]="SILENT",e[e.WARN=1]="WARN",e[e.VERBOSE=2]="VERBOSE",e})(O||{}),$e=D()&&typeof Zone<"u"?O.WARN:O.SILENT;var G=class{zone;delegate;constructor(t,n=ye){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{t.apply(this,[s])}):t.apply(this,[s])};return this.delegate.schedule(o,n,r)}},N=(()=>{class e{outsideAngular;insideAngular;constructor(){let n=k(m);this.outsideAngular=n.runOutsideAngular(()=>new G(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new G(typeof Zone>"u"?void 0:Zone.current,Ie))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Le=!1;function it(e,t){!Le&&($e>O.SILENT||D())&&(Le=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),$e>=t&&console.warn(`Firebase API called outside injection context: ${e.name}`)}function ot(e){let t=k(m,{optional:!0});return t?t.runOutsideAngular(()=>e()):e()}function R(e){let t=k(m,{optional:!0});return t?t.run(()=>e()):e()}var st=(e,t,n)=>(...r)=>(t&&setTimeout(t,0),K(n,()=>R(()=>e.apply(void 0,r)))),le=(e,t,n)=>(n||=t?O.WARN:O.VERBOSE,function(){let r,i=arguments,o,s,u;try{o=k(N),s=k(De),u=k(W)}catch{return it(e,n),e.apply(this,i)}for(let c=0;c<arguments.length;c++)typeof i[c]=="function"&&(t&&(r||=R(()=>s.add())),i[c]=st(i[c],r,u));let a=ot(()=>e.apply(this,i));return t?a instanceof P?a.pipe(_(o.outsideAngular),v(o.insideAngular),q(u)):a instanceof Promise?R(()=>{let c=s.add();return new Promise((g,d)=>{a.then(M=>K(u,()=>R(()=>g(M))),M=>K(u,()=>R(()=>d(M)))).finally(c)})}):typeof a=="function"&&r?function(){return setTimeout(r,0),a.apply(this,arguments)}:R(()=>a):a instanceof P?a.pipe(_(o.outsideAngular),v(o.insideAngular)):R(()=>a)});var ct="firebase",ut="11.10.0";A.registerVersion(ct,ut,"app-compat");var lt=["ngOnDestroy"],Ve=(e,t,n,r={})=>new Proxy(e,{get:(i,o)=>n.runOutsideAngular(()=>{if(e[o])return r?.spy?.get&&r.spy.get(o,e[o]),e[o];if(lt.indexOf(o)>-1)return()=>{};let s=t.toPromise().then(u=>{let a=u?.[o];return typeof a=="function"?a.bind(u):a?.then?a.then(c=>n.run(()=>c)):n.run(()=>a)});return new Proxy(()=>{},{get:(u,a)=>s[a],apply:(u,a,c)=>s.then(g=>{let d=g?.(...c);return r?.spy?.apply&&r.spy.apply(o,c,d),d})})})});var Z=class{constructor(t){return t}},X=new f("angularfire2.app.options"),Y=new f("angularfire2.app.name");function de(e,t,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let s=A.apps.filter(u=>u&&u.name===i.name)[0]||t.runOutsideAngular(()=>A.initializeApp(e,i));try{if(JSON.stringify(e)!==JSON.stringify(s.options)){let u=!!module.hot;dt("error",`${s.name} Firebase App already initialized with different options${u?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Z(s)}var dt=(e,...t)=>{D()&&typeof console<"u"&&console[e](...t)},pt={provide:Z,useFactory:de,deps:[X,m,[new j,Y]]},kn=(()=>{class e{static initializeApp(n,r){return{ngModule:e,providers:[{provide:X,useValue:n},{provide:Y,useValue:r}]}}constructor(n){A.registerVersion("angularfire",S.full,"core"),A.registerVersion("angularfire",S.full,"app-compat"),A.registerVersion("angular",B.full,n.toString())}static \u0275fac=function(r){return new(r||e)(p(C))};static \u0275mod=oe({type:e});static \u0275inj=ie({providers:[pt]})}return e})();function We(e,t,n,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(u=>u[0]===e)||[];if(o)return ft(i,s)||(Be("error",`${t} was already initialized on the ${n} Firebase App with different settings.${ht?" You may need to reload as Firebase is not HMR aware.":""}`),Be("warn",{is:i,was:s})),o;{let u=r();return globalThis.\u0275AngularfireInstanceCache.push([e,u,i]),u}}function ft(e,t){try{return e.toString()===t.toString()}catch{return e===t}}var ht=typeof module<"u"&&!!module.hot,Be=(e,...t)=>{D()&&typeof console<"u"&&console[e](...t)};globalThis.\u0275AngularfireInstanceCache||=[];var $=class{constructor(t){return t}},pe=class{constructor(){return U()}};function gt(e){return e&&e.length===1?e[0]:new $(ue())}var fe=new f("angularfire2._apps"),mt={provide:$,useFactory:gt,deps:[[new j,fe]]},At={provide:pe,deps:[[new j,fe]]};function Et(e){return(t,n)=>{let r=n.get(C);T("angularfire",S.full,"core"),T("angularfire",S.full,"app"),T("angular",B.full,r.toString());let i=t.runOutsideAngular(()=>e(n));return new $(i)}}function Cn(e,...t){return Pe([mt,At,{provide:fe,useFactory:Et(e),multi:!0,deps:[m,Ce,N,...t]}])}var Dn=le(je,!0);var kt=new Map,Tt={activated:!1,tokenObservers:[]},wt={initialized:!1,enabled:!1};function h(e){return kt.get(e)||Object.assign({},Tt)}function Ge(){return wt}var vt="https://content-firebaseappcheck.googleapis.com/v1";var It="exchangeDebugToken",Ke={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Vn=1440*60*1e3;var me=class{constructor(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new se,this.pending.promise.catch(n=>{}),await yt(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new se,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function yt(e){return new Promise(t=>{setTimeout(t,e)})}var _t={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},I=new Fe("appCheck","AppCheck",_t);function Ze(e){if(!h(e).activated)throw I.create("use-before-activation",{appName:e.name})}async function Xe({url:e,body:t},n){let r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){let d=await i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}let o={method:"POST",body:JSON.stringify(t),headers:r},s;try{s=await fetch(e,o)}catch(d){throw I.create("fetch-network-error",{originalErrorMessage:d?.message})}if(s.status!==200)throw I.create("fetch-status-error",{httpStatus:s.status});let u;try{u=await s.json()}catch(d){throw I.create("fetch-parse-error",{originalErrorMessage:d?.message})}let a=u.ttl.match(/^([\d.]+)(s)$/);if(!a||!a[2]||isNaN(Number(a[1])))throw I.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let c=Number(a[1])*1e3,g=Date.now();return{token:u.token,expireTimeMillis:g+c,issuedAtTimeMillis:g}}function Ye(e,t){let{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${vt}/projects/${n}/apps/${r}:${It}?key=${i}`,body:{debug_token:t}}}var bt="firebase-app-check-database",Rt=1,Ae="firebase-app-check-store";var J=null;function St(){return J||(J=new Promise((e,t)=>{try{let n=indexedDB.open(bt,Rt);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(I.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;r.oldVersion===0&&i.createObjectStore(Ae,{keyPath:"compositeKey"})}}catch(n){t(I.create("storage-open",{originalErrorMessage:n?.message}))}}),J)}function Pt(e,t){return Ct(Dt(e),t)}async function Ct(e,t){let r=(await St()).transaction(Ae,"readwrite"),o=r.objectStore(Ae).put({compositeKey:e,value:t});return new Promise((s,u)=>{o.onsuccess=a=>{s()},r.onerror=a=>{var c;u(I.create("storage-set",{originalErrorMessage:(c=a.target.error)===null||c===void 0?void 0:c.message}))}})}function Dt(e){return`${e.options.appId}-${e.name}`}var L=new xe("@firebase/app-check");function he(e,t){return Me()?Pt(e,t).catch(n=>{L.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Je(){return Ge().enabled}async function Qe(){let e=Ge();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var Ot={error:"UNKNOWN_ERROR"};function Nt(e){return Ne.encodeString(JSON.stringify(e),!1)}async function Ee(e,t=!1,n=!1){let r=e.app;Ze(r);let i=h(r),o=i.token,s;if(o&&!z(o)&&(i.token=void 0,o=void 0),!o){let c=await i.cachedTokenPromise;c&&(z(c)?o=c:await he(r,void 0))}if(!t&&o&&z(o))return{token:o.token};let u=!1;if(Je())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=Xe(Ye(r,await Qe()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);let c=await i.exchangeTokenPromise;return await he(r,c),i.token=c,{token:c.token}}catch(c){return c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?L.warn(c.message):n&&L.error(c),ge(c)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),o=await h(r).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?L.warn(c.message):n&&L.error(c),s=c}let a;return o?s?z(o)?a={token:o.token,internalError:s}:a=ge(s):(a={token:o.token},i.token=o,await he(r,o)):a=ge(s),u&&jt(r,a),a}async function Mt(e){let t=e.app;Ze(t);let{provider:n}=h(t);if(Je()){let r=await Qe(),{token:i}=await Xe(Ye(t,r),e.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await n.getToken();return{token:r}}}function Ft(e,t,n,r){let{app:i}=e,o=h(i),s={next:n,error:r,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&z(o.token)){let u=o.token;Promise.resolve().then(()=>{n({token:u.token}),Ue(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Ue(e))}function et(e,t){let n=h(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Ue(e){let{app:t}=e,n=h(t),r=n.tokenRefresher;r||(r=xt(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function xt(e){let{app:t}=e;return new me(async()=>{let n=h(t),r;if(n.token?r=await Ee(e,!0):r=await Ee(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let n=h(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},Ke.RETRIAL_MIN_WAIT,Ke.RETRIAL_MAX_WAIT)}function jt(e,t){let n=h(e).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function z(e){return e.expireTimeMillis-Date.now()>0}function ge(e){return{token:Nt(Ot),error:e}}var ke=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=h(this.app);for(let n of t)et(this.app,n.next);return Promise.resolve()}};function $t(e,t){return new ke(e,t)}function Lt(e){return{getToken:t=>Ee(e,t),getLimitedUseToken:()=>Mt(e),addTokenListener:t=>Ft(e,"INTERNAL",t),removeTokenListener:t=>et(e.app,t)}}var zt="@firebase/app-check",Ht="0.10.1";var Bt="app-check",qe="app-check-internal";function Vt(){ce(new ae(Bt,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return $t(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(qe).initialize()})),ce(new ae(qe,e=>{let t=e.getProvider("app-check").getImmediate();return Lt(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),T(zt,Ht)}Vt();var Wt="app-check";var Q=class{constructor(){return He(Wt)}};var Kt=["localhost","0.0.0.0","127.0.0.1"],tr=typeof window<"u"&&Kt.includes(window.location.hostname);var qt=new f("angularfire2.auth.use-emulator"),Gt=new f("angularfire2.auth.settings"),Zt=new f("angularfire2.auth.tenant-id"),Xt=new f("angularfire2.auth.langugage-code"),Yt=new f("angularfire2.auth.use-device-language"),Jt=new f("angularfire.auth.persistence"),Qt=(e,t,n,r,i,o,s,u)=>We(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{let a=t.runOutsideAngular(()=>e.auth());if(n&&a.useEmulator(...n),r&&(a.tenantId=r),a.languageCode=i,o&&a.useDeviceLanguage(),s)for(let[c,g]of Object.entries(s))a.settings[c]=g;return u&&a.setPersistence(u),a},[n,r,i,o,s,u]),mr=(()=>{class e{injector=k(W);authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,u,a,c,g,d,M,en){let Te=new ve,F=x(void 0).pipe(v(s.outsideAngular),b(()=>o.runOutsideAngular(()=>import("./chunk-OQV2BOTV.js"))),H(()=>de(n,o,r)),H(w=>Qt(w,o,u,c,g,d,a,M)),ne({bufferSize:1,refCount:!1}));if(Oe(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=x(null);else{F.pipe(Re()).subscribe();let w=F.pipe(b(l=>l.getRedirectResult().then(E=>E,()=>null)),q(this.injector),ne({bufferSize:1,refCount:!1})),we=F.pipe(b(l=>new P(E=>({unsubscribe:o.runOutsideAngular(()=>l.onAuthStateChanged(y=>E.next(y),y=>E.error(y),()=>E.complete()))})))),ee=F.pipe(b(l=>new P(E=>({unsubscribe:o.runOutsideAngular(()=>l.onIdTokenChanged(y=>E.next(y),y=>E.error(y),()=>E.complete()))}))));this.authState=w.pipe(re(we),_(s.outsideAngular),v(s.insideAngular)),this.user=w.pipe(re(ee),_(s.outsideAngular),v(s.insideAngular)),this.idToken=this.user.pipe(b(l=>l?te(l.getIdToken()):x(null))),this.idTokenResult=this.user.pipe(b(l=>l?te(l.getIdTokenResult()):x(null))),this.credential=_e(w,Te,this.authState.pipe(be(l=>!l))).pipe(H(l=>l?.user?l:null),_(s.outsideAngular),v(s.insideAngular))}return Ve(this,F,o,{spy:{apply:(w,we,ee)=>{(w.startsWith("signIn")||w.startsWith("createUser"))&&ee.then(l=>Te.next(l))}}})}static \u0275fac=function(r){return new(r||e)(p(X),p(Y,8),p(C),p(m),p(N),p(qt,8),p(Gt,8),p(Zt,8),p(Xt,8),p(Yt,8),p(Jt,8),p(Q,8))};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})();export{S as a,rt as b,He as c,N as d,le as e,Ve as f,X as g,Y as h,de as i,kn as j,We as k,$ as l,pe as m,Cn as n,Dn as o,Q as p,qt as q,Gt as r,Zt as s,Xt as t,Yt as u,Jt as v,Qt as w,mr as x};
