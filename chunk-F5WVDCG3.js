import{$b as x,Aa as a,Ab as M,Cb as v,Db as p,Dc as ut,Fb as T,Ja as j,Kb as q,Lb as U,Mb as f,Na as at,Qa as F,Ra as w,Sa as rt,Ua as l,Wa as d,Y as D,_ as et,aa as r,ac as lt,b as _,ba as it,db as m,ea as R,eb as h,fa as P,fb as E,ha as k,ia as B,jb as V,kb as Z,la as H,lb as z,ma as N,mb as G,nc as dt,ob as ct,pb as $,qb as c,sa as nt,ta as ot,wa as st,xa as L}from"./chunk-KNL377UP.js";import{a as u,b}from"./chunk-VB56BUGO.js";var mt=["toast-component",""];function Ct(i,o){if(i&1){let t=z();m(0,"button",2),$("click",function(){R(t);let n=c();return P(n.remove())}),m(1,"span",3),p(2,"\xD7"),h()()}}function Tt(i,o){if(i&1&&(V(0),p(1),Z()),i&2){let t=c(2);a(),T("[",t.duplicatesCount+1,"]")}}function bt(i,o){if(i&1&&(m(0,"div"),p(1),l(2,Tt,2,1,"ng-container"),h()),i&2){let t=c(),e=f(0);v(e.titleClass),w("aria-label",t.title()),a(),T(" ",t.title()," "),a(),d(t.duplicatesCount?2:-1)}}function xt(i,o){if(i&1&&E(0,"div",6),i&2){let t=c(2),e=f(0);v(e.messageClass),G("innerHTML",t.message(),L)}}function yt(i,o){if(i&1&&(m(0,"div",7),p(1),h()),i&2){let t=c(2),e=f(0);v(e.messageClass),w("aria-label",t.message()),a(),T(" ",t.message()," ")}}function Dt(i,o){if(i&1&&l(0,xt,1,3,"div",4)(1,yt,2,4,"div",5),i&2){c();let t=f(0);d(t.enableHtml?0:1)}}function wt(i,o){if(i&1&&(m(0,"div"),E(1,"div",8),h()),i&2){let t=c();a(),M("width",t.width()+"%")}}function Et(i,o){if(i&1){let t=z();m(0,"button",2),$("click",function(){R(t);let n=c();return P(n.remove())}),m(1,"span",3),p(2,"\xD7"),h()()}}function Mt(i,o){if(i&1&&(V(0),p(1),Z()),i&2){let t=c(2);a(),T("[",t.duplicatesCount+1,"]")}}function It(i,o){if(i&1&&(m(0,"div"),p(1),l(2,Mt,2,1,"ng-container"),h()),i&2){let t=c(),e=f(0);v(e.titleClass),w("aria-label",t.title()),a(),T(" ",t.title()," "),a(),d(t.duplicatesCount?2:-1)}}function Ot(i,o){if(i&1&&E(0,"div",6),i&2){let t=c(2),e=f(0);v(e.messageClass),G("innerHTML",t.message(),L)}}function St(i,o){if(i&1&&(m(0,"div",7),p(1),h()),i&2){let t=c(2),e=f(0);v(e.messageClass),w("aria-label",t.message()),a(),T(" ",t.message()," ")}}function At(i,o){if(i&1&&l(0,Ot,1,3,"div",4)(1,St,2,4,"div",5),i&2){c();let t=f(0);d(t.enableHtml?0:1)}}function Rt(i,o){if(i&1&&(m(0,"div"),E(1,"div",8),h()),i&2){let t=c();a(),M("width",t.width()+"%")}}var I=class{toastId;config;message;title;toastType;toastRef;_onTap=new _;_onAction=new _;constructor(o,t,e,n,s,g){this.toastId=o,this.config=t,this.message=e,this.title=n,this.toastType=s,this.toastRef=g,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(o){this._onAction.next(o)}onAction(){return this._onAction.asObservable()}},ht={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},pt=new et("ToastConfig"),J=class{_attachedHost;component;viewContainerRef;injector;constructor(o,t){this.component=o,this.injector=t}attach(o,t){return this._attachedHost=o,o.attach(this,t)}detach(){let o=this._attachedHost;if(o)return this._attachedHost=void 0,o.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(o){this._attachedHost=o}},K=class{_attachedPortal;_disposeFn;attach(o,t){return this._attachedPortal=o,this.attachComponentPortal(o,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(o){this._disposeFn=o}},Q=class extends K{_hostDomElement;_appRef;constructor(o,t){super(),this._hostDomElement=o,this._appRef=t}attachComponentPortal(o,t){let e=dt(o.component,{environmentInjector:this._appRef.injector,elementInjector:o.injector});return this._appRef.attachView(e.hostView),this.setDisposeFn(()=>{this._appRef.detachView(e.hostView),e.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(e),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(e)),e}_getComponentRootNode(o){return o.hostView.rootNodes[0]}},Pt=(()=>{class i{_document=r(B);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}static \u0275fac=function(e){return new(e||i)};static \u0275prov=D({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),W=class{_portalHost;constructor(o){this._portalHost=o}attach(o,t=!0){return this._portalHost.attach(o,t)}detach(){return this._portalHost.detach()}},kt=(()=>{class i{_overlayContainer=r(Pt);_appRef=r(F);_document=r(B);_paneElements=new Map;create(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}getPaneElement(t="",e){return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}_createPaneElement(t,e){let n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(t){return new Q(t,this._appRef)}_createOverlayRef(t){return new W(this._createPortalHost(t))}static \u0275fac=function(e){return new(e||i)};static \u0275prov=D({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),X=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new _;_activate=new _;_manualClose=new _;_resetTimeout=new _;_countDuplicate=new _;constructor(o){this._overlayRef=o}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.closed}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(o,t){o&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}},Bt=(()=>{class i{overlay=r(kt);_injector=r(k);sanitizer=r(ut);ngZone=r(H);toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(){let t=r(pt);this.toastrConfig=u(u({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=u(u({},t.default.iconClasses),t.config.iconClasses))}show(t,e,n={},s=""){return this._preBuildNotification(s,t,e,this.applyConfig(n))}success(t,e,n={}){let s=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(s,t,e,this.applyConfig(n))}error(t,e,n={}){let s=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(s,t,e,this.applyConfig(n))}info(t,e,n={}){let s=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(s,t,e,this.applyConfig(n))}warning(t,e,n={}){let s=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(s,t,e,this.applyConfig(n))}clear(t){for(let e of this.toasts)if(t!==void 0){if(e.toastId===t){e.toastRef.manualClose();return}}else e.toastRef.manualClose()}remove(t){let e=this._findToast(t);if(!e||(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let n=this.toasts[this.currentlyActive].toastRef;n.isInactive()||(this.currentlyActive=this.currentlyActive+1,n.activate())}return!0}findDuplicate(t="",e="",n,s){let{includeTitleDuplicates:g}=this.toastrConfig;for(let C of this.toasts){let O=g&&C.title===t;if((!g||O)&&C.message===e)return C.toastRef.onDuplicate(n,s),C}return null}applyConfig(t={}){return u(u({},this.toastrConfig),t)}_findToast(t){for(let e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}_preBuildNotification(t,e,n,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,e,n,s)):this._buildNotification(t,e,n,s)}_buildNotification(t,e,n,s){if(!s.toastComponent)throw new Error("toastComponent required");let g=this.findDuplicate(n,e,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||e)&&this.toastrConfig.preventDuplicates&&g!==null)return g;this.previousToastMessage=e;let C=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(C=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let O=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let Y=e;e&&s.enableHtml&&(Y=this.sanitizer.sanitize(st.HTML,e));let y=new X(O),S=new I(this.index,s,Y,n,t,y),_t=[{provide:I,useValue:S}],vt=k.create({providers:_t,parent:this._injector}),gt=new J(s.toastComponent,vt),tt=O.attach(gt,s.newestOnTop);y.componentInstance=tt.instance;let A={toastId:this.index,title:n||"",message:e||"",toastRef:y,onShown:y.afterActivate(),onHidden:y.afterClosed(),onTap:S.onTap(),onAction:S.onAction(),portal:tt};return C||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{A.toastRef.activate()})),this.toasts.push(A),A}static \u0275fac=function(e){return new(e||i)};static \u0275prov=D({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Ht=(()=>{class i{ngZone=r(H);setInterval(t,e){return this.ngZone?this.ngZone.runOutsideAngular(()=>window.setInterval(()=>this.runInsideAngular(t),e)):window.setInterval(()=>t(),e)}setTimeout(t,e){return this.ngZone?this.ngZone.runOutsideAngular(()=>window.setTimeout(()=>this.runInsideAngular(t),e)):window.setTimeout(()=>t(),e)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}static \u0275fac=function(e){return new(e||i)};static \u0275prov=D({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ft=(()=>{class i{toastPackage=r(I);toastrService=r(Bt);appRef=r(F);timeoutsService=r(Ht);duplicatesCount;hideTime;width=N(-1);state=N("inactive");displayStyle=x(()=>this.state()==="inactive"?"none":void 0);message=x(()=>this.toastPackage.message);title=x(()=>this.toastPackage.title);options=lt(()=>this.toastPackage.config);originalTimeout=x(()=>this.toastPackage.config.timeOut);toastClasses=x(()=>`${this.toastPackage.toastType} ${this.toastPackage.config.toastClass}`);timeout;intervalId;afterActivateSubscription;manualClosedSubscription;timeoutResetSubscription;countDuplicateSubscription;constructor(){this.afterActivateSubscription=this.toastPackage.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.manualClosedSubscription=this.toastPackage.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.timeoutResetSubscription=this.toastPackage.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.countDuplicateSubscription=this.toastPackage.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}ngOnDestroy(){this.afterActivateSubscription.unsubscribe(),this.manualClosedSubscription.unsubscribe(),this.timeoutResetSubscription.unsubscribe(),this.countDuplicateSubscription.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){let t=this.options();this.state.set("active"),!(t.disableTimeOut===!0||t.disableTimeOut==="timeOut")&&t.timeOut&&(this.timeout=this.timeoutsService.setTimeout(()=>this.remove(),t.timeOut),this.hideTime=new Date().getTime()+t.timeOut,t.progressBar&&(this.intervalId=this.timeoutsService.setInterval(()=>this.updateProgress(),10)))}updateProgress(){let t=this.options();if(this.width()===0||this.width()===100||!t.timeOut)return;let e=new Date().getTime(),n=this.hideTime-e;this.width.set(n/t.timeOut*100),t.progressAnimation==="increasing"&&this.width.update(s=>100-s),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){let t=this.options();clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.update(e=>b(u({},e),{timeOut:this.originalTimeout()})),this.timeout=this.timeoutsService.setTimeout(()=>this.remove(),this.originalTimeout()),this.hideTime=new Date().getTime()+(this.originalTimeout()||0),this.width.set(-1),t.progressBar&&(this.intervalId=this.timeoutsService.setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=this.timeoutsService.setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options().tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&this.options().disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.update(t=>b(u({},t),{timeOut:0})),this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){let t=this.options();if(t.disableTimeOut===!0||t.disableTimeOut==="extendedTimeOut"||t.extendedTimeOut===0||this.state()==="removed")return;let e=t.extendedTimeOut;this.timeout=this.timeoutsService.setTimeout(()=>this.remove(),e),this.options.update(n=>b(u({},n),{timeOut:e})),this.hideTime=new Date().getTime()+(e||0),this.width.set(-1),t.progressBar&&(this.intervalId=this.timeoutsService.setInterval(()=>this.updateProgress(),10))}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=j({type:i,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(e,n){e&1&&ct("mouseenter",function(){return n.stickAround()})("mouseleave",function(){return n.delayedHideToast()})("click",function(){return n.tapToast()}),e&2&&(v(n.toastClasses()),M("display",n.displayStyle()))},attrs:mt,decls:5,vars:5,consts:[["type","button","aria-label","Close",1,"toast-close-button"],[3,"class"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"class","innerHTML"],["role","alert",3,"class"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(e,n){if(e&1&&(q(0),l(1,Ct,3,0,"button",0),l(2,bt,3,5,"div",1),l(3,Dt,2,1),l(4,wt,2,2,"div")),e&2){let s=U(n.options());a(),d(s.closeButton?1:-1),a(),d(n.title()?2:-1),a(),d(n.message()?3:-1),a(),d(s.progressBar?4:-1)}},encapsulation:2,changeDetection:0})}return i})(),Nt=(()=>{class i extends ft{params={easeTime:this.toastPackage.config.easeTime,easing:"ease-in"};elementRef=r(ot);remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.elementRef.nativeElement.classList.add("toast-out"),this.timeout=this.timeoutsService.setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.params.easeTime))}static \u0275fac=(()=>{let t;return function(n){return(t||(t=nt(i)))(n||i)}})();static \u0275cmp=j({type:i,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(e,n){e&1&&rt("toast-in"),e&2&&M("--animation-easing",n.params.easing)("--animation-duration",n.params.easeTime+"ms")},features:[at],attrs:mt,decls:5,vars:5,consts:[["type","button","aria-label","Close",1,"toast-close-button"],[3,"class"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"class","innerHTML"],["role","alert",3,"class"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(e,n){if(e&1&&(q(0),l(1,Et,3,0,"button",0),l(2,It,3,5,"div",1),l(3,At,2,1),l(4,Rt,2,2,"div")),e&2){let s=U(n.options());a(),d(s.closeButton?1:-1),a(),d(n.title()?2:-1),a(),d(n.message()?3:-1),a(),d(s.progressBar?4:-1)}},styles:[".toast-in[_nghost-%COMP%]{animation:_ngcontent-%COMP%_toast-animation var(--animation-duration) var(--animation-easing)}.toast-out[_nghost-%COMP%]{animation:_ngcontent-%COMP%_toast-animation var(--animation-duration) var(--animation-easing) reverse forwards}@keyframes _ngcontent-%COMP%_toast-animation{0%{opacity:0}to{opacity:1}}"],changeDetection:0})}return i})(),Lt=b(u({},ht),{toastComponent:Nt}),Xt=(i={})=>it([{provide:pt,useValue:{default:Lt,config:i}}]);var Yt=b(u({},ht),{toastComponent:ft});export{Bt as a,Nt as b,Xt as c};
