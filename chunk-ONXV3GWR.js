import{a as m}from"./chunk-M5PFS4RI.js";import{Ac as l,C as p,O as c,Pc as s,Z as h,aa as f,m as n,o as a}from"./chunk-Y4TIFGVV.js";var u=class o{constructor(t){this.http=t}fetchJson(t,r){s(`HttpService: Fetch data from ${t}`);let e=this.buildUrl(t,r);return this.http.get(e)}fetchDataJson(t,r){return this.fetchGhJson(`/__Data${t}`,r)}fetchGhJson(t,r){return this.fetchJson(t,r)}fetchText(t,r){s(`HttpService: Fetch data from ${t}`);let e=this.buildUrl(t,r);return this.http.get(e,{responseType:"text"})}getBaseUrl(t){if(!(t.startsWith("http://")||t.startsWith("https://")))return`https://${window.location.hostname}/`}buildUrl(t,r){let e=this.getBaseUrl(t),i=new URL(t,e);return r?.addNonce&&i.searchParams.set("dummy",m(3)),s("buildingUrl",i),i.toString()}fetchGhJsonLoading(t,r){return this.fetchGhJson(t,r).pipe(a(e=>({status:"Success",value:e})),c({status:"Loading"}),p(e=>(console.log(e),n({status:"Error",error:e,errorMessage:"HTTP Error"}))))}static \u0275fac=function(r){return new(r||o)(f(l))};static \u0275prov=h({token:o,factory:o.\u0275fac,providedIn:"root"})};export{u as a};
