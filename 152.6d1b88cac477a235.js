"use strict";(self.webpackChunkKaguraGithubPages=self.webpackChunkKaguraGithubPages||[]).push([[152],{762(Qe,Ae,w){w.d(Ae,{A:()=>o.A});var o=w(9574);o.A.registerVersion("firebase","11.10.0","app-compat")},1152(Qe,Ae,w){w.d(Ae,{$z:()=>E,AU:()=>p,CP:()=>ge,DS:()=>W,UB:()=>M,ZP:()=>v,gF:()=>j,yy:()=>F}),w(2268);var V=w(177),P=w(375),I=w(5547),pe=w(9079),Ce=w(5407),ke=w(4121),_e=w(9253),se=w(1985),A=w(1413),R=w(8455),U=w(7786),ee=w(7673),re=w(5964),ve=w(8939),te=w(6354),X=w(941),q=w(9568),me=w(6745),$=w(5558),de=w(7083);w(762);const ge=new P.nKC("angularfire2.auth.use-emulator"),F=new P.nKC("angularfire2.auth.settings"),v=new P.nKC("angularfire2.auth.tenant-id"),E=new P.nKC("angularfire2.auth.langugage-code"),p=new P.nKC("angularfire2.auth.use-device-language"),M=new P.nKC("angularfire.auth.persistence"),j=(he,ae,fe,be,He,Te,xe,Ue)=>(0,_e.BM)(`${he.name}.auth`,"AngularFireAuth",he.name,()=>{const Ne=ae.runOutsideAngular(()=>he.auth());if(fe&&Ne.useEmulator(...fe),be&&(Ne.tenantId=be),Ne.languageCode=He,Te&&Ne.useDeviceLanguage(),xe)for(const[ne,z]of Object.entries(xe))Ne.settings[ne]=z;return Ue&&Ne.setPersistence(Ue),Ne},[fe,be,He,Te,xe,Ue]);let W=(()=>{class he{injector=(0,P.WQX)(P.uvJ);authState;idToken;user;idTokenResult;credential;constructor(fe,be,He,Te,xe,Ue,Ne,ne,z,Ye,Je,tt){const Me=new A.B,We=(0,ee.of)(void 0).pipe((0,X.Q)(xe.outsideAngular),(0,$.n)(()=>Te.runOutsideAngular(()=>Promise.resolve().then(w.bind(w,2268)))),(0,te.T)(()=>(0,_e.iB)(fe,Te,be)),(0,te.T)(Be=>j(Be,Te,Ue,ne,z,Ye,Ne,Je)),(0,q.t)({bufferSize:1,refCount:!1}));if((0,V.Vy)(He))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ee.of)(null);else{We.pipe((0,ve.$)()).subscribe();const Be=We.pipe((0,$.n)(ce=>ce.getRedirectResult().then(Re=>Re,()=>null)),(0,pe.YV)(this.injector),(0,q.t)({bufferSize:1,refCount:!1})),nt=We.pipe((0,$.n)(ce=>new se.c(Re=>({unsubscribe:Te.runOutsideAngular(()=>ce.onAuthStateChanged($e=>Re.next($e),$e=>Re.error($e),()=>Re.complete()))})))),ut=We.pipe((0,$.n)(ce=>new se.c(Re=>({unsubscribe:Te.runOutsideAngular(()=>ce.onIdTokenChanged($e=>Re.next($e),$e=>Re.error($e),()=>Re.complete()))}))));this.authState=Be.pipe((0,de.K)(nt),(0,me._)(xe.outsideAngular),(0,X.Q)(xe.insideAngular)),this.user=Be.pipe((0,de.K)(ut),(0,me._)(xe.outsideAngular),(0,X.Q)(xe.insideAngular)),this.idToken=this.user.pipe((0,$.n)(ce=>ce?(0,R.H)(ce.getIdToken()):(0,ee.of)(null))),this.idTokenResult=this.user.pipe((0,$.n)(ce=>ce?(0,R.H)(ce.getIdTokenResult()):(0,ee.of)(null))),this.credential=(0,U.h)(Be,Me,this.authState.pipe((0,re.p)(ce=>!ce))).pipe((0,te.T)(ce=>ce?.user?ce:null),(0,me._)(xe.outsideAngular),(0,X.Q)(xe.insideAngular))}return(0,_e.Gt)(this,We,Te,{spy:{apply:(Be,nt,ut)=>{(Be.startsWith("signIn")||Be.startsWith("createUser"))&&ut.then(ce=>Me.next(ce))}}})}static \u0275fac=function(be){return new(be||he)(P.KVO(_e.rx),P.KVO(_e.uP,8),P.KVO(I.Agw),P.KVO(P.SKi),P.KVO(Ce.u0),P.KVO(ge,8),P.KVO(F,8),P.KVO(v,8),P.KVO(E,8),P.KVO(p,8),P.KVO(M,8),P.KVO(ke.kR,8))};static \u0275prov=P.jDH({token:he,factory:he.\u0275fac,providedIn:"any"})}return he})()},1631(Qe,Ae,w){w.r(Ae),w.d(Ae,{FirebaseError:()=>I.g,SDK_VERSION:()=>Rt,_DEFAULT_ENTRY_NAME:()=>Te,_addComponent:()=>z,_addOrOverwriteComponent:()=>Ye,_apps:()=>Ue,_clearComponents:()=>nt,_components:()=>ne,_getProvider:()=>tt,_isFirebaseApp:()=>We,_isFirebaseServerApp:()=>Be,_registerComponent:()=>Je,_removeServiceInstance:()=>Me,_serverApps:()=>Ne,deleteApp:()=>Kt,getApp:()=>lt,getApps:()=>Lt,initializeApp:()=>it,initializeServerApp:()=>St,onLog:()=>ht,registerVersion:()=>dt,setLogLevel:()=>At});var o=w(467),V=w(8779),P=w(5398),I=w(1871),pe=w(6749);class Ce{constructor(y){this.container=y}getPlatformInfoString(){return this.container.getProviders().map(C=>{if(function ke(D){const y=D.getComponent();return"VERSION"===y?.type}(C)){const L=C.getImmediate();return`${L.library}/${L.version}`}return null}).filter(C=>C).join(" ")}}const _e="@firebase/app",se="0.13.2",A=new P.Vy("@firebase/app"),R="@firebase/app-compat",U="@firebase/analytics-compat",ee="@firebase/analytics",re="@firebase/app-check-compat",ve="@firebase/app-check",te="@firebase/auth",X="@firebase/auth-compat",q="@firebase/database",me="@firebase/data-connect",$="@firebase/database-compat",de="@firebase/functions",Y="@firebase/functions-compat",B="@firebase/installations",ge="@firebase/installations-compat",F="@firebase/messaging",v="@firebase/messaging-compat",E="@firebase/performance",p="@firebase/performance-compat",M="@firebase/remote-config",j="@firebase/remote-config-compat",W="@firebase/storage",oe="@firebase/storage-compat",he="@firebase/firestore",ae="@firebase/ai",fe="@firebase/firestore-compat",be="firebase",Te="[DEFAULT]",xe={[_e]:"fire-core",[R]:"fire-core-compat",[ee]:"fire-analytics",[U]:"fire-analytics-compat",[ve]:"fire-app-check",[re]:"fire-app-check-compat",[te]:"fire-auth",[X]:"fire-auth-compat",[q]:"fire-rtdb",[me]:"fire-data-connect",[$]:"fire-rtdb-compat",[de]:"fire-fn",[Y]:"fire-fn-compat",[B]:"fire-iid",[ge]:"fire-iid-compat",[F]:"fire-fcm",[v]:"fire-fcm-compat",[E]:"fire-perf",[p]:"fire-perf-compat",[M]:"fire-rc",[j]:"fire-rc-compat",[W]:"fire-gcs",[oe]:"fire-gcs-compat",[he]:"fire-fst",[fe]:"fire-fst-compat",[ae]:"fire-vertex","fire-js":"fire-js",[be]:"fire-js-all"},Ue=new Map,Ne=new Map,ne=new Map;function z(D,y){try{D.container.addComponent(y)}catch(C){A.debug(`Component ${y.name} failed to register with FirebaseApp ${D.name}`,C)}}function Ye(D,y){D.container.addOrOverwriteComponent(y)}function Je(D){const y=D.name;if(ne.has(y))return A.debug(`There were multiple attempts to register component ${y}.`),!1;ne.set(y,D);for(const C of Ue.values())z(C,D);for(const C of Ne.values())z(C,D);return!0}function tt(D,y){const C=D.container.getProvider("heartbeat").getImmediate({optional:!0});return C&&C.triggerHeartbeat(),D.container.getProvider(y)}function Me(D,y,C=Te){tt(D,y).clearInstance(C)}function We(D){return void 0!==D.options}function Be(D){return null!=D&&void 0!==D.settings}function nt(){ne.clear()}const ce=new I.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Re{constructor(y,C,L){this._isDeleted=!1,this._options=Object.assign({},y),this._config=Object.assign({},C),this._name=C.name,this._automaticDataCollectionEnabled=C.automaticDataCollectionEnabled,this._container=L,this.container.addComponent(new V.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(y){this.checkDestroyed(),this._automaticDataCollectionEnabled=y}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(y){this._isDeleted=y}checkDestroyed(){if(this.isDeleted)throw ce.create("app-deleted",{appName:this._name})}}function $e(D,y){const C=(0,I.u)(D.split(".")[1]);null!==C?void 0!==JSON.parse(C).exp?1e3*JSON.parse(C).exp-(new Date).getTime()<=0&&console.error(`FirebaseServerApp ${y} is invalid: the token has expired.`):console.error(`FirebaseServerApp ${y} is invalid: expiration claim could not be parsed`):console.error(`FirebaseServerApp ${y} is invalid: second part could not be parsed.`)}class rt extends Re{constructor(y,C,L,J){const Z=void 0===C.automaticDataCollectionEnabled||C.automaticDataCollectionEnabled,ue={name:L,automaticDataCollectionEnabled:Z};super(void 0!==y.apiKey?y:y.options,ue,J),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Z},C),this._serverConfig.authIdToken&&$e(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&$e(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,C.releaseOnDeref=void 0,dt(_e,se,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(y){this.isDeleted||(this._refCount++,void 0!==y&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(y,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Kt(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ce.create("server-app-deleted")}}const Rt="11.10.0";function it(D,y={}){let C=D;"object"!=typeof y&&(y={name:y});const L=Object.assign({name:Te,automaticDataCollectionEnabled:!0},y),J=L.name;if("string"!=typeof J||!J)throw ce.create("bad-app-name",{appName:String(J)});if(C||(C=(0,I.T9)()),!C)throw ce.create("no-options");const Z=Ue.get(J);if(Z){if((0,I.bD)(C,Z.options)&&(0,I.bD)(L,Z.config))return Z;throw ce.create("duplicate-app",{appName:J})}const ue=new V.h1(J);for(const we of ne.values())ue.addComponent(we);const Le=new Re(C,L,ue);return Ue.set(J,Le),Le}function St(D,y){if((0,I.Bd)()&&!(0,I.p7)())throw ce.create("invalid-server-app-environment");let C;void 0===y.automaticDataCollectionEnabled&&(y.automaticDataCollectionEnabled=!0),C=We(D)?D.options:D;const L=Object.assign(Object.assign({},y),C);if(void 0!==L.releaseOnDeref&&delete L.releaseOnDeref,void 0!==y.releaseOnDeref&&typeof FinalizationRegistry>"u")throw ce.create("finalization-registry-not-supported",{});const Z=""+(xt=JSON.stringify(L),[...xt].reduce((u,a)=>Math.imul(31,u)+a.charCodeAt(0)|0,0)),ue=Ne.get(Z);var xt;if(ue)return ue.incRefCount(y.releaseOnDeref),ue;const Le=new V.h1(Z);for(const xt of ne.values())Le.addComponent(xt);const we=new rt(C,y,Z,Le);return Ne.set(Z,we),we}function lt(D=Te){const y=Ue.get(D);if(!y&&D===Te&&(0,I.T9)())return it();if(!y)throw ce.create("no-app",{appName:D});return y}function Lt(){return Array.from(Ue.values())}function Kt(D){return Et.apply(this,arguments)}function Et(){return(Et=(0,o.A)(function*(D){let y=!1;const C=D.name;Ue.has(C)?(y=!0,Ue.delete(C)):Ne.has(C)&&D.decRefCount()<=0&&(Ne.delete(C),y=!0),y&&(yield Promise.all(D.container.getProviders().map(L=>L.delete())),D.isDeleted=!0)})).apply(this,arguments)}function dt(D,y,C){var L;let J=null!==(L=xe[D])&&void 0!==L?L:D;C&&(J+=`-${C}`);const Z=J.match(/\s|\//),ue=y.match(/\s|\//);if(Z||ue){const Le=[`Unable to register library "${J}" with version "${y}":`];return Z&&Le.push(`library name "${J}" contains illegal characters (whitespace or "/")`),Z&&ue&&Le.push("and"),ue&&Le.push(`version name "${y}" contains illegal characters (whitespace or "/")`),void A.warn(Le.join(" "))}Je(new V.uA(`${J}-version`,()=>({library:J,version:y}),"VERSION"))}function ht(D,y){if(null!==D&&"function"!=typeof D)throw ce.create("invalid-log-argument");(0,P.Ey)(D,y)}function At(D){(0,P.He)(D)}const Ke="firebase-heartbeat-store";let Tt=null;function _t(){return Tt||(Tt=(0,pe.P2)("firebase-heartbeat-database",1,{upgrade:(D,y)=>{if(0===y)try{D.createObjectStore(Ke)}catch(C){console.warn(C)}}}).catch(D=>{throw ce.create("idb-open",{originalErrorMessage:D.message})})),Tt}function st(){return(st=(0,o.A)(function*(D){try{const C=(yield _t()).transaction(Ke),L=yield C.objectStore(Ke).get(ot(D));return yield C.done,L}catch(y){if(y instanceof I.g)A.warn(y.message);else{const C=ce.create("idb-get",{originalErrorMessage:y?.message});A.warn(C.message)}}})).apply(this,arguments)}function mt(D,y){return je.apply(this,arguments)}function je(){return(je=(0,o.A)(function*(D,y){try{const L=(yield _t()).transaction(Ke,"readwrite");yield L.objectStore(Ke).put(y,ot(D)),yield L.done}catch(C){if(C instanceof I.g)A.warn(C.message);else{const L=ce.create("idb-set",{originalErrorMessage:C?.message});A.warn(L.message)}}})).apply(this,arguments)}function ot(D){return`${D.name}!${D.options.appId}`}class kt{constructor(y){this.container=y,this._heartbeatsCache=null;const C=this.container.getProvider("app").getImmediate();this._storage=new It(C),this._heartbeatsCachePromise=this._storage.read().then(L=>(this._heartbeatsCache=L,L))}triggerHeartbeat(){var y=this;return(0,o.A)(function*(){var C,L;try{const Z=y.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ue=Xe();if(null==(null===(C=y._heartbeatsCache)||void 0===C?void 0:C.heartbeats)&&(y._heartbeatsCache=yield y._heartbeatsCachePromise,null==(null===(L=y._heartbeatsCache)||void 0===L?void 0:L.heartbeats))||y._heartbeatsCache.lastSentHeartbeatDate===ue||y._heartbeatsCache.heartbeats.some(Le=>Le.date===ue))return;if(y._heartbeatsCache.heartbeats.push({date:ue,agent:Z}),y._heartbeatsCache.heartbeats.length>30){const Le=function Mt(D){if(0===D.length)return-1;let y=0,C=D[0].date;for(let L=1;L<D.length;L++)D[L].date<C&&(C=D[L].date,y=L);return y}(y._heartbeatsCache.heartbeats);y._heartbeatsCache.heartbeats.splice(Le,1)}return y._storage.overwrite(y._heartbeatsCache)}catch(J){A.warn(J)}})()}getHeartbeatsHeader(){var y=this;return(0,o.A)(function*(){var C;try{if(null===y._heartbeatsCache&&(yield y._heartbeatsCachePromise),null==(null===(C=y._heartbeatsCache)||void 0===C?void 0:C.heartbeats)||0===y._heartbeatsCache.heartbeats.length)return"";const L=Xe(),{heartbeatsToSend:J,unsentEntries:Z}=function vt(D,y=1024){const C=[];let L=D.slice();for(const J of D){const Z=C.find(ue=>ue.agent===J.agent);if(Z){if(Z.dates.push(J.date),bt(C)>y){Z.dates.pop();break}}else if(C.push({agent:J.agent,dates:[J.date]}),bt(C)>y){C.pop();break}L=L.slice(1)}return{heartbeatsToSend:C,unsentEntries:L}}(y._heartbeatsCache.heartbeats),ue=(0,I.Uj)(JSON.stringify({version:2,heartbeats:J}));return y._heartbeatsCache.lastSentHeartbeatDate=L,Z.length>0?(y._heartbeatsCache.heartbeats=Z,yield y._storage.overwrite(y._heartbeatsCache)):(y._heartbeatsCache.heartbeats=[],y._storage.overwrite(y._heartbeatsCache)),ue}catch(L){return A.warn(L),""}})()}}function Xe(){return(new Date).toISOString().substring(0,10)}class It{constructor(y){this.app=y,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.A)(function*(){return!!(0,I.zW)()&&(0,I.eX)().then(()=>!0).catch(()=>!1)})()}read(){var y=this;return(0,o.A)(function*(){if(yield y._canUseIndexedDBPromise){const L=yield function gt(D){return st.apply(this,arguments)}(y.app);return L?.heartbeats?L:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(y){var C=this;return(0,o.A)(function*(){var L;if(yield C._canUseIndexedDBPromise){const Z=yield C.read();return mt(C.app,{lastSentHeartbeatDate:null!==(L=y.lastSentHeartbeatDate)&&void 0!==L?L:Z.lastSentHeartbeatDate,heartbeats:y.heartbeats})}})()}add(y){var C=this;return(0,o.A)(function*(){var L;if(yield C._canUseIndexedDBPromise){const Z=yield C.read();return mt(C.app,{lastSentHeartbeatDate:null!==(L=y.lastSentHeartbeatDate)&&void 0!==L?L:Z.lastSentHeartbeatDate,heartbeats:[...Z.heartbeats,...y.heartbeats]})}})()}}function bt(D){return(0,I.Uj)(JSON.stringify({version:2,heartbeats:D})).length}!function wt(D){Je(new V.uA("platform-logger",y=>new Ce(y),"PRIVATE")),Je(new V.uA("heartbeat",y=>new kt(y),"PRIVATE")),dt(_e,se,D),dt(_e,se,"esm2017"),dt("fire-js","")}("")},1871(Qe,Ae,w){w.d(Ae,{cY:()=>F,FA:()=>$e,g:()=>Re,dM:()=>ut,K3:()=>_e,u:()=>U,Uj:()=>R,gR:()=>ht,Fy:()=>M,tD:()=>ot,bD:()=>Ke,zw:()=>re,hp:()=>mt,T9:()=>B,XA:()=>ge,mS:()=>te,Ku:()=>xt,ZQ:()=>fe,Bd:()=>Te,sr:()=>Ne,zJ:()=>v,c1:()=>Ue,Im:()=>ft,lT:()=>Ye,zW:()=>Be,jZ:()=>be,Ll:()=>He,lV:()=>ne,nr:()=>Me,Ov:()=>We,p7:()=>xe,gE:()=>E,Am:()=>gt,I9:()=>st,P1:()=>ae,eX:()=>nt});var o=w(467);const Ce=function(u){const a=[];let h=0;for(let b=0;b<u.length;b++){let m=u.charCodeAt(b);m<128?a[h++]=m:m<2048?(a[h++]=m>>6|192,a[h++]=63&m|128):55296==(64512&m)&&b+1<u.length&&56320==(64512&u.charCodeAt(b+1))?(m=65536+((1023&m)<<10)+(1023&u.charCodeAt(++b)),a[h++]=m>>18|240,a[h++]=m>>12&63|128,a[h++]=m>>6&63|128,a[h++]=63&m|128):(a[h++]=m>>12|224,a[h++]=m>>6&63|128,a[h++]=63&m|128)}return a},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(u,a){if(!Array.isArray(u))throw Error("encodeByteArray takes an array as a parameter");this.init_();const h=a?this.byteToCharMapWebSafe_:this.byteToCharMap_,b=[];for(let m=0;m<u.length;m+=3){const x=u[m],Q=m+1<u.length,ye=Q?u[m+1]:0,Oe=m+2<u.length,Fe=Oe?u[m+2]:0;let G=(15&ye)<<2|Fe>>6,Ge=63&Fe;Oe||(Ge=64,Q||(G=64)),b.push(h[x>>2],h[(3&x)<<4|ye>>4],h[G],h[Ge])}return b.join("")},encodeString(u,a){return this.HAS_NATIVE_SUPPORT&&!a?btoa(u):this.encodeByteArray(Ce(u),a)},decodeString(u,a){return this.HAS_NATIVE_SUPPORT&&!a?atob(u):function(u){const a=[];let h=0,b=0;for(;h<u.length;){const m=u[h++];if(m<128)a[b++]=String.fromCharCode(m);else if(m>191&&m<224){const x=u[h++];a[b++]=String.fromCharCode((31&m)<<6|63&x)}else if(m>239&&m<365){const Oe=((7&m)<<18|(63&u[h++])<<12|(63&u[h++])<<6|63&u[h++])-65536;a[b++]=String.fromCharCode(55296+(Oe>>10)),a[b++]=String.fromCharCode(56320+(1023&Oe))}else{const x=u[h++],Q=u[h++];a[b++]=String.fromCharCode((15&m)<<12|(63&x)<<6|63&Q)}}return a.join("")}(this.decodeStringToByteArray(u,a))},decodeStringToByteArray(u,a){this.init_();const h=a?this.charToByteMapWebSafe_:this.charToByteMap_,b=[];for(let m=0;m<u.length;){const x=h[u.charAt(m++)],ye=m<u.length?h[u.charAt(m)]:0;++m;const Fe=m<u.length?h[u.charAt(m)]:64;++m;const ie=m<u.length?h[u.charAt(m)]:64;if(++m,null==x||null==ye||null==Fe||null==ie)throw new se;b.push(x<<2|ye>>4),64!==Fe&&(b.push(ye<<4&240|Fe>>2),64!==ie&&b.push(Fe<<6&192|ie))}return b},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let u=0;u<this.ENCODED_VALS.length;u++)this.byteToCharMap_[u]=this.ENCODED_VALS.charAt(u),this.charToByteMap_[this.byteToCharMap_[u]]=u,this.byteToCharMapWebSafe_[u]=this.ENCODED_VALS_WEBSAFE.charAt(u),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[u]]=u,u>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(u)]=u,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(u)]=u)}}};class se extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const R=function(u){return function(u){const a=Ce(u);return _e.encodeByteArray(a,!0)}(u).replace(/\./g,"")},U=function(u){try{return _e.decodeString(u,!0)}catch(a){console.error("base64Decode failed: ",a)}return null};function re(u,a){if(!(a instanceof Object))return a;switch(a.constructor){case Date:return new Date(a.getTime());case Object:void 0===u&&(u={});break;case Array:u=[];break;default:return a}for(const h in a)!a.hasOwnProperty(h)||!ve(h)||(u[h]=re(u[h],a[h]));return u}function ve(u){return"__proto__"!==u}function te(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $=()=>{try{return te().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const u=process.env.__FIREBASE_DEFAULTS__;return u?JSON.parse(u):void 0})()||(()=>{if(typeof document>"u")return;let u;try{u=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const a=u&&U(u[1]);return a&&JSON.parse(a)})()}catch(u){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${u}`)}},B=()=>{var u;return null===(u=$())||void 0===u?void 0:u.config},ge=u=>{var a;return null===(a=$())||void 0===a?void 0:a[`_${u}`]};class F{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((a,h)=>{this.resolve=a,this.reject=h})}wrapCallback(a){return(h,b)=>{h?this.reject(h):this.resolve(b),"function"==typeof a&&(this.promise.catch(()=>{}),1===a.length?a(h):a(h,b))}}}function v(u){try{return(u.startsWith("http://")||u.startsWith("https://")?new URL(u).hostname:u).endsWith(".cloudworkstations.dev")}catch{return!1}}function E(u){return p.apply(this,arguments)}function p(){return(p=(0,o.A)(function*(u){return(yield fetch(u,{credentials:"include"})).ok})).apply(this,arguments)}function M(u,a){if(u.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const b=a||"demo-project",m=u.iat||0,x=u.sub||u.user_id;if(!x)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Q=Object.assign({iss:`https://securetoken.google.com/${b}`,aud:b,iat:m,exp:m+3600,auth_time:m,sub:x,user_id:x,firebase:{sign_in_provider:"custom",identities:{}}},u);return[R(JSON.stringify({alg:"none",type:"JWT"})),R(JSON.stringify(Q)),""].join(".")}const j={};let he=!1;function ae(u,a){if(typeof window>"u"||typeof document>"u"||!v(window.location.host)||j[u]===a||j[u]||he)return;function h(G){return`__firebase__banner__${G}`}j[u]=a;const b="__firebase__banner",x=function W(){const u={prod:[],emulator:[]};for(const a of Object.keys(j))j[a]?u.emulator.push(a):u.prod.push(a);return u}().prod.length>0;function ie(){const G=function oe(u){let a=document.getElementById(u),h=!1;return a||(a=document.createElement("div"),a.setAttribute("id",u),h=!0),{created:h,element:a}}(b),Ge=h("text"),yt=document.getElementById(Ge)||document.createElement("span"),Ut=h("learnmore"),Ft=document.getElementById(Ut)||document.createElement("a"),cn=h("preprendIcon"),Vt=document.getElementById(cn)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(G.created){const Wt=G.element;(function ye(G){G.style.display="flex",G.style.background="#7faaf0",G.style.position="fixed",G.style.bottom="5px",G.style.left="5px",G.style.padding=".5em",G.style.borderRadius="5px",G.style.alignItems="center"})(Wt),function qe(G,Ge){G.setAttribute("id",Ge),G.innerText="Learn more",G.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",G.setAttribute("target","__blank"),G.style.paddingLeft="5px",G.style.textDecoration="underline"}(Ft,Ut);const An=function Fe(){const G=document.createElement("span");return G.style.cursor="pointer",G.style.marginLeft="16px",G.style.fontSize="24px",G.innerHTML=" &times;",G.onclick=()=>{he=!0,function Q(){const G=document.getElementById(b);G&&G.remove()}()},G}();(function Oe(G,Ge){G.setAttribute("width","24"),G.setAttribute("id",Ge),G.setAttribute("height","24"),G.setAttribute("viewBox","0 0 24 24"),G.setAttribute("fill","none"),G.style.marginLeft="-6px"})(Vt,cn),Wt.append(Vt,yt,Ft,An),document.body.appendChild(Wt)}x?(yt.innerText="Preview backend disconnected.",Vt.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(Vt.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',yt.innerText="Preview backend running in this workspace."),yt.setAttribute("id",Ge)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",ie):ie()}function fe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function be(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fe())}function He(){var u;const a=null===(u=$())||void 0===u?void 0:u.forceEnvironment;if("node"===a)return!0;if("browser"===a)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Te(){return typeof window<"u"||xe()}function xe(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Ue(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Ne(){const u="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof u&&void 0!==u.id}function ne(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ye(){const u=fe();return u.indexOf("MSIE ")>=0||u.indexOf("Trident/")>=0}function Me(){return!He()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function We(){return!He()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Be(){try{return"object"==typeof indexedDB}catch{return!1}}function nt(){return new Promise((u,a)=>{try{let h=!0;const b="validate-browser-context-for-indexeddb-analytics-module",m=self.indexedDB.open(b);m.onsuccess=()=>{m.result.close(),h||self.indexedDB.deleteDatabase(b),u(!0)},m.onupgradeneeded=()=>{h=!1},m.onerror=()=>{var x;a((null===(x=m.error)||void 0===x?void 0:x.message)||"")}}catch(h){a(h)}})}function ut(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Re extends Error{constructor(a,h,b){super(h),this.code=a,this.customData=b,this.name="FirebaseError",Object.setPrototypeOf(this,Re.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$e.prototype.create)}}class $e{constructor(a,h,b){this.service=a,this.serviceName=h,this.errors=b}create(a,...h){const b=h[0]||{},m=`${this.service}/${a}`,x=this.errors[a],Q=x?function rt(u,a){return u.replace(Rt,(h,b)=>{const m=a[b];return null!=m?String(m):`<${b}?>`})}(x,b):"Error";return new Re(m,`${this.serviceName}: ${Q} (${m}).`,b)}}const Rt=/\{\$([^}]+)}/g;function ht(u,a){return Object.prototype.hasOwnProperty.call(u,a)}function ft(u){for(const a in u)if(Object.prototype.hasOwnProperty.call(u,a))return!1;return!0}function Ke(u,a){if(u===a)return!0;const h=Object.keys(u),b=Object.keys(a);for(const m of h){if(!b.includes(m))return!1;const x=u[m],Q=a[m];if(Tt(x)&&Tt(Q)){if(!Ke(x,Q))return!1}else if(x!==Q)return!1}for(const m of b)if(!h.includes(m))return!1;return!0}function Tt(u){return null!==u&&"object"==typeof u}function gt(u){const a=[];for(const[h,b]of Object.entries(u))Array.isArray(b)?b.forEach(m=>{a.push(encodeURIComponent(h)+"="+encodeURIComponent(m))}):a.push(encodeURIComponent(h)+"="+encodeURIComponent(b));return a.length?"&"+a.join("&"):""}function st(u){const a={};return u.replace(/^\?/,"").split("&").forEach(b=>{if(b){const[m,x]=b.split("=");a[decodeURIComponent(m)]=decodeURIComponent(x)}}),a}function mt(u){const a=u.indexOf("?");if(!a)return"";const h=u.indexOf("#",a);return u.substring(a,h>0?h:void 0)}function ot(u,a){const h=new Ct(u,a);return h.subscribe.bind(h)}class Ct{constructor(a,h){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=h,this.task.then(()=>{a(this)}).catch(b=>{this.error(b)})}next(a){this.forEachObserver(h=>{h.next(a)})}error(a){this.forEachObserver(h=>{h.error(a)}),this.close(a)}complete(){this.forEachObserver(a=>{a.complete()}),this.close()}subscribe(a,h,b){let m;if(void 0===a&&void 0===h&&void 0===b)throw new Error("Missing Observer.");m=function kt(u,a){if("object"!=typeof u||null===u)return!1;for(const h of a)if(h in u&&"function"==typeof u[h])return!0;return!1}(a,["next","error","complete"])?a:{next:a,error:h,complete:b},void 0===m.next&&(m.next=Xe),void 0===m.error&&(m.error=Xe),void 0===m.complete&&(m.complete=Xe);const x=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?m.error(this.finalError):m.complete()}catch{}}),this.observers.push(m),x}unsubscribeOne(a){void 0===this.observers||void 0===this.observers[a]||(delete this.observers[a],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(a){if(!this.finalized)for(let h=0;h<this.observers.length;h++)this.sendOne(h,a)}sendOne(a,h){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[a])try{h(this.observers[a])}catch(b){typeof console<"u"&&console.error&&console.error(b)}})}close(a){this.finalized||(this.finalized=!0,void 0!==a&&(this.finalError=a),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xe(){}function xt(u){return u&&u._delegate?u._delegate:u}},2268(Qe,Ae,w){var o=w(467),V=w(9574),P=w(1631),I=w(1871),pe=w(5398),Ce=w(1635),ke=w(8779);const ve=function ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}},te=function re(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},X=new I.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),me=new pe.Vy("@firebase/auth");function de(n,...e){me.logLevel<=pe.$b.ERROR&&me.error(`Auth (${P.SDK_VERSION}): ${n}`,...e)}function Y(n,...e){throw E(n,...e)}function B(n,...e){return E(n,...e)}function ge(n,e,t){const r=Object.assign(Object.assign({},te()),{[e]:t});return new I.FA("auth","Firebase",r).create(e,{appName:n.name})}function F(n){return ge(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function v(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&Y(n,"argument-error"),ge(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function E(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return X.create(n,...e)}function p(n,e,...t){if(!n)throw E(e,...t)}function M(n){const e="INTERNAL ASSERTION FAILED: "+n;throw de(e),new Error(e)}function j(n,e){n||M(e)}function W(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function oe(){return"http:"===he()||"https:"===he()}function he(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class be{constructor(e,t){this.shortDelay=e,this.longDelay=t,j(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,I.jZ)()||(0,I.lV)()}get(){return function ae(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(oe()||(0,I.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function He(n,e){j(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Te{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void M("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void M("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void M("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ue=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ne=new be(3e4,6e4);function ne(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function z(n,e,t,r){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,o.A)(function*(n,e,t,r,i={}){return Je(n,i,(0,o.A)(function*(){let s={},c={};r&&("GET"===e?c=r:s={body:JSON.stringify(r)});const l=(0,I.Am)(Object.assign({key:n.config.apiKey},c)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const S=Object.assign({method:e,headers:g},s);return(0,I.c1)()||(S.referrerPolicy="no-referrer"),n.emulatorConfig&&(0,I.zJ)(n.emulatorConfig.host)&&(S.credentials="include"),Te.fetch()(yield Be(n,n.config.apiHost,t,l),S)}))})).apply(this,arguments)}function Je(n,e,t){return tt.apply(this,arguments)}function tt(){return(tt=(0,o.A)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},xe),e);try{const i=new ce(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const c=yield s.json();if("needConfirmation"in c)throw Re(n,"account-exists-with-different-credential",c);if(s.ok&&!("errorMessage"in c))return c;{const l=s.ok?c.errorMessage:c.error.message,[g,S]=l.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===g)throw Re(n,"credential-already-in-use",c);if("EMAIL_EXISTS"===g)throw Re(n,"email-already-in-use",c);if("USER_DISABLED"===g)throw Re(n,"user-disabled",c);const N=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(S)throw ge(n,N,S);Y(n,N)}}catch(i){if(i instanceof I.g)throw i;Y(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Me(n,e,t,r){return We.apply(this,arguments)}function We(){return(We=(0,o.A)(function*(n,e,t,r,i={}){const s=yield z(n,e,t,r,i);return"mfaPendingCredential"in s&&Y(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function Be(n,e,t,r){return nt.apply(this,arguments)}function nt(){return(nt=(0,o.A)(function*(n,e,t,r){const i=`${e}${t}?${r}`,s=n,c=s.config.emulator?He(n.config,i):`${n.config.apiScheme}://${i}`;return Ue.includes(t)&&(yield s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())?s._getPersistence()._getFinalTarget(c).toString():c})).apply(this,arguments)}function ut(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ce{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(B(this.auth,"network-request-failed")),Ne.get())})}}function Re(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=B(n,e,r);return i.customData._tokenResponse=t,i}function $e(n){return void 0!==n&&void 0!==n.getResponse}function rt(n){return void 0!==n&&void 0!==n.enterprise}class Rt{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ut(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}function St(){return(St=(0,o.A)(function*(n){return(yield z(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function lt(n,e){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,o.A)(function*(n,e){return z(n,"GET","/v2/recaptchaConfig",ne(n,e))})).apply(this,arguments)}function Et(){return(Et=(0,o.A)(function*(n,e){return z(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function ht(){return(ht=(0,o.A)(function*(n,e){return z(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function At(n,e){return ft.apply(this,arguments)}function ft(){return(ft=(0,o.A)(function*(n,e){return z(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function pt(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function _t(){return(_t=(0,o.A)(function*(n,e=!1){const t=(0,I.Ku)(n),r=yield t.getIdToken(e),i=st(r);p(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,c=s?.sign_in_provider;return{claims:i,token:r,authTime:pt(gt(i.auth_time)),issuedAtTime:pt(gt(i.iat)),expirationTime:pt(gt(i.exp)),signInProvider:c||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function gt(n){return 1e3*Number(n)}function st(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return de("JWT malformed, contained fewer than 3 sections"),null;try{const i=(0,I.u)(t);return i?JSON.parse(i):(de("Failed to decode base64 JWT payload"),null)}catch(i){return de("Caught error parsing JWT payload as JSON",i?.toString()),null}}function mt(n){const e=st(n);return p(e,"internal-error"),p(typeof e.exp<"u","internal-error"),p(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function je(n,e){return ot.apply(this,arguments)}function ot(){return(ot=(0,o.A)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof I.g&&function Ct({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class Yt{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,o.A)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,o.A)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class kt{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=pt(this.lastLoginAt),this.creationTime=pt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Xe(n){return vt.apply(this,arguments)}function vt(){return(vt=(0,o.A)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield je(n,At(t,{idToken:r}));p(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const c=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?wt(s.providerUserInfo):[],l=function Mt(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,c),N=!!n.isAnonymous&&!(n.email&&s.passwordHash||l?.length),k={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new kt(s.createdAt,s.lastLoginAt),isAnonymous:N};Object.assign(n,k)})).apply(this,arguments)}function bt(){return(bt=(0,o.A)(function*(n){const e=(0,I.Ku)(n);yield Xe(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function wt(n){return n.map(e=>{var{providerId:t}=e,r=(0,Ce.Tt)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function y(){return(y=(0,o.A)(function*(n,e){const t=yield Je(n,{},(0,o.A)(function*(){const r=(0,I.Am)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,c=yield Be(n,i,"/v1/token",`key=${s}`),l=yield n._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:l,body:r};return n.emulatorConfig&&(0,I.zJ)(n.emulatorConfig.host)&&(g.credentials="include"),Te.fetch()(c,g)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function L(){return(L=(0,o.A)(function*(n,e){return z(n,"POST","/v2/accounts:revokeToken",ne(n,e))})).apply(this,arguments)}class J{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){p(e.idToken,"internal-error"),p(typeof e.idToken<"u","internal-error"),p(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mt(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){p(0!==e.length,"internal-error");const t=mt(e);this.updateTokensAndExpiration(e,null,t)}getToken(e){var t=this;return(0,o.A)(function*(r,i=!1){return i||!t.accessToken||t.isExpired?(p(t.refreshToken,r,"user-token-expired"),t.refreshToken?(yield t.refresh(r,t.refreshToken),t.accessToken):null):t.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,o.A)(function*(){const{accessToken:i,refreshToken:s,expiresIn:c}=yield function D(n,e){return y.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(c))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,c=new J;return r&&(p("string"==typeof r,"internal-error",{appName:e}),c.refreshToken=r),i&&(p("string"==typeof i,"internal-error",{appName:e}),c.accessToken=i),s&&(p("number"==typeof s,"internal-error",{appName:e}),c.expirationTime=s),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new J,this.toJSON())}_performRefresh(){return M("not implemented")}}function Z(n,e){p("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class ue{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=(0,Ce.Tt)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new kt(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,o.A)(function*(){const r=yield je(t,t.stsTokenManager.getToken(t.auth,e));return p(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Tt(n){return _t.apply(this,arguments)}(this,e)}reload(){return function It(n){return bt.apply(this,arguments)}(this)}_assign(e){this!==e&&(p(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ue(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){p(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e){var t=this;return(0,o.A)(function*(r,i=!1){let s=!1;r.idToken&&r.idToken!==t.stsTokenManager.accessToken&&(t.stsTokenManager.updateFromServerResponse(r),s=!0),i&&(yield Xe(t)),yield t.auth._persistUserIfCurrent(t),s&&t.auth._notifyListenersIfCurrent(t)}).apply(this,arguments)}delete(){var e=this;return(0,o.A)(function*(){if((0,P._isFirebaseServerApp)(e.auth.app))return Promise.reject(F(e.auth));const t=yield e.getIdToken();return yield je(e,function Kt(n,e){return Et.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,c,l,g,S,N;const k=null!==(r=t.displayName)&&void 0!==r?r:void 0,K=null!==(i=t.email)&&void 0!==i?i:void 0,Se=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,ct=null!==(c=t.photoURL)&&void 0!==c?c:void 0,an=null!==(l=t.tenantId)&&void 0!==l?l:void 0,qi=null!==(g=t._redirectEventId)&&void 0!==g?g:void 0,to=null!==(S=t.createdAt)&&void 0!==S?S:void 0,no=null!==(N=t.lastLoginAt)&&void 0!==N?N:void 0,{uid:Yi,emailVerified:ro,isAnonymous:io,providerData:Ji,stsTokenManager:so}=t;p(Yi&&so,e,"internal-error");const yu=J.fromJSON(this.name,so);p("string"==typeof Yi,e,"internal-error"),Z(k,e.name),Z(K,e.name),p("boolean"==typeof ro,e,"internal-error"),p("boolean"==typeof io,e,"internal-error"),Z(Se,e.name),Z(ct,e.name),Z(an,e.name),Z(qi,e.name),Z(to,e.name),Z(no,e.name);const Xi=new ue({uid:Yi,auth:e,email:K,emailVerified:ro,displayName:k,isAnonymous:io,photoURL:ct,phoneNumber:Se,tenantId:an,stsTokenManager:yu,createdAt:to,lastLoginAt:no});return Ji&&Array.isArray(Ji)&&(Xi.providerData=Ji.map(Eu=>Object.assign({},Eu))),qi&&(Xi._redirectEventId=qi),Xi}static _fromIdTokenResponse(e,t){return(0,o.A)(function*(r,i,s=!1){const c=new J;c.updateFromServerResponse(i);const l=new ue({uid:i.localId,auth:r,stsTokenManager:c,isAnonymous:s});return yield Xe(l),l}).apply(this,arguments)}static _fromGetAccountInfoResponse(e,t,r){return(0,o.A)(function*(){const i=t.users[0];p(void 0!==i.localId,"internal-error");const s=void 0!==i.providerUserInfo?wt(i.providerUserInfo):[],c=!(i.email&&i.passwordHash||s?.length),l=new J;l.updateFromIdToken(r);const g=new ue({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:c}),S={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new kt(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||s?.length)};return Object.assign(g,S),g})()}}const Le=new Map;function we(n){j(n instanceof Function,"Expected a class definition");let e=Le.get(n);return e?(j(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Le.set(n,e),e)}const u=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.A)(function*(){return!0})()}_set(t,r){var i=this;return(0,o.A)(function*(){i.storage[t]=r})()}_get(t){var r=this;return(0,o.A)(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return(0,o.A)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function a(n,e,t){return`firebase:${n}:${e}:${t}`}class h{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=a(this.userKey,i.apiKey,s),this.fullPersistenceKey=a("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,o.A)(function*(){const t=yield e.persistence._get(e.fullUserKey);if(!t)return null;if("string"==typeof t){const r=yield At(e.auth,{idToken:t}).catch(()=>{});return r?ue._fromGetAccountInfoResponse(e.auth,r,t):null}return ue._fromJSON(e.auth,t)})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,o.A)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t){return(0,o.A)(function*(r,i,s="authUser"){if(!i.length)return new h(we(u),r,s);const c=(yield Promise.all(i.map(function(){var k=(0,o.A)(function*(K){if(yield K._isAvailable())return K});return function(K){return k.apply(this,arguments)}}()))).filter(k=>k);let l=c[0]||we(u);const g=a(s,r.config.apiKey,r.name);let S=null;for(const k of i)try{const K=yield k._get(g);if(K){let Se;if("string"==typeof K){const ct=yield At(r,{idToken:K}).catch(()=>{});if(!ct)break;Se=yield ue._fromGetAccountInfoResponse(r,ct,K)}else Se=ue._fromJSON(r,K);k!==l&&(S=Se),l=k;break}}catch{}const N=c.filter(k=>k._shouldAllowMigration);return l._shouldAllowMigration&&N.length?(l=N[0],S&&(yield l._set(g,S.toJSON())),yield Promise.all(i.map(function(){var k=(0,o.A)(function*(K){if(K!==l)try{yield K._remove(g)}catch{}});return function(K){return k.apply(this,arguments)}}())),new h(l,r,s)):new h(l,r,s)}).apply(this,arguments)}}function b(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ye(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(m(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Fe(e))return"Blackberry";if(qe(e))return"Webos";if(x(e))return"Safari";if((e.includes("chrome/")||Q(e))&&!e.includes("edge/"))return"Chrome";if(Oe(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function m(n=(0,I.ZQ)()){return/firefox\//i.test(n)}function x(n=(0,I.ZQ)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Q(n=(0,I.ZQ)()){return/crios\//i.test(n)}function ye(n=(0,I.ZQ)()){return/iemobile/i.test(n)}function Oe(n=(0,I.ZQ)()){return/android/i.test(n)}function Fe(n=(0,I.ZQ)()){return/blackberry/i.test(n)}function qe(n=(0,I.ZQ)()){return/webos/i.test(n)}function ie(n=(0,I.ZQ)()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Ut(n=(0,I.ZQ)()){return ie(n)||Oe(n)||qe(n)||Fe(n)||/windows phone/i.test(n)||ye(n)}function Ft(n,e=[]){let t;switch(n){case"Browser":t=b((0,I.ZQ)());break;case"Worker":t=`${b((0,I.ZQ)())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${P.SDK_VERSION}/${r}`}class cn{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((c,l)=>{try{c(e(s))}catch(g){l(g)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,o.A)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function Wt(){return(Wt=(0,o.A)(function*(n,e={}){return z(n,"GET","/v2/passwordPolicy",ne(n,e))})).apply(this,arguments)}class un{constructor(e){var t,r,i,s;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=c.minPasswordLength)&&void 0!==t?t:6,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),void 0!==c.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),void 0!==c.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),void 0!==c.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),void 0!==c.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,c,l;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=null===(t=g.meetsMinPasswordLength)||void 0===t||t),g.isValid&&(g.isValid=null===(r=g.meetsMaxPasswordLength)||void 0===r||r),g.isValid&&(g.isValid=null===(i=g.containsLowercaseLetter)||void 0===i||i),g.isValid&&(g.isValid=null===(s=g.containsUppercaseLetter)||void 0===s||s),g.isValid&&(g.isValid=null===(c=g.containsNumericCharacter)||void 0===c||c),g.isValid&&(g.isValid=null===(l=g.containsNonAlphanumericCharacter)||void 0===l||l),g}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class Zi{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tn(this),this.idTokenSubscription=new Tn(this),this.beforeStateQueue=new cn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=we(t)),this._initializationPromise=this.queue((0,o.A)(function*(){var i,s,c;if(!r._deleted&&(r.persistenceManager=yield h.create(r,e),null===(i=r._resolvePersistenceManagerAvailable)||void 0===i||i.call(r),!r._deleted)){if(null!==(s=r._popupRedirectResolver)&&void 0!==s&&s._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(c=r.currentUser)||void 0===c?void 0:c.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,o.A)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUserFromIdToken(e){var t=this;return(0,o.A)(function*(){try{const r=yield At(t,{idToken:e}),i=yield ue._fromGetAccountInfoResponse(t,r,e);yield t.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield t.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var t=this;return(0,o.A)(function*(){var r;if((0,P._isFirebaseServerApp)(t.app)){const l=t.app.settings.authIdToken;return l?new Promise(g=>{setTimeout(()=>t.initializeCurrentUserFromIdToken(l).then(g,g))}):t.directlySetCurrentUser(null)}const i=yield t.assertedPersistence.getCurrentUser();let s=i,c=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const l=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,g=s?._redirectEventId,S=yield t.tryRedirectSignIn(e);(!l||l===g)&&S?.user&&(s=S.user,c=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(c)try{yield t.beforeStateQueue.runMiddleware(s)}catch(l){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(l))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return p(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return(0,o.A)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,o.A)(function*(){try{yield Xe(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function fe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,o.A)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,o.A)(function*(){if((0,P._isFirebaseServerApp)(t.app))return Promise.reject(F(t));const r=e?(0,I.Ku)(e):null;return r&&p(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e){var t=this;return(0,o.A)(function*(r,i=!1){if(!t._deleted)return r&&p(t.tenantId===r.tenantId,t,"tenant-id-mismatch"),i||(yield t.beforeStateQueue.runMiddleware(r)),t.queue((0,o.A)(function*(){yield t.directlySetCurrentUser(r),t.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var e=this;return(0,o.A)(function*(){return(0,P._isFirebaseServerApp)(e.app)?Promise.reject(F(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var t=this;return(0,P._isFirebaseServerApp)(this.app)?Promise.reject(F(this)):this.queue((0,o.A)(function*(){yield t.assertedPersistence.setPersistence(we(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return(0,o.A)(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,o.A)(function*(){const t=yield function Vt(n){return Wt.apply(this,arguments)}(e),r=new un(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new I.FA("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return(0,o.A)(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function C(n,e){return L.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,o.A)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,o.A)(function*(){if(!t.redirectPersistenceManager){const r=e&&we(e)||t._popupRedirectResolver;p(r,t,"argument-error"),t.redirectPersistenceManager=yield h.create(t,[we(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,o.A)(function*(){var r,i;return t._isInitialized&&(yield t.queue((0,o.A)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,o.A)(function*(){if(e===t.currentUser)return t.queue((0,o.A)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t);let c=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(p(l,this,"internal-error"),l.then(()=>{c||s(this.currentUser)}),"function"==typeof t){const g=e.addObserver(t,r,i);return()=>{c=!0,g()}}{const g=e.addObserver(t);return()=>{c=!0,g()}}}directlySetCurrentUser(e){var t=this;return(0,o.A)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return p(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ft(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,o.A)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return(0,o.A)(function*(){var t;if((0,P._isFirebaseServerApp)(e.app)&&e.app.settings.appCheckToken)return e.app.settings.appCheckToken;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function $(n,...e){me.logLevel<=pe.$b.WARN&&me.warn(`Auth (${P.SDK_VERSION}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Pe(n){return(0,I.Ku)(n)}class Tn{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,I.tD)(t=>this.observer=t)}get next(){return p(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Bt={loadJS:()=>(0,o.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Jt(n){return Bt.loadJS(n)}function Xt(n){return`__${n}${Math.floor(1e6*Math.random())}`}const Zt=1e12;class Kn{constructor(e){this.auth=e,this.counter=Zt,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new ts(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||Zt;null===(t=this._widgets.get(r))||void 0===t||t.delete(),this._widgets.delete(r)}getResponse(e){var t;return(null===(t=this._widgets.get(e||Zt))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,o.A)(function*(){var r;return null===(r=t._widgets.get(e||Zt))||void 0===r||r.execute(),""})()}}class jn{constructor(){this.enterprise=new zn}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class zn{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ts{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i="string"==typeof e?document.getElementById(e):e;p(i,"argument-error",{appName:t}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ns(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(62*Math.random())));return e.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Qt="NO_RECAPTCHA";class Gn{constructor(e){this.type="recaptcha-enterprise",this.auth=Pe(e)}verify(){var e=this;return(0,o.A)(function*(t="verify",r=!1){function s(){return s=(0,o.A)(function*(l){if(!r){if(null==l.tenantId&&null!=l._agentRecaptchaConfig)return l._agentRecaptchaConfig.siteKey;if(null!=l.tenantId&&void 0!==l._tenantRecaptchaConfigs[l.tenantId])return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(function(){var g=(0,o.A)(function*(S,N){lt(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(k=>{if(void 0!==k.recaptchaKey){const K=new Rt(k);return null==l.tenantId?l._agentRecaptchaConfig=K:l._tenantRecaptchaConfigs[l.tenantId]=K,S(K.siteKey)}N(new Error("recaptcha Enterprise site key undefined"))}).catch(k=>{N(k)})});return function(S,N){return g.apply(this,arguments)}}())}),s.apply(this,arguments)}function c(l,g,S){const N=window.grecaptcha;rt(N)?N.enterprise.ready(()=>{N.enterprise.execute(l,{action:t}).then(k=>{g(k)}).catch(()=>{g(Qt)})}):S(Error("No reCAPTCHA enterprise script loaded."))}return e.auth.settings.appVerificationDisabledForTesting?(new jn).execute("siteKey",{action:"verify"}):new Promise((l,g)=>{(function i(l){return s.apply(this,arguments)})(e.auth).then(S=>{if(!r&&rt(window.grecaptcha))c(S,l,g);else{if(typeof window>"u")return void g(new Error("RecaptchaVerifier is only supported in browser"));let N=function bn(){return Bt.recaptchaEnterpriseScript}();0!==N.length&&(N+=S),Jt(N).then(()=>{c(S,l,g)}).catch(k=>{g(k)})}}).catch(S=>{g(S)})})}).apply(this,arguments)}}function en(n,e,t){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,o.A)(function*(n,e,t,r=!1,i=!1){const s=new Gn(n);let c;if(i)c=Qt;else try{c=yield s.verify(t)}catch{c=yield s.verify(t,!0)}const l=Object.assign({},e);return"mfaSmsEnrollment"===t||"mfaSmsSignIn"===t?("phoneEnrollmentInfo"in l?Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:l.phoneEnrollmentInfo.phoneNumber,recaptchaToken:l.phoneEnrollmentInfo.recaptchaToken,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}):"phoneSignInInfo"in l&&Object.assign(l,{phoneSignInInfo:{recaptchaToken:l.phoneSignInInfo.recaptchaToken,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}),l):(Object.assign(l,r?{captchaResp:c}:{captchaResponse:c}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l)})).apply(this,arguments)}function f(n,e,t,r,i){return d.apply(this,arguments)}function d(){return d=(0,o.A)(function*(n,e,t,r,i){var s,c;if("EMAIL_PASSWORD_PROVIDER"===i){if(null!==(s=n._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=yield en(n,e,t,"getOobCode"===t);return r(n,l)}return r(n,e).catch(function(){var l=(0,o.A)(function*(g){if("auth/missing-recaptcha-token"===g.code){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const S=yield en(n,e,t,"getOobCode"===t);return r(n,S)}return Promise.reject(g)});return function(g){return l.apply(this,arguments)}}())}if("PHONE_PROVIDER"===i){if(null!==(c=n._getRecaptchaConfig())&&void 0!==c&&c.isProviderEnabled("PHONE_PROVIDER")){const l=yield en(n,e,t);return r(n,l).catch(function(){var g=(0,o.A)(function*(S){var N;if("AUDIT"===(null===(N=n._getRecaptchaConfig())||void 0===N?void 0:N.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===S.code||"auth/invalid-app-credential"===S.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const k=yield en(n,e,t,!1,!0);return r(n,k)}return Promise.reject(S)});return function(S){return g.apply(this,arguments)}}())}{const l=yield en(n,e,t,!1,!0);return r(n,l)}}return Promise.reject(i+" provider is not supported.")}),d.apply(this,arguments)}function _(n){return T.apply(this,arguments)}function T(){return(T=(0,o.A)(function*(n){const e=Pe(n),t=yield lt(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Rt(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new Gn(e).verify()})).apply(this,arguments)}function Ie(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Ee(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class ze{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return M("not implemented")}_getIdTokenResponse(e){return M("not implemented")}_linkToIdToken(e,t){return M("not implemented")}_getReauthenticationResolver(e){return M("not implemented")}}function is(n,e){return qn.apply(this,arguments)}function qn(){return(qn=(0,o.A)(function*(n,e){return z(n,"POST","/v1/accounts:resetPassword",ne(n,e))})).apply(this,arguments)}function Yn(){return(Yn=(0,o.A)(function*(n,e){return z(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function ao(n,e){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,o.A)(function*(n,e){return z(n,"POST","/v1/accounts:signUp",e)})).apply(this,arguments)}function Xn(){return(Xn=(0,o.A)(function*(n,e){return z(n,"POST","/v1/accounts:update",ne(n,e))})).apply(this,arguments)}function uo(n,e){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,o.A)(function*(n,e){return Me(n,"POST","/v1/accounts:signInWithPassword",ne(n,e))})).apply(this,arguments)}function Sn(n,e){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,o.A)(function*(n,e){return z(n,"POST","/v1/accounts:sendOobCode",ne(n,e))})).apply(this,arguments)}function er(){return(er=(0,o.A)(function*(n,e){return Sn(n,e)})).apply(this,arguments)}function ho(n,e){return tr.apply(this,arguments)}function tr(){return(tr=(0,o.A)(function*(n,e){return Sn(n,e)})).apply(this,arguments)}function fo(n,e){return nr.apply(this,arguments)}function nr(){return(nr=(0,o.A)(function*(n,e){return Sn(n,e)})).apply(this,arguments)}function rr(){return(rr=(0,o.A)(function*(n,e){return Sn(n,e)})).apply(this,arguments)}function ir(){return(ir=(0,o.A)(function*(n,e){return Me(n,"POST","/v1/accounts:signInWithEmailLink",ne(n,e))})).apply(this,arguments)}function sr(){return(sr=(0,o.A)(function*(n,e){return Me(n,"POST","/v1/accounts:signInWithEmailLink",ne(n,e))})).apply(this,arguments)}class dn extends ze{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new dn(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new dn(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,o.A)(function*(){switch(t.signInMethod){case"password":return f(e,{returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",uo,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function _o(n,e){return ir.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Y(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return(0,o.A)(function*(){switch(r.signInMethod){case"password":return f(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ao,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function go(n,e){return sr.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:Y(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Ot(n,e){return or.apply(this,arguments)}function or(){return(or=(0,o.A)(function*(n,e){return Me(n,"POST","/v1/accounts:signInWithIdp",ne(n,e))})).apply(this,arguments)}class Pt extends ze{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Pt(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Y("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=(0,Ce.Tt)(t,["providerId","signInMethod"]);if(!r||!i)return null;const c=new Pt(r,i);return c.idToken=s.idToken||void 0,c.accessToken=s.accessToken||void 0,c.secret=s.secret,c.nonce=s.nonce,c.pendingToken=s.pendingToken||null,c}_getIdTokenResponse(e){return Ot(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ot(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ot(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,I.Am)(t)}return e}}function ss(n,e){return ar.apply(this,arguments)}function ar(){return(ar=(0,o.A)(function*(n,e){return z(n,"POST","/v1/accounts:sendVerificationCode",ne(n,e))})).apply(this,arguments)}function cr(){return(cr=(0,o.A)(function*(n,e){return Me(n,"POST","/v1/accounts:signInWithPhoneNumber",ne(n,e))})).apply(this,arguments)}function ur(){return(ur=(0,o.A)(function*(n,e){const t=yield Me(n,"POST","/v1/accounts:signInWithPhoneNumber",ne(n,e));if(t.temporaryProof)throw Re(n,"account-exists-with-different-credential",t);return t})).apply(this,arguments)}const yo={USER_NOT_FOUND:"user-not-found"};function lr(){return(lr=(0,o.A)(function*(n,e){return Me(n,"POST","/v1/accounts:signInWithPhoneNumber",ne(n,Object.assign(Object.assign({},e),{operation:"REAUTH"})),yo)})).apply(this,arguments)}class jt extends ze{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new jt({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new jt({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function vo(n,e){return cr.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function Io(n,e){return ur.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function Eo(n,e){return lr.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return r||t||i||s?new jt({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s}):null}}class hn{constructor(e){var t,r,i,s,c,l;const g=(0,I.I9)((0,I.hp)(e)),S=null!==(t=g.apiKey)&&void 0!==t?t:null,N=null!==(r=g.oobCode)&&void 0!==r?r:null,k=function Ao(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=g.mode)&&void 0!==i?i:null);p(S&&N&&k,"argument-error"),this.apiKey=S,this.operation=k,this.code=N,this.continueUrl=null!==(s=g.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(c=g.lang)&&void 0!==c?c:null,this.tenantId=null!==(l=g.tenantId)&&void 0!==l?l:null}static parseLink(e){const t=function To(n){const e=(0,I.I9)((0,I.hp)(n)).link,t=e?(0,I.I9)((0,I.hp)(e)).deep_link_id:null,r=(0,I.I9)((0,I.hp)(n)).deep_link_id;return(r?(0,I.I9)((0,I.hp)(r)).link:null)||r||t||e||n}(e);try{return new hn(t)}catch{return null}}}let dr=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return dn._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=hn.parseLink(r);return p(i,"argument-error"),dn._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Dt{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class tn extends Dt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class nn extends tn{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return p("providerId"in t&&"signInMethod"in t,"argument-error"),Pt._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return p(e.idToken||e.accessToken,"argument-error"),Pt._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return nn.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return nn.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:c,providerId:l}=e;if(!r&&!i&&!t&&!s||!l)return null;try{return new nn(l)._credential({idToken:t,accessToken:r,nonce:c,pendingToken:s})}catch{return null}}}let os=(()=>{class n extends tn{constructor(){super("facebook.com")}static credential(t){return Pt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.FACEBOOK_SIGN_IN_METHOD="facebook.com",n.PROVIDER_ID="facebook.com",n})(),as=(()=>{class n extends tn{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Pt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})(),cs=(()=>{class n extends tn{constructor(){super("github.com")}static credential(t){return Pt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.GITHUB_SIGN_IN_METHOD="github.com",n.PROVIDER_ID="github.com",n})();class rn extends ze{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Ot(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ot(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ot(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=t;return r&&i&&s&&r===i?new rn(r,s):null}static _create(e,t){return new rn(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Cn extends Dt{constructor(e){p(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Cn.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Cn.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=rn.fromJSON(e);return p(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return rn._create(r,t)}catch{return null}}}let us=(()=>{class n extends tn{constructor(){super("twitter.com")}static credential(t,r){return Pt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:i}=t;if(!r||!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.TWITTER_SIGN_IN_METHOD="twitter.com",n.PROVIDER_ID="twitter.com",n})();function ls(n,e){return hr.apply(this,arguments)}function hr(){return(hr=(0,o.A)(function*(n,e){return Me(n,"POST","/v1/accounts:signUp",ne(n,e))})).apply(this,arguments)}class at{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r){return(0,o.A)(function*(i,s,c,l=!1){const g=yield ue._fromIdTokenResponse(i,c,l),S=ds(c);return new at({user:g,providerId:S,_tokenResponse:c,operationType:s})}).apply(this,arguments)}static _forOperation(e,t,r){return(0,o.A)(function*(){yield e._updateTokensIfNecessary(r,!0);const i=ds(r);return new at({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function ds(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function fr(){return(fr=(0,o.A)(function*(n){var e;if((0,P._isFirebaseServerApp)(n.app))return Promise.reject(F(n));const t=Pe(n);if(yield t._initializationPromise,null!==(e=t.currentUser)&&void 0!==e&&e.isAnonymous)return new at({user:t.currentUser,providerId:null,operationType:"signIn"});const r=yield ls(t,{returnSecureToken:!0}),i=yield at._fromIdTokenResponse(t,"signIn",r,!0);return yield t._updateCurrentUser(i.user),i})).apply(this,arguments)}class kn extends I.g{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,kn.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new kn(e,t,r,i)}}function hs(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?kn._fromErrorAndOperation(n,s,e,r):s})}function fs(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}function pr(){return pr=(0,o.A)(function*(n,e){const t=(0,I.Ku)(n);yield wn(!0,t,e);const{providerUserInfo:r}=yield function dt(n,e){return ht.apply(this,arguments)}(t.auth,{idToken:yield t.getIdToken(),deleteProvider:[e]}),i=fs(r||[]);return t.providerData=t.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(t.phoneNumber=null),yield t.auth._persistUserIfCurrent(t),t}),pr.apply(this,arguments)}function _r(n,e){return gr.apply(this,arguments)}function gr(){return(gr=(0,o.A)(function*(n,e,t=!1){const r=yield je(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return at._forOperation(n,"link",r)})).apply(this,arguments)}function wn(n,e,t){return mr.apply(this,arguments)}function mr(){return(mr=(0,o.A)(function*(n,e,t){yield Xe(e);const i=!1===n?"provider-already-linked":"no-such-provider";p(fs(e.providerData).has(t)===n,e.auth,i)})).apply(this,arguments)}function ps(n,e){return vr.apply(this,arguments)}function vr(){return(vr=(0,o.A)(function*(n,e,t=!1){const{auth:r}=n;if((0,P._isFirebaseServerApp)(r.app))return Promise.reject(F(r));const i="reauthenticate";try{const s=yield je(n,hs(r,i,e,n),t);p(s.idToken,r,"internal-error");const c=st(s.idToken);p(c,r,"internal-error");const{sub:l}=c;return p(n.uid===l,r,"user-mismatch"),at._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Y(r,"user-mismatch"),s}})).apply(this,arguments)}function _s(n,e){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,o.A)(function*(n,e,t=!1){if((0,P._isFirebaseServerApp)(n.app))return Promise.reject(F(n));const r="signIn",i=yield hs(n,r,e),s=yield at._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function On(n,e){return yr.apply(this,arguments)}function yr(){return(yr=(0,o.A)(function*(n,e){return _s(Pe(n),e)})).apply(this,arguments)}function gs(n,e){return Er.apply(this,arguments)}function Er(){return(Er=(0,o.A)(function*(n,e){const t=(0,I.Ku)(n);return yield wn(!1,t,e.providerId),_r(t,e)})).apply(this,arguments)}function ms(n,e){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,o.A)(function*(n,e){return ps((0,I.Ku)(n),e)})).apply(this,arguments)}function Tr(){return(Tr=(0,o.A)(function*(n,e){return Me(n,"POST","/v1/accounts:signInWithCustomToken",ne(n,e))})).apply(this,arguments)}function br(){return br=(0,o.A)(function*(n,e){if((0,P._isFirebaseServerApp)(n.app))return Promise.reject(F(n));const t=Pe(n),r=yield function Co(n,e){return Tr.apply(this,arguments)}(t,{token:e,returnSecureToken:!0}),i=yield at._fromIdTokenResponse(t,"signIn",r);return yield t._updateCurrentUser(i.user),i}),br.apply(this,arguments)}class fn{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Pr._fromServerResponse(e,t):"totpInfo"in t?Rr._fromServerResponse(e,t):Y(e,"internal-error")}}class Pr extends fn{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Pr(t)}}class Rr extends fn{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Rr(t)}}function Dn(n,e,t){var r;p((null===(r=t.url)||void 0===r?void 0:r.length)>0,n,"invalid-continue-uri"),p(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),p(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(p(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(p(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function Sr(n){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,o.A)(function*(n){const e=Pe(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function kr(){return(kr=(0,o.A)(function*(n,e,t){const r=Pe(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Dn(r,i,t),yield f(r,i,"getOobCode",ho,"EMAIL_PASSWORD_PROVIDER")})).apply(this,arguments)}function wr(){return wr=(0,o.A)(function*(n,e,t){yield is((0,I.Ku)(n),{oobCode:e,newPassword:t}).catch(function(){var r=(0,o.A)(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&Sr(n),i});return function(i){return r.apply(this,arguments)}}())}),wr.apply(this,arguments)}function Or(){return Or=(0,o.A)(function*(n,e){yield function co(n,e){return Xn.apply(this,arguments)}((0,I.Ku)(n),{oobCode:e})}),Or.apply(this,arguments)}function vs(n,e){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,o.A)(function*(n,e){const t=(0,I.Ku)(n),r=yield is(t,{oobCode:e}),i=r.requestType;switch(p(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":p(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":p(r.mfaInfo,t,"internal-error");default:p(r.email,t,"internal-error")}let s=null;return r.mfaInfo&&(s=fn._fromServerResponse(Pe(t),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}})).apply(this,arguments)}function Nr(){return(Nr=(0,o.A)(function*(n,e){const{data:t}=yield vs((0,I.Ku)(n),e);return t.email})).apply(this,arguments)}function Lr(){return(Lr=(0,o.A)(function*(n,e,t){if((0,P._isFirebaseServerApp)(n.app))return Promise.reject(F(n));const r=Pe(n),c=yield f(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ls,"EMAIL_PASSWORD_PROVIDER").catch(g=>{throw"auth/password-does-not-meet-requirements"===g.code&&Sr(n),g}),l=yield at._fromIdTokenResponse(r,"signIn",c);return yield r._updateCurrentUser(l.user),l})).apply(this,arguments)}function Mr(){return(Mr=(0,o.A)(function*(n,e,t){const r=Pe(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};(function s(c,l){p(l.handleCodeInApp,r,"argument-error"),l&&Dn(r,c,l)})(i,t),yield f(r,i,"getOobCode",fo,"EMAIL_PASSWORD_PROVIDER")})).apply(this,arguments)}function xr(){return(xr=(0,o.A)(function*(n,e,t){if((0,P._isFirebaseServerApp)(n.app))return Promise.reject(F(n));const r=(0,I.Ku)(n),i=dr.credentialWithLink(e,t||W());return p(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),On(r,i)})).apply(this,arguments)}function Ur(){return(Ur=(0,o.A)(function*(n,e){return z(n,"POST","/v1/accounts:createAuthUri",ne(n,e))})).apply(this,arguments)}function Fr(){return Fr=(0,o.A)(function*(n,e){const r={identifier:e,continueUri:oe()?W():"http://localhost"},{signinMethods:i}=yield function Vo(n,e){return Ur.apply(this,arguments)}((0,I.Ku)(n),r);return i||[]}),Fr.apply(this,arguments)}function Vr(){return Vr=(0,o.A)(function*(n,e){const t=(0,I.Ku)(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&Dn(t.auth,i,e);const{email:s}=yield function lo(n,e){return er.apply(this,arguments)}(t.auth,i);s!==n.email&&(yield n.reload())}),Vr.apply(this,arguments)}function Wr(){return Wr=(0,o.A)(function*(n,e,t){const r=(0,I.Ku)(n),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield n.getIdToken(),newEmail:e};t&&Dn(r.auth,s,t);const{email:c}=yield function po(n,e){return rr.apply(this,arguments)}(r.auth,s);c!==n.email&&(yield n.reload())}),Wr.apply(this,arguments)}function Br(){return(Br=(0,o.A)(function*(n,e){return z(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Hr(){return Hr=(0,o.A)(function*(n,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const r=(0,I.Ku)(n),s={idToken:yield r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=yield je(r,function $o(n,e){return Br.apply(this,arguments)}(r.auth,s));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const l=r.providerData.find(({providerId:g})=>"password"===g);l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),yield r._updateTokensIfNecessary(c)}),Hr.apply(this,arguments)}function Is(n,e,t){return $r.apply(this,arguments)}function $r(){return $r=(0,o.A)(function*(n,e,t){const{auth:r}=n,s={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);const c=yield je(n,function oo(n,e){return Yn.apply(this,arguments)}(r,s));yield n._updateTokensIfNecessary(c,!0)}),$r.apply(this,arguments)}class sn{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class ys extends sn{constructor(e,t,r,i){super(e,t,r),this.username=i}}class qo extends sn{constructor(e,t){super(e,"facebook.com",t)}}class Yo extends ys{constructor(e,t){super(e,"github.com",t,"string"==typeof t?.login?t?.login:null)}}class Jo extends sn{constructor(e,t){super(e,"google.com",t)}}class Xo extends ys{constructor(e,t,r){super(e,"twitter.com",t,r)}}function Zo(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:function Go(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},s=n.isNewUser||"identitytoolkit#SignupNewUserResponse"===n.kind;if(!r&&n?.idToken){const c=null===(t=null===(e=st(n.idToken))||void 0===e?void 0:e.firebase)||void 0===t?void 0:t.sign_in_provider;if(c)return new sn(s,"anonymous"!==c&&"custom"!==c?c:null)}if(!r)return null;switch(r){case"facebook.com":return new qo(s,i);case"github.com":return new Yo(s,i);case"google.com":return new Jo(s,i);case"twitter.com":return new Xo(s,i,n.screenName||null);case"custom":case"anonymous":return new sn(s,null);default:return new sn(s,r,i)}}(t)}class zt{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new zt("enroll",e,t)}static _fromMfaPendingCredential(e){return new zt("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e?.multiFactorSession){if(null!==(t=e.multiFactorSession)&&void 0!==t&&t.pendingCredential)return zt._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null!==(r=e.multiFactorSession)&&void 0!==r&&r.idToken)return zt._fromIdtoken(e.multiFactorSession.idToken)}return null}}class zr{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Pe(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(l=>fn._fromServerResponse(r,l));p(i.mfaPendingCredential,r,"internal-error");const c=zt._fromMfaPendingCredential(i.mfaPendingCredential);return new zr(c,s,function(){var l=(0,o.A)(function*(g){const S=yield g._process(r,c);delete i.mfaInfo,delete i.mfaPendingCredential;const N=Object.assign(Object.assign({},i),{idToken:S.idToken,refreshToken:S.refreshToken});switch(t.operationType){case"signIn":const k=yield at._fromIdTokenResponse(r,t.operationType,N);return yield r._updateCurrentUser(k.user),k;case"reauthenticate":return p(t.user,r,"internal-error"),at._forOperation(t.user,t.operationType,N);default:Y(r,"internal-error")}});return function(g){return l.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,o.A)(function*(){return t.signInResolver(e)})()}}function Es(n,e){return z(n,"POST","/v2/accounts/mfaEnrollment:start",ne(n,e))}class Gr{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>fn._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new Gr(e)}getSession(){var e=this;return(0,o.A)(function*(){return zt._fromIdtoken(yield e.user.getIdToken(),e.user)})()}enroll(e,t){var r=this;return(0,o.A)(function*(){const i=e,s=yield r.getSession(),c=yield je(r.user,i._process(r.user.auth,s,t));return yield r.user._updateTokensIfNecessary(c),r.user.reload()})()}unenroll(e){var t=this;return(0,o.A)(function*(){const r="string"==typeof e?e:e.uid,i=yield t.user.getIdToken();try{const s=yield je(t.user,function ia(n,e){return z(n,"POST","/v2/accounts/mfaEnrollment:withdraw",ne(n,e))}(t.user.auth,{idToken:i,mfaEnrollmentId:r}));t.enrolledFactors=t.enrolledFactors.filter(({uid:c})=>c!==r),yield t.user._updateTokensIfNecessary(s),yield t.user.reload()}catch(s){throw s}})()}}const qr=new WeakMap,Nn="__sak";class As{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Nn,"1"),this.storage.removeItem(Nn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ln=(()=>{class n extends As{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ut(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((l,g,S)=>{this.notifyListeners(l,S)});const i=t.key;r?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!r&&this.localCache[i]===l||this.notifyListeners(i,l)},c=this.storage.getItem(i);!function yt(){return(0,I.lT)()&&10===document.documentMode}()||c===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return(0,o.A)(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return(0,o.A)(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return(0,o.A)(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),Ht=(()=>{class n extends As{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let ua=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,o.A)(function*(){const i=t,{eventId:s,eventType:c,data:l}=i.data,g=r.handlersMap[c];if(!g?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:c});const S=Array.from(g).map(function(){var k=(0,o.A)(function*(K){return K(i.origin,l)});return function(K){return k.apply(this,arguments)}}()),N=yield function ca(n){return Promise.all(n.map(function(){var e=(0,o.A)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(S);i.ports[0].postMessage({status:"done",eventId:s,eventType:c,response:N})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function pn(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class la{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t){var r=this;return(0,o.A)(function*(i,s,c=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let g,S;return new Promise((N,k)=>{const K=pn("",20);l.port1.start();const Se=setTimeout(()=>{k(new Error("unsupported_event"))},c);S={messageChannel:l,onMessage(ct){const an=ct;if(an.data.eventId===K)switch(an.data.status){case"ack":clearTimeout(Se),g=setTimeout(()=>{k(new Error("timeout"))},3e3);break;case"done":clearTimeout(g),N(an.data.response);break;default:clearTimeout(Se),clearTimeout(g),k(new Error("invalid_response"))}}},r.handlers.add(S),l.port1.addEventListener("message",S.onMessage),r.target.postMessage({eventType:i,eventId:K,data:s},[l.port2])}).finally(()=>{S&&r.removeMessageHandler(S)})}).apply(this,arguments)}}function Ve(){return window}function Yr(){return typeof Ve().WorkerGlobalScope<"u"&&"function"==typeof Ve().importScripts}function Jr(){return(Jr=(0,o.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ts="firebaseLocalStorageDb",Mn="firebaseLocalStorage",bs="fbase_key";class _n{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function xn(n,e){return n.transaction([Mn],e?"readwrite":"readonly").objectStore(Mn)}function Xr(){const n=indexedDB.open(Ts,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Mn,{keyPath:bs})}catch(i){t(i)}}),n.addEventListener("success",(0,o.A)(function*(){const r=n.result;r.objectStoreNames.contains(Mn)?e(r):(r.close(),yield function ga(){const n=indexedDB.deleteDatabase(Ts);return new _n(n).toPromise()}(),e(yield Xr()))}))})}function Ps(n,e,t){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,o.A)(function*(n,e,t){const r=xn(n,!0).put({[bs]:e,value:t});return new _n(r).toPromise()})).apply(this,arguments)}function Qr(){return(Qr=(0,o.A)(function*(n,e){const t=xn(n,!1).get(e),r=yield new _n(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function Rs(n,e){const t=xn(n,!0).delete(e);return new _n(t).toPromise()}const on=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,o.A)(function*(){return t.db||(t.db=yield Xr()),t.db})()}_withRetries(t){var r=this;return(0,o.A)(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,o.A)(function*(){return Yr()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,o.A)(function*(){t.receiver=ua._getInstance(function pa(){return Yr()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=(0,o.A)(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=(0,o.A)(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,o.A)(function*(){var r,i;if(t.activeServiceWorker=yield function ha(){return Jr.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new la(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,o.A)(function*(){if(r.sender&&r.activeServiceWorker&&function fa(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.A)(function*(){try{if(!indexedDB)return!1;const t=yield Xr();return yield Ps(t,Nn,"1"),yield Rs(t,Nn),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return(0,o.A)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return(0,o.A)(function*(){return i._withPendingWrite((0,o.A)(function*(){return yield i._withRetries(s=>Ps(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,o.A)(function*(){const i=yield r._withRetries(s=>function ma(n,e){return Qr.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return(0,o.A)(function*(){return r._withPendingWrite((0,o.A)(function*(){return yield r._withRetries(i=>Rs(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,o.A)(function*(){const r=yield t._withRetries(c=>{const l=xn(c,!1).getAll();return new _n(l).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;if(0!==r.length)for(const{fbase_key:c,value:l}of r)s.add(c),JSON.stringify(t.localCache[c])!==JSON.stringify(l)&&(t.notifyListeners(c,l),i.push(c));for(const c of Object.keys(t.localCache))t.localCache[c]&&!s.has(c)&&(t.notifyListeners(c,null),i.push(c));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,o.A)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function Ss(n,e){return z(n,"POST","/v2/accounts/mfaSignIn:start",ne(n,e))}const ei=Xt("rcb"),Aa=new be(3e4,6e4);class Ta{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(e=Ve().grecaptcha)||void 0===e||!e.render)}load(e,t=""){return p(function ba(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&$e(Ve().grecaptcha)?Promise.resolve(Ve().grecaptcha):new Promise((r,i)=>{const s=Ve().setTimeout(()=>{i(B(e,"network-request-failed"))},Aa.get());Ve()[ei]=()=>{Ve().clearTimeout(s),delete Ve()[ei];const l=Ve().grecaptcha;if(!l||!$e(l))return void i(B(e,"internal-error"));const g=l.render;l.render=(S,N)=>{const k=g(S,N);return this.counter++,k},this.hostLanguage=t,r(l)},Jt(`${function ln(){return Bt.recaptchaV2Script}()}?${(0,I.Am)({onload:ei,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(s),i(B(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!(null===(t=Ve().grecaptcha)||void 0===t||!t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Pa{load(e){return(0,o.A)(function*(){return new Kn(e)})()}clearedOneInstance(){}}const gn="recaptcha",Ra={theme:"light",type:"image"};class Sa{constructor(e,t,r=Object.assign({},Ra)){this.parameters=r,this.type=gn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pe(e),this.isInvisible="invisible"===this.parameters.size,p(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i="string"==typeof t?document.getElementById(t):t;p(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Pa:new Ta,this.validateStartingState()}verify(){var e=this;return(0,o.A)(function*(){e.assertNotDestroyed();const t=yield e.render(),r=e.getAssertedRecaptcha();return r.getResponse(t)||new Promise(s=>{const c=l=>{l&&(e.tokenChangeListeners.delete(c),s(l))};e.tokenChangeListeners.add(c),e.isInvisible&&r.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){p(!this.parameters.sitekey,this.auth,"argument-error"),p(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),p(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),"function"==typeof e)e(t);else if("string"==typeof e){const r=Ve()[e];"function"==typeof r&&r(t)}}}assertNotDestroyed(){p(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,o.A)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const r=document.createElement("div");t.appendChild(r),t=r}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,o.A)(function*(){p(oe()&&!Yr(),e.auth,"internal-error"),yield function Ca(){let n=null;return new Promise(e=>{"complete"!==document.readyState?(n=()=>e(),window.addEventListener("load",n)):e()}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function it(n){return St.apply(this,arguments)}(e.auth);p(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return p(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ti{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=jt._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function ni(){return(ni=(0,o.A)(function*(n,e,t){if((0,P._isFirebaseServerApp)(n.app))return Promise.reject(F(n));const r=Pe(n),i=yield Un(r,e,(0,I.Ku)(t));return new ti(i,s=>On(r,s))})).apply(this,arguments)}function ri(){return(ri=(0,o.A)(function*(n,e,t){const r=(0,I.Ku)(n);yield wn(!1,r,"phone");const i=yield Un(r.auth,e,(0,I.Ku)(t));return new ti(i,s=>gs(r,s))})).apply(this,arguments)}function ii(){return(ii=(0,o.A)(function*(n,e,t){const r=(0,I.Ku)(n);if((0,P._isFirebaseServerApp)(r.auth.app))return Promise.reject(F(r.auth));const i=yield Un(r.auth,e,(0,I.Ku)(t));return new ti(i,s=>ms(r,s))})).apply(this,arguments)}function Un(n,e,t){return si.apply(this,arguments)}function si(){return si=(0,o.A)(function*(n,e,t){var r;if(!n._getRecaptchaConfig())try{yield _(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"==typeof e?{phoneNumber:e}:e,"session"in i){const s=i.session;if("phoneNumber"in i){p("enroll"===s.type,n,"internal-error");const c={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(yield f(n,c,"mfaSmsEnrollment",function(){var N=(0,o.A)(function*(k,K){return K.phoneEnrollmentInfo.captchaResponse===Qt?(p(t?.type===gn,k,"argument-error"),Es(k,yield ai(k,K,t))):Es(k,K)});return function(K,Se){return N.apply(this,arguments)}}(),"PHONE_PROVIDER").catch(N=>Promise.reject(N))).phoneSessionInfo.sessionInfo}{p("signin"===s.type,n,"internal-error");const c=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;p(c,n,"missing-multi-factor-info");const l={mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(yield f(n,l,"mfaSmsSignIn",function(){var k=(0,o.A)(function*(K,Se){return Se.phoneSignInInfo.captchaResponse===Qt?(p(t?.type===gn,K,"argument-error"),Ss(K,yield ai(K,Se,t))):Ss(K,Se)});return function(Se,ct){return k.apply(this,arguments)}}(),"PHONE_PROVIDER").catch(k=>Promise.reject(k))).phoneResponseInfo.sessionInfo}}{const s={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(yield f(n,s,"sendVerificationCode",function(){var S=(0,o.A)(function*(N,k){return k.captchaResponse===Qt?(p(t?.type===gn,N,"argument-error"),ss(N,yield ai(N,k,t))):ss(N,k)});return function(k,K){return S.apply(this,arguments)}}(),"PHONE_PROVIDER").catch(S=>Promise.reject(S))).sessionInfo}}finally{t?._reset()}}),si.apply(this,arguments)}function oi(){return(oi=(0,o.A)(function*(n,e){const t=(0,I.Ku)(n);if((0,P._isFirebaseServerApp)(t.auth.app))return Promise.reject(F(t.auth));yield _r(t,e)})).apply(this,arguments)}function ai(n,e,t){return ci.apply(this,arguments)}function ci(){return(ci=(0,o.A)(function*(n,e,t){p(t.type===gn,n,"argument-error");const r=yield t.verify();p("string"==typeof r,n,"argument-error");const i=Object.assign({},e);return"phoneEnrollmentInfo"in i?(Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:i.phoneEnrollmentInfo.phoneNumber,recaptchaToken:r,captchaResponse:i.phoneEnrollmentInfo.captchaResponse,clientType:i.phoneEnrollmentInfo.clientType,recaptchaVersion:i.phoneEnrollmentInfo.recaptchaVersion}}),i):"phoneSignInInfo"in i?(Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:i.phoneSignInInfo.captchaResponse,clientType:i.phoneSignInInfo.clientType,recaptchaVersion:i.phoneSignInInfo.recaptchaVersion}}),i):(Object.assign(i,{recaptchaToken:r}),i)})).apply(this,arguments)}let mn=(()=>{class n{constructor(t){this.providerId=n.PROVIDER_ID,this.auth=Pe(t)}verifyPhoneNumber(t,r){return Un(this.auth,t,(0,I.Ku)(r))}static credential(t,r){return jt._fromVerification(t,r)}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:r,temporaryProof:i}=t;return r&&i?jt._fromTokenResponse(r,i):null}}return n.PROVIDER_ID="phone",n.PHONE_SIGN_IN_METHOD="phone",n})();function Gt(n,e){return e?we(e):(p(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class ui extends ze{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ot(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ot(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ot(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Na(n){return _s(n.auth,new ui(n),n.bypassAuthState)}function La(n){const{auth:e,user:t}=n;return p(t,e,"internal-error"),ps(t,new ui(n),n.bypassAuthState)}function Ma(n){return li.apply(this,arguments)}function li(){return(li=(0,o.A)(function*(n){const{auth:e,user:t}=n;return p(t,e,"internal-error"),_r(t,new ui(n),n.bypassAuthState)})).apply(this,arguments)}class Cs{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,o.A)(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,o.A)(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:c,error:l,type:g}=e;if(l)return void t.reject(l);const S={auth:t.auth,requestUri:r,sessionId:i,tenantId:c||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(g)(S))}catch(N){t.reject(N)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Na;case"linkViaPopup":case"linkViaRedirect":return Ma;case"reauthViaPopup":case"reauthViaRedirect":return La;default:Y(this.auth,"internal-error")}}resolve(e){j(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){j(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xa=new be(2e3,1e4);function di(){return(di=(0,o.A)(function*(n,e,t){if((0,P._isFirebaseServerApp)(n.app))return Promise.reject(B(n,"operation-not-supported-in-this-environment"));const r=Pe(n);v(n,e,Dt);const i=Gt(r,t);return new pi(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}function hi(){return(hi=(0,o.A)(function*(n,e,t){const r=(0,I.Ku)(n);if((0,P._isFirebaseServerApp)(r.auth.app))return Promise.reject(B(r.auth,"operation-not-supported-in-this-environment"));v(r.auth,e,Dt);const i=Gt(r.auth,t);return new pi(r.auth,"reauthViaPopup",e,i,r).executeNotNull()})).apply(this,arguments)}function fi(){return(fi=(0,o.A)(function*(n,e,t){const r=(0,I.Ku)(n);v(r.auth,e,Dt);const i=Gt(r.auth,t);return new pi(r.auth,"linkViaPopup",e,i,r).executeNotNull()})).apply(this,arguments)}let pi=(()=>{class n extends Cs{constructor(t,r,i,s,c){super(t,r,s,c),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return(0,o.A)(function*(){const r=yield t.execute();return p(r,t.auth,"internal-error"),r})()}onExecution(){var t=this;return(0,o.A)(function*(){j(1===t.filter.length,"Popup operations only handle one event");const r=pn();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],r),t.authWindow.associatedEvent=r,t.resolver._originValidation(t.auth).catch(i=>{t.reject(i)}),t.resolver._isIframeWebStorageSupported(t.auth,i=>{i||t.reject(B(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(B(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(B(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(t,xa.get())};t()}}return n.currentPopupAction=null,n})();const vn=new Map;class Ba extends Cs{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,o.A)(function*(){let r=vn.get(t.auth._key());if(!r){try{const s=(yield function Ha(n,e){return _i.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}vn.set(t.auth._key(),r)}return t.bypassAuthState||vn.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,o.A)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,o.A)(function*(){})()}cleanUp(){}}function _i(){return(_i=(0,o.A)(function*(n,e){const t=ws(e),r=ks(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function gi(n,e){return mi.apply(this,arguments)}function mi(){return(mi=(0,o.A)(function*(n,e){return ks(n)._set(ws(e),"true")})).apply(this,arguments)}function vi(n,e){vn.set(n._key(),e)}function ks(n){return we(n._redirectPersistence)}function ws(n){return a("pendingRedirect",n.config.apiKey,n.name)}function Ka(n,e,t){return function ja(n,e,t){return Ii.apply(this,arguments)}(n,e,t)}function Ii(){return(Ii=(0,o.A)(function*(n,e,t){if((0,P._isFirebaseServerApp)(n.app))return Promise.reject(F(n));const r=Pe(n);v(n,e,Dt),yield r._initializationPromise;const i=Gt(r,t);return yield gi(i,r),i._openRedirect(r,e,"signInViaRedirect")})).apply(this,arguments)}function za(n,e,t){return function Ga(n,e,t){return yi.apply(this,arguments)}(n,e,t)}function yi(){return(yi=(0,o.A)(function*(n,e,t){const r=(0,I.Ku)(n);if(v(r.auth,e,Dt),(0,P._isFirebaseServerApp)(r.auth.app))return Promise.reject(F(r.auth));yield r.auth._initializationPromise;const i=Gt(r.auth,t);yield gi(i,r.auth);const s=yield Os(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)})).apply(this,arguments)}function qa(n,e,t){return function Ya(n,e,t){return Ei.apply(this,arguments)}(n,e,t)}function Ei(){return(Ei=(0,o.A)(function*(n,e,t){const r=(0,I.Ku)(n);v(r.auth,e,Dt),yield r.auth._initializationPromise;const i=Gt(r.auth,t);yield wn(!1,r,e.providerId),yield gi(i,r.auth);const s=yield Os(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)})).apply(this,arguments)}function Ai(){return(Ai=(0,o.A)(function*(n,e){return yield Pe(n)._initializationPromise,Fn(n,e,!1)})).apply(this,arguments)}function Fn(n,e){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,o.A)(function*(n,e,t=!1){if((0,P._isFirebaseServerApp)(n.app))return Promise.reject(F(n));const r=Pe(n),i=Gt(r,e),c=yield new Ba(r,i,t).execute();return c&&!t&&(delete c.user._redirectEventId,yield r._persistUserIfCurrent(c.user),yield r._setRedirectUser(null,e)),c})).apply(this,arguments)}function Os(n){return bi.apply(this,arguments)}function bi(){return(bi=(0,o.A)(function*(n){const e=pn(`${n.uid}:::`);return n._redirectEventId=e,yield n.auth._setRedirectUser(n),yield n.auth._persistUserIfCurrent(n),e})).apply(this,arguments)}class Ds{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Za(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ls(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Ls(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(B(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ns(e))}saveEventToCache(e){this.cachedEventUids.add(Ns(e)),this.lastProcessedEventTime=Date.now()}}function Ns(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Ls({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function Ms(n){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,o.A)(function*(n,e={}){return z(n,"GET","/v1/projects",e)})).apply(this,arguments)}const Qa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ec=/^https?/;function Ri(){return(Ri=(0,o.A)(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield Ms(n);for(const t of e)try{if(nc(t))return}catch{}Y(n,"unauthorized-domain")})).apply(this,arguments)}function nc(n){const e=W(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return""===c.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&c.hostname===r}if(!ec.test(t))return!1;if(Qa.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const rc=new be(3e4,6e4);function xs(){const n=Ve().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Vn=null;const oc=new be(5e3,15e3),uc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dc(n){const e=n.config;p(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?He(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:P.SDK_VERSION},i=lc.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${(0,I.Am)(r).slice(1)}`}function Si(){return Si=(0,o.A)(function*(n){const e=yield function sc(n){return Vn=Vn||function ic(n){return new Promise((e,t)=>{var r,i,s;function c(){xs(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xs(),t(B(n,"network-request-failed"))},timeout:rc.get()})}if(null!==(i=null===(r=Ve().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=Ve().gapi)||void 0===s||!s.load){const l=Xt("iframefcb");return Ve()[l]=()=>{gapi.load?c():t(B(n,"network-request-failed"))},Jt(`${function Qi(){return Bt.gapiScript}()}?onload=${l}`).catch(g=>t(g))}c()}}).catch(e=>{throw Vn=null,e})}(n),Vn}(n),t=Ve().gapi;return p(t,n,"internal-error"),e.open({where:document.body,url:dc(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uc,dontclear:!0},r=>new Promise(function(){var i=(0,o.A)(function*(s,c){yield r.restyle({setHideOnLeave:!1});const l=B(n,"network-request-failed"),g=Ve().setTimeout(()=>{c(l)},oc.get());function S(){Ve().clearTimeout(g),s(r)}r.ping(S).then(S,()=>{c(l)})});return function(s,c){return i.apply(this,arguments)}}()))}),Si.apply(this,arguments)}const fc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Us{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ac=encodeURIComponent("fac");function Ci(n,e,t,r,i,s){return ki.apply(this,arguments)}function ki(){return(ki=(0,o.A)(function*(n,e,t,r,i,s){p(n.config.authDomain,n,"auth-domain-config-required"),p(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:P.SDK_VERSION,eventId:i};if(e instanceof Dt){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",(0,I.Im)(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[N,k]of Object.entries(s||{}))c[N]=k}if(e instanceof tn){const N=e.getScopes().filter(k=>""!==k);N.length>0&&(c.scopes=N.join(","))}n.tenantId&&(c.tid=n.tenantId);const l=c;for(const N of Object.keys(l))void 0===l[N]&&delete l[N];const g=yield n._getAppCheckToken(),S=g?`#${Ac}=${encodeURIComponent(g)}`:"";return`${function Tc({config:n}){return n.emulator?He(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${(0,I.Am)(l).slice(1)}${S}`})).apply(this,arguments)}const wi="webStorageSupport",Fs=class bc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ht,this._completeRedirectFn=Fn,this._overrideRedirectResult=vi}_openPopup(e,t,r,i){var s=this;return(0,o.A)(function*(){var c;j(null===(c=s.eventManagers[e._key()])||void 0===c?void 0:c.manager,"_initialize() not called before _openPopup()");const l=yield Ci(e,t,r,W(),i);return function vc(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const g=Object.assign(Object.assign({},fc),{width:r.toString(),height:i.toString(),top:s,left:c}),S=(0,I.ZQ)().toLowerCase();t&&(l=Q(S)?"_blank":t),m(S)&&(e=e||"http://localhost",g.scrollbars="yes");const N=Object.entries(g).reduce((K,[Se,ct])=>`${K}${Se}=${ct},`,"");if(function Ge(n=(0,I.ZQ)()){var e;return ie(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(S)&&"_self"!==l)return function Ic(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",l),new Us(null);const k=window.open(e||"",l,N);p(k,n,"popup-blocked");try{k.focus()}catch{}return new Us(k)}(e,l,pn())})()}_openRedirect(e,t,r,i){var s=this;return(0,o.A)(function*(){return yield s._originValidation(e),function da(n){Ve().location.href=n}(yield Ci(e,t,r,W(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(j(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,o.A)(function*(){const r=yield function hc(n){return Si.apply(this,arguments)}(e),i=new Ds(e);return r.register("authEvent",s=>(p(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(wi,{type:wi},i=>{var s;const c=null===(s=i?.[0])||void 0===s?void 0:s[wi];void 0!==c&&t(!!c),Y(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function tc(n){return Ri.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ut()||x()||ie()}};class Vs{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return M("unexpected MultiFactorSessionType")}}}class Oi extends Vs{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Oi(e)}_finalizeEnroll(e,t,r){return function na(n,e){return z(n,"POST","/v2/accounts/mfaEnrollment:finalize",ne(n,e))}(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function ya(n,e){return z(n,"POST","/v2/accounts/mfaSignIn:finalize",ne(n,e))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Pc=(()=>{class n{constructor(){}static assertion(t){return Oi._fromCredential(t)}}return n.FACTOR_ID="phone",n})();var Bs="@firebase/auth";class Rc{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,o.A)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){p(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function qt(){return window}function Ni(){return Ni=(0,o.A)(function*(n,e,t){var r;const{BuildInfo:i}=qt();j(e.sessionId,"AuthEvent did not contain a session ID");const s=yield function Fc(n){return xi.apply(this,arguments)}(e.sessionId),c={};return ie()?c.ibi=i.packageName:Oe()?c.apn=i.packageName:Y(n,"operation-not-supported-in-this-environment"),i.displayName&&(c.appDisplayName=i.displayName),c.sessionId=s,Ci(n,t,e.type,void 0,null!==(r=e.eventId)&&void 0!==r?r:void 0,c)}),Ni.apply(this,arguments)}function Li(){return(Li=(0,o.A)(function*(n){const{BuildInfo:e}=qt(),t={};ie()?t.iosBundleId=e.packageName:Oe()?t.androidPackageName=e.packageName:Y(n,"operation-not-supported-in-this-environment"),yield Ms(n,t)})).apply(this,arguments)}function Mi(){return(Mi=(0,o.A)(function*(n,e,t){const{cordova:r}=qt();let i=()=>{};try{yield new Promise((s,c)=>{let l=null;function g(){var k;s();const K=null===(k=r.plugins.browsertab)||void 0===k?void 0:k.close;"function"==typeof K&&K(),"function"==typeof t?.close&&t.close()}function S(){l||(l=window.setTimeout(()=>{c(B(n,"redirect-cancelled-by-user"))},2e3))}function N(){"visible"===document?.visibilityState&&S()}e.addPassiveListener(g),document.addEventListener("resume",S,!1),Oe()&&document.addEventListener("visibilitychange",N,!1),i=()=>{e.removePassiveListener(g),document.removeEventListener("resume",S,!1),document.removeEventListener("visibilitychange",N,!1),l&&window.clearTimeout(l)}})}finally{i()}})).apply(this,arguments)}function xi(){return(xi=(0,o.A)(function*(n){const e=function Vc(n){if(j(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}(n),t=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}(0,I.XA)("authIdTokenMaxAge"),function Hn(n){Bt=n}({loadJS:n=>new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=B("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function Oc(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Cc(n){(0,P._registerComponent)(new ke.uA("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:c,authDomain:l}=r.options;p(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:c,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ft(n)},S=new Zi(r,i,s,g);return function H(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(we);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(S,t),S},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new ke.uA("auth-internal",e=>{const t=Pe(e.getProvider("auth").getImmediate());return new Rc(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(Bs,"1.10.8",function Sc(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),(0,P.registerVersion)(Bs,"1.10.8","esm2017")}("Browser");class Bc extends Ds{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return(0,o.A)(function*(){yield e.initPromise})()}}function Ks(n){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,o.A)(function*(n){const e=yield Fi()._get(Vi(n));return e&&(yield Fi()._remove(Vi(n))),e})).apply(this,arguments)}function jc(){const n=[];for(let t=0;t<20;t++){const r=Math.floor(62*Math.random());n.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(r))}return n.join("")}function Fi(){return we(Ln)}function Vi(n){return a("authEvent",n.config.apiKey,n.name)}function Bn(n){if(!n?.includes("?"))return{};const[e,...t]=n.split("?");return(0,I.I9)(t.join("?"))}const Jc=class Yc{constructor(){this._redirectPersistence=Ht,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Fn,this._overrideRedirectResult=vi}_initialize(e){var t=this;return(0,o.A)(function*(){const r=e._key();let i=t.eventManagers.get(r);return i||(i=new Bc(e),t.eventManagers.set(r,i),t.attachCallbackListeners(e,i)),i})()}_openPopup(e){Y(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,r,i){var s=this;return(0,o.A)(function*(){!function Uc(n){var e,t,r,i,s,c,l,g,S,N;const k=qt();p("function"==typeof(null===(e=k?.universalLinks)||void 0===e?void 0:e.subscribe),n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),p(typeof(null===(t=k?.BuildInfo)||void 0===t?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),p("function"==typeof(null===(s=null===(i=null===(r=k?.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),p("function"==typeof(null===(g=null===(l=null===(c=k?.cordova)||void 0===c?void 0:c.plugins)||void 0===l?void 0:l.browsertab)||void 0===g?void 0:g.isAvailable),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),p("function"==typeof(null===(N=null===(S=k?.cordova)||void 0===S?void 0:S.InAppBrowser)||void 0===N?void 0:N.open),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const c=yield s._initialize(e);yield c.initialized(),c.resetRedirect(),function $a(){vn.clear()}(),yield s._originValidation(e);const l=function Hc(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:jc(),postBody:null,tenantId:n.tenantId,error:B(n,"no-auth-event")}}(e,r,i);yield function $c(n,e){return Fi()._set(Vi(n),e)}(e,l);const g=yield function Nc(n,e,t){return Ni.apply(this,arguments)}(e,l,t),S=yield function Mc(n){const{cordova:e}=qt();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,function G(n=(0,I.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}()?"_blank":"_system","location=yes"),t(i)})})}(g);return function xc(n,e,t){return Mi.apply(this,arguments)}(e,c,S)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function Lc(n){return Li.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=qt(),c=setTimeout((0,o.A)(function*(){yield Ks(e),t.onEvent(js())}),500),l=function(){var N=(0,o.A)(function*(k){clearTimeout(c);const K=yield Ks(e);let Se=null;K&&k?.url&&(Se=function Kc(n,e){var t,r;const i=function Gc(n){const e=Bn(n),t=e.link?decodeURIComponent(e.link):void 0,r=Bn(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Bn(i).link||i||r||t||n}(e);if(i.includes("/__/auth/callback")){const s=Bn(i),c=s.firebaseError?function zc(n){try{return JSON.parse(n)}catch{return null}}(decodeURIComponent(s.firebaseError)):null,l=null===(r=null===(t=c?.code)||void 0===t?void 0:t.split("auth/"))||void 0===r?void 0:r[1],g=l?B(l):null;return g?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:g,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}(K,k.url)),t.onEvent(Se||js())});return function(K){return N.apply(this,arguments)}}();typeof r<"u"&&"function"==typeof r.subscribe&&r.subscribe(null,l);const g=i,S=`${s.packageName.toLowerCase()}://`;qt().handleOpenURL=function(){var N=(0,o.A)(function*(k){if(k.toLowerCase().startsWith(S)&&l({url:k}),"function"==typeof g)try{g(k)}catch(K){console.error(K)}});return function(k){return N.apply(this,arguments)}}()}};function js(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:B("no-auth-event")}}function In(){var n;return(null===(n=self?.location)||void 0===n?void 0:n.protocol)||null}function zs(n=(0,I.ZQ)()){return!("file:"!==In()&&"ionic:"!==In()&&"capacitor:"!==In()||!n.toLowerCase().match(/iphone|ipad|ipod|android/))}function Gs(){try{const n=self.localStorage,e=pn();if(n)return n.setItem(e,"1"),n.removeItem(e),!function su(n=(0,I.ZQ)()){return function ru(){return(0,I.lT)()&&11===document?.documentMode}()||function iu(n=(0,I.ZQ)()){return/Edge\/\d+/.test(n)}(n)}()||(0,I.zW)()}catch{return Wi()&&(0,I.zW)()}return!1}function Wi(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Bi(){return(function tu(){return"http:"===In()||"https:"===In()}()||(0,I.sr)()||zs())&&!function nu(){return(0,I.lV)()||(0,I.Ll)()}()&&Gs()&&!Wi()}function qs(){return zs()&&typeof document<"u"}function Hi(){return(Hi=(0,o.A)(function*(){return!!qs()&&new Promise(n=>{const e=setTimeout(()=>{n(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})})})).apply(this,arguments)}const et={LOCAL:"local",NONE:"none",SESSION:"session"},yn=p,Ys="persistence";function $i(n){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,o.A)(function*(n){yield n._initializationPromise;const e=Js(),t=a(Ys,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistenceType())})).apply(this,arguments)}function Js(){var n;try{return(null===(n=function au(){return typeof window<"u"?window:null}())||void 0===n?void 0:n.sessionStorage)||null}catch{return null}}const lu=p;class $t{constructor(){this.browserResolver=we(Fs),this.cordovaResolver=we(Jc),this.underlyingResolver=null,this._redirectPersistence=Ht,this._completeRedirectFn=Fn,this._overrideRedirectResult=vi}_initialize(e){var t=this;return(0,o.A)(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,r,i){var s=this;return(0,o.A)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(e,t,r,i)})()}_openRedirect(e,t,r,i){var s=this;return(0,o.A)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(e,t,r,i)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return qs()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return lu(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return(0,o.A)(function*(){if(e.underlyingResolver)return;const t=yield function ou(){return Hi.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function Xs(n){return n.unwrap()}function hu(n){return Zs(n)}function Zs(n){const{_tokenResponse:e}=n instanceof I.g?n.customData:n;if(!e)return null;if(!(n instanceof I.g)&&"temporaryProof"in e&&"phoneNumber"in e)return mn.credentialFromResult(n);const t=e.providerId;if(!t||"password"===t)return null;let r;switch(t){case"google.com":r=as;break;case"facebook.com":r=os;break;case"github.com":r=cs;break;case"twitter.com":r=us;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:c,pendingToken:l,nonce:g}=e;return s||c||i||l?l?t.startsWith("saml.")?rn._create(t,l):Pt._fromParams({providerId:t,signInMethod:t,pendingToken:l,idToken:i,accessToken:s}):new nn(t).credential({idToken:i,accessToken:s,rawNonce:g}):null}return n instanceof I.g?r.credentialFromError(n):r.credentialFromResult(n)}function Ze(n,e){return e.catch(t=>{throw t instanceof I.g&&function fu(n,e){var t;const r=null===(t=e.customData)||void 0===t?void 0:t._tokenResponse;if("auth/multi-factor-auth-required"===e?.code)e.resolver=new pu(n,function ta(n,e){var t;const r=(0,I.Ku)(n),i=e;return p(e.customData.operationType,r,"argument-error"),p(null===(t=i.customData._serverResponse)||void 0===t?void 0:t.mfaPendingCredential,r,"argument-error"),zr._fromError(r,i)}(n,e));else if(r){const i=Zs(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}(n,t),t}).then(t=>{const i=t.user;return{operationType:t.operationType,credential:hu(t),additionalUserInfo:Zo(t),user:Nt.getOrCreate(i)}})}function ji(n,e){return zi.apply(this,arguments)}function zi(){return(zi=(0,o.A)(function*(n,e){const t=yield e;return{verificationId:t.verificationId,confirm:r=>Ze(n,t.confirm(r))}})).apply(this,arguments)}class pu{constructor(e,t){this.resolver=t,this.auth=function du(n){return n.wrapped()}(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Ze(Xs(this.auth),this.resolver.resolveSignIn(e))}}class Nt{constructor(e){this._delegate=e,this.multiFactor=function sa(n){const e=(0,I.Ku)(n);return qr.has(e)||qr.set(e,Gr._fromUser(e)),qr.get(e)}(e)}static getOrCreate(e){return Nt.USER_MAP.has(e)||Nt.USER_MAP.set(e,new Nt(e)),Nt.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return(0,o.A)(function*(){return Ze(t.auth,gs(t._delegate,e))})()}linkWithPhoneNumber(e,t){var r=this;return(0,o.A)(function*(){return ji(r.auth,function wa(n,e,t){return ri.apply(this,arguments)}(r._delegate,e,t))})()}linkWithPopup(e){var t=this;return(0,o.A)(function*(){return Ze(t.auth,function Va(n,e,t){return fi.apply(this,arguments)}(t._delegate,e,$t))})()}linkWithRedirect(e){var t=this;return(0,o.A)(function*(){return yield $i(Pe(t.auth)),qa(t._delegate,e,$t)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return(0,o.A)(function*(){return Ze(t.auth,ms(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return ji(this.auth,function Oa(n,e,t){return ii.apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return Ze(this.auth,function Fa(n,e,t){return hi.apply(this,arguments)}(this._delegate,e,$t))}reauthenticateWithRedirect(e){var t=this;return(0,o.A)(function*(){return yield $i(Pe(t.auth)),za(t._delegate,e,$t)})()}sendEmailVerification(e){return function Bo(n,e){return Vr.apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return(0,o.A)(function*(){return yield function So(n,e){return pr.apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function jo(n,e){const t=(0,I.Ku)(n);return(0,P._isFirebaseServerApp)(t.auth.app)?Promise.reject(F(t.auth)):Is(t,e,null)}(this._delegate,e)}updatePassword(e){return function zo(n,e){return Is((0,I.Ku)(n),null,e)}(this._delegate,e)}updatePhoneNumber(e){return function Da(n,e){return oi.apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function Ko(n,e){return Hr.apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function Ho(n,e,t){return Wr.apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Nt.USER_MAP=new WeakMap;const En=p;let Qs=(()=>{class n{constructor(t,r){if(this.app=t,r.isInitialized())return this._delegate=r.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:i}=t.options;En(i,"invalid-api-key",{appName:t.name}),En(i,"invalid-api-key",{appName:t.name});const s=typeof window<"u"?$t:void 0;this._delegate=r.initialize({options:{persistence:_u(i,t.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(ve),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Nt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(t){this._delegate.languageCode=t}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(t){this._delegate.tenantId=t}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(t,r){!function le(n,e,t){const r=Pe(n);p(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=Ie(e),{host:c,port:l}=function De(n){const e=Ie(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Ee(r.substr(s.length+1))}}{const[s,c]=r.split(":");return{host:s,port:Ee(c)}}}(e),g=null===l?"":`:${l}`,S={url:`${s}//${c}${g}/`},N=Object.freeze({host:c,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return p(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void p((0,I.bD)(S,r.config.emulator)&&(0,I.bD)(N,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=S,r.emulatorConfig=N,r.settings.appVerificationDisabledForTesting=!0,(0,I.zJ)(c)?((0,I.gE)(`${s}//${c}${g}`),(0,I.P1)("Auth",!0)):i||function Rn(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(this._delegate,t,r)}applyActionCode(t){return function Do(n,e){return Or.apply(this,arguments)}(this._delegate,t)}checkActionCode(t){return vs(this._delegate,t)}confirmPasswordReset(t,r){return function Oo(n,e,t){return wr.apply(this,arguments)}(this._delegate,t,r)}createUserWithEmailAndPassword(t,r){var i=this;return(0,o.A)(function*(){return Ze(i._delegate,function Lo(n,e,t){return Lr.apply(this,arguments)}(i._delegate,t,r))})()}fetchProvidersForEmail(t){return this.fetchSignInMethodsForEmail(t)}fetchSignInMethodsForEmail(t){return function Wo(n,e){return Fr.apply(this,arguments)}(this._delegate,t)}isSignInWithEmailLink(t){return function Uo(n,e){const t=hn.parseLink(e);return"EMAIL_SIGNIN"===t?.operation}(0,t)}getRedirectResult(){var t=this;return(0,o.A)(function*(){En(Bi(),t._delegate,"operation-not-supported-in-this-environment");const r=yield function Ja(n,e){return Ai.apply(this,arguments)}(t._delegate,$t);return r?Ze(t._delegate,Promise.resolve(r)):{credential:null,user:null}})()}addFrameworkForLogging(t){!function Xc(n,e){Pe(n)._logFramework(e)}(this._delegate,t)}onAuthStateChanged(t,r,i){const{next:s,error:c,complete:l}=eo(t,r,i);return this._delegate.onAuthStateChanged(s,c,l)}onIdTokenChanged(t,r,i){const{next:s,error:c,complete:l}=eo(t,r,i);return this._delegate.onIdTokenChanged(s,c,l)}sendSignInLinkToEmail(t,r){return function xo(n,e,t){return Mr.apply(this,arguments)}(this._delegate,t,r)}sendPasswordResetEmail(t,r){return function wo(n,e,t){return kr.apply(this,arguments)}(this._delegate,t,r||void 0)}setPersistence(t){var r=this;return(0,o.A)(function*(){let i;switch(function cu(n,e){yn(Object.values(et).includes(e),n,"invalid-persistence-type"),(0,I.lV)()?yn(e!==et.SESSION,n,"unsupported-persistence-type"):(0,I.Ll)()?yn(e===et.NONE,n,"unsupported-persistence-type"):Wi()?yn(e===et.NONE||e===et.LOCAL&&(0,I.zW)(),n,"unsupported-persistence-type"):yn(e===et.NONE||Gs(),n,"unsupported-persistence-type")}(r._delegate,t),t){case et.SESSION:i=Ht;break;case et.LOCAL:i=(yield we(on)._isAvailable())?on:Ln;break;case et.NONE:i=u;break;default:return Y("argument-error",{appName:r._delegate.name})}return r._delegate.setPersistence(i)})()}signInAndRetrieveDataWithCredential(t){return this.signInWithCredential(t)}signInAnonymously(){return Ze(this._delegate,function Ro(n){return fr.apply(this,arguments)}(this._delegate))}signInWithCredential(t){return Ze(this._delegate,On(this._delegate,t))}signInWithCustomToken(t){return Ze(this._delegate,function ko(n,e){return br.apply(this,arguments)}(this._delegate,t))}signInWithEmailAndPassword(t,r){return Ze(this._delegate,function Mo(n,e,t){return(0,P._isFirebaseServerApp)(n.app)?Promise.reject(F(n)):On((0,I.Ku)(n),dr.credential(e,t)).catch(function(){var r=(0,o.A)(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&Sr(n),i});return function(i){return r.apply(this,arguments)}}())}(this._delegate,t,r))}signInWithEmailLink(t,r){return Ze(this._delegate,function Fo(n,e,t){return xr.apply(this,arguments)}(this._delegate,t,r))}signInWithPhoneNumber(t,r){return ji(this._delegate,function ka(n,e,t){return ni.apply(this,arguments)}(this._delegate,t,r))}signInWithPopup(t){var r=this;return(0,o.A)(function*(){return En(Bi(),r._delegate,"operation-not-supported-in-this-environment"),Ze(r._delegate,function Ua(n,e,t){return di.apply(this,arguments)}(r._delegate,t,$t))})()}signInWithRedirect(t){var r=this;return(0,o.A)(function*(){return En(Bi(),r._delegate,"operation-not-supported-in-this-environment"),yield $i(r._delegate),Ka(r._delegate,t,$t)})()}updateCurrentUser(t){return this._delegate.updateCurrentUser(t)}verifyPasswordResetCode(t){return function No(n,e){return Nr.apply(this,arguments)}(this._delegate,t)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return n.Persistence=et,n})();function eo(n,e,t){let r=n;"function"!=typeof n&&({next:r,error:e,complete:t}=n);const i=r;return{next:c=>i(c&&Nt.getOrCreate(c)),error:e,complete:t}}function _u(n,e){const t=function uu(n,e){const t=Js();if(!t)return[];const r=a(Ys,n,e);switch(t.getItem(r)){case et.NONE:return[u];case et.LOCAL:return[on,Ht];case et.SESSION:return[Ht];default:return[]}}(n,e);if(typeof self<"u"&&!t.includes(on)&&t.push(on),typeof window<"u")for(const r of[Ln,Ht])t.includes(r)||t.push(r);return t.includes(u)||t.push(u),t}class Gi{static credential(e,t){return mn.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new mn(Xs(V.A.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Gi.PHONE_SIGN_IN_METHOD=mn.PHONE_SIGN_IN_METHOD,Gi.PROVIDER_ID=mn.PROVIDER_ID;const gu=p;class mu{constructor(e,t,r=V.A.app()){var i;gu(null===(i=r.options)||void 0===i?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new Sa(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Iu(n){n.INTERNAL.registerComponent(new ke.uA("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Qs(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:dr,FacebookAuthProvider:os,GithubAuthProvider:cs,GoogleAuthProvider:as,OAuthProvider:nn,SAMLAuthProvider:Cn,PhoneAuthProvider:Gi,PhoneMultiFactorGenerator:Pc,RecaptchaVerifier:mu,TwitterAuthProvider:us,Auth:Qs,AuthCredential:ze,Error:I.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion("@firebase/auth-compat","0.5.28")}(V.A)},4121(Qe,Ae,w){w.d(Ae,{kR:()=>bn});var o=w(5407);w(375),w(5547),w(7037);var B=w(467),ge=w(1631),F=w(8779),v=w(1871),E=w(5398);const p=new Map,M={activated:!1,tokenObservers:[]},j={initialized:!1,enabled:!1};function W(f){return p.get(f)||Object.assign({},M)}function he(){return j}class Ue{constructor(d,_,T,O,H){if(this.operation=d,this.retryPolicy=_,this.getWaitDuration=T,this.lowerBound=O,this.upperBound=H,this.pending=null,this.nextErrorWaitInterval=O,O>H)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(d){var _=this;return(0,B.A)(function*(){_.stop();try{_.pending=new v.cY,_.pending.promise.catch(T=>{}),yield function Ne(f){return new Promise(d=>{setTimeout(d,f)})}(_.getNextRun(d)),_.pending.resolve(),yield _.pending.promise,_.pending=new v.cY,_.pending.promise.catch(T=>{}),yield _.operation(),_.pending.resolve(),yield _.pending.promise,_.process(!0).catch(()=>{})}catch(T){_.retryPolicy(T)?_.process(!1).catch(()=>{}):_.stop()}})()}getNextRun(d){if(d)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const _=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),_}}}const z=new v.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"});function Je(f){if(!W(f).activated)throw z.create("use-before-activation",{appName:f.name})}function We(f,d){return Be.apply(this,arguments)}function Be(){return(Be=(0,B.A)(function*({url:f,body:d},_){const T={"Content-Type":"application/json"},O=_.getImmediate({optional:!0});if(O){const ze=yield O.getHeartbeatsHeader();ze&&(T["X-Firebase-Client"]=ze)}const H={method:"POST",body:JSON.stringify(d),headers:T};let le,Ie;try{le=yield fetch(f,H)}catch(ze){throw z.create("fetch-network-error",{originalErrorMessage:ze?.message})}if(200!==le.status)throw z.create("fetch-status-error",{httpStatus:le.status});try{Ie=yield le.json()}catch(ze){throw z.create("fetch-parse-error",{originalErrorMessage:ze?.message})}const De=Ie.ttl.match(/^([\d.]+)(s)$/);if(!De||!De[2]||isNaN(Number(De[1])))throw z.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Ie.ttl}`});const Ee=1e3*Number(De[1]),Rn=Date.now();return{token:Ie.token,expireTimeMillis:Rn+Ee,issuedAtTimeMillis:Rn}})).apply(this,arguments)}function ce(f,d){const{projectId:_,appId:T,apiKey:O}=f.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${_}/apps/${T}:exchangeDebugToken?key=${O}`,body:{debug_token:d}}}const rt="firebase-app-check-store";let it=null;function dt(f,d){return ht.apply(this,arguments)}function ht(){return(ht=(0,B.A)(function*(f,d){const T=(yield function St(){return it||(it=new Promise((f,d)=>{try{const _=indexedDB.open("firebase-app-check-database",1);_.onsuccess=T=>{f(T.target.result)},_.onerror=T=>{var O;d(z.create("storage-open",{originalErrorMessage:null===(O=T.target.error)||void 0===O?void 0:O.message}))},_.onupgradeneeded=T=>{0===T.oldVersion&&T.target.result.createObjectStore(rt,{keyPath:"compositeKey"})}}catch(_){d(z.create("storage-open",{originalErrorMessage:_?.message}))}}),it)}()).transaction(rt,"readwrite"),H=T.objectStore(rt).put({compositeKey:f,value:d});return new Promise((le,Ie)=>{H.onsuccess=De=>{le()},T.onerror=De=>{var Ee;Ie(z.create("storage-set",{originalErrorMessage:null===(Ee=De.target.error)||void 0===Ee?void 0:Ee.message}))}})})).apply(this,arguments)}const Ke=new E.Vy("@firebase/app-check");function gt(f,d){return(0,v.zW)()?function Lt(f,d){return dt(function pt(f){return`${f.options.appId}-${f.name}`}(f),d)}(f,d).catch(_=>{Ke.warn(`Failed to write token to IndexedDB. Error: ${_}`)}):Promise.resolve()}function je(){return he().enabled}function ot(){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,B.A)(function*(){const f=he();if(f.enabled&&f.token)return f.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const kt={error:"UNKNOWN_ERROR"};function Xe(f){return v.K3.encodeString(JSON.stringify(f),!1)}function vt(f){return It.apply(this,arguments)}function It(){return(It=(0,B.A)(function*(f,d=!1,_=!1){const T=f.app;Je(T);const O=W(T);let le,H=O.token;if(H&&!J(H)&&(O.token=void 0,H=void 0),!H){const Ee=yield O.cachedTokenPromise;Ee&&(J(Ee)?H=Ee:yield gt(T,void 0))}if(!d&&H&&J(H))return{token:H.token};let De,Ie=!1;if(je())try{O.exchangeTokenPromise||(O.exchangeTokenPromise=We(ce(T,yield ot()),f.heartbeatServiceProvider).finally(()=>{O.exchangeTokenPromise=void 0}),Ie=!0);const Ee=yield O.exchangeTokenPromise;return yield gt(T,Ee),O.token=Ee,{token:Ee.token}}catch(Ee){return"appCheck/throttled"===Ee.code||"appCheck/initial-throttle"===Ee.code?Ke.warn(Ee.message):_&&Ke.error(Ee),Z(Ee)}try{O.exchangeTokenPromise||(O.exchangeTokenPromise=O.provider.getToken().finally(()=>{O.exchangeTokenPromise=void 0}),Ie=!0),H=yield W(T).exchangeTokenPromise}catch(Ee){"appCheck/throttled"===Ee.code||"appCheck/initial-throttle"===Ee.code?Ke.warn(Ee.message):_&&Ke.error(Ee),le=Ee}return H?le?De=J(H)?{token:H.token,internalError:le}:Z(le):(De={token:H.token},O.token=H,yield gt(T,H)):De=Z(le),Ie&&function L(f,d){const _=W(f).tokenObservers;for(const T of _)try{"EXTERNAL"===T.type&&null!=d.error?T.error(d.error):T.next(d)}catch{}}(T,De),De})).apply(this,arguments)}function bt(f){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,B.A)(function*(f){const d=f.app;Je(d);const{provider:_}=W(d);if(je()){const T=yield ot(),{token:O}=yield We(ce(d,T),f.heartbeatServiceProvider);return{token:O}}{const{token:T}=yield _.getToken();return{token:T}}})).apply(this,arguments)}function D(f,d){const _=W(f),T=_.tokenObservers.filter(O=>O.next!==d);0===T.length&&_.tokenRefresher&&_.tokenRefresher.isRunning()&&_.tokenRefresher.stop(),_.tokenObservers=T}function y(f){const{app:d}=f,_=W(d);let T=_.tokenRefresher;T||(T=function C(f){const{app:d}=f;return new Ue((0,B.A)(function*(){let T;if(T=W(d).token?yield vt(f,!0):yield vt(f),T.error)throw T.error;if(T.internalError)throw T.internalError}),()=>!0,()=>{const _=W(d);if(_.token){let T=_.token.issuedAtTimeMillis+.5*(_.token.expireTimeMillis-_.token.issuedAtTimeMillis)+3e5;return T=Math.min(T,_.token.expireTimeMillis-3e5),Math.max(0,T-Date.now())}return 0},3e4,96e4)}(f),_.tokenRefresher=T),!T.isRunning()&&_.isTokenAutoRefreshEnabled&&T.start()}function J(f){return f.expireTimeMillis-Date.now()>0}function Z(f){return{token:Xe(kt),error:f}}class ue{constructor(d,_){this.app=d,this.heartbeatServiceProvider=_}_delete(){const{tokenObservers:d}=W(this.app);for(const _ of d)D(this.app,_.next);return Promise.resolve()}}const Bt="app-check-internal";!function Hn(){(0,ge._registerComponent)(new F.uA("app-check",f=>function Le(f,d){return new ue(f,d)}(f.getProvider("app").getImmediate(),f.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,d,_)=>{f.getProvider(Bt).initialize()})),(0,ge._registerComponent)(new F.uA(Bt,f=>function we(f){return{getToken:d=>vt(f,d),getLimitedUseToken:()=>bt(f),addTokenListener:d=>function wt(f,d,_,T){const{app:O}=f,H=W(O);if(H.tokenObservers=[...H.tokenObservers,{next:_,error:T,type:d}],H.token&&J(H.token)){const Ie=H.token;Promise.resolve().then(()=>{_({token:Ie.token}),y(f)}).catch(()=>{})}H.cachedTokenPromise.then(()=>y(f))}(f,"INTERNAL",d),removeTokenListener:d=>D(f.app,d)}}(f.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ge.registerVersion)("@firebase/app-check","0.10.1")}();class bn{constructor(){return(0,o.CA)("app-check")}}typeof window<"u"&&window},5398(Qe,Ae,w){w.d(Ae,{$b:()=>V,Ey:()=>se,He:()=>_e,Vy:()=>ke});const o=[];var V=function(A){return A[A.DEBUG=0]="DEBUG",A[A.VERBOSE=1]="VERBOSE",A[A.INFO=2]="INFO",A[A.WARN=3]="WARN",A[A.ERROR=4]="ERROR",A[A.SILENT=5]="SILENT",A}(V||{});const P={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},I=V.INFO,pe={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},Ce=(A,R,...U)=>{if(R<A.logLevel)return;const ee=(new Date).toISOString(),re=pe[R];if(!re)throw new Error(`Attempted to log a message with an invalid logType (value: ${R})`);console[re](`[${ee}]  ${A.name}:`,...U)};class ke{constructor(R){this.name=R,this._logLevel=I,this._logHandler=Ce,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(R){if(!(R in V))throw new TypeError(`Invalid value "${R}" assigned to \`logLevel\``);this._logLevel=R}setLogLevel(R){this._logLevel="string"==typeof R?P[R]:R}get logHandler(){return this._logHandler}set logHandler(R){if("function"!=typeof R)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=R}get userLogHandler(){return this._userLogHandler}set userLogHandler(R){this._userLogHandler=R}debug(...R){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...R),this._logHandler(this,V.DEBUG,...R)}log(...R){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...R),this._logHandler(this,V.VERBOSE,...R)}info(...R){this._userLogHandler&&this._userLogHandler(this,V.INFO,...R),this._logHandler(this,V.INFO,...R)}warn(...R){this._userLogHandler&&this._userLogHandler(this,V.WARN,...R),this._logHandler(this,V.WARN,...R)}error(...R){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...R),this._logHandler(this,V.ERROR,...R)}}function _e(A){o.forEach(R=>{R.setLogLevel(A)})}function se(A,R){for(const U of o){let ee=null;R&&R.level&&(ee=P[R.level]),U.userLogHandler=null===A?null:(re,ve,...te)=>{const X=te.map(q=>{if(null==q)return null;if("string"==typeof q)return q;if("number"==typeof q||"boolean"==typeof q)return q.toString();if(q instanceof Error)return q.message;try{return JSON.stringify(q)}catch{return null}}).filter(q=>q).join(" ");ve>=(ee??re.logLevel)&&A({level:V[ve].toLowerCase(),message:X,args:te,type:re.name})}}}},5407(Qe,Ae,w){w.d(Ae,{xv:()=>R,u0:()=>me,CA:()=>re,lR:()=>ee});var o=w(375),P=(w(7705),w(7037)),I=w(6780),Ce=w(9687);const _e=new class ke extends Ce.q{}(class pe extends I.R{constructor(E,p){super(E,p),this.scheduler=E,this.work=p}schedule(E,p=0){return p>0?super.schedule(E,p):(this.delay=p,this.state=E,this.scheduler.flush(this),this)}execute(E,p){return p>0||this.closed?super.execute(E,p):this._execute(E,p)}requestAsyncId(E,p,M=0){return null!=M&&M>0||null==M&&this.delay>0?super.requestAsyncId(E,p,M):(E.flush(this),0)}});var A=w(3236);const R=new o.RxE("ANGULARFIRE2_VERSION");function ee(v,E,p){if(E){if(1===E.length)return E[0];const W=E.filter(oe=>oe.app===p);if(1===W.length)return W[0]}return p.container.getProvider(v).getImmediate({optional:!0})}const re=(v,E)=>{const p=E?[E]:(0,P.Dk)(),M=[];return p.forEach(j=>{j.container.getProvider(v).instances.forEach(oe=>{M.includes(oe)||M.push(oe)})}),M};class q{zone;delegate;constructor(E,p=_e){this.zone=E,this.delegate=p}now(){return this.delegate.now()}schedule(E,p,M){const j=this.zone;return this.delegate.schedule(function(oe){j?j.runGuarded(()=>{E.apply(this,[oe])}):E.apply(this,[oe])},p,M)}}let me=(()=>{class v{outsideAngular;insideAngular;constructor(){const p=(0,o.WQX)(o.SKi);this.outsideAngular=p.runOutsideAngular(()=>new q(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=p.run(()=>new q(typeof Zone>"u"?void 0:Zone.current,A.E))}static \u0275fac=function(M){return new(M||v)};static \u0275prov=o.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()},6749(Qe,Ae,w){w.d(Ae,{MR:()=>de,P2:()=>$});var o=w(467);let P,I;const ke=new WeakMap,_e=new WeakMap,se=new WeakMap,A=new WeakMap,R=new WeakMap;let re={get(v,E,p){if(v instanceof IDBTransaction){if("done"===E)return _e.get(v);if("objectStoreNames"===E)return v.objectStoreNames||se.get(v);if("store"===E)return p.objectStoreNames[1]?void 0:p.objectStore(p.objectStoreNames[0])}return q(v[E])},set:(v,E,p)=>(v[E]=p,!0),has:(v,E)=>v instanceof IDBTransaction&&("done"===E||"store"===E)||E in v};function X(v){return"function"==typeof v?function te(v){return v!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return I||(I=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(v)?function(...E){return v.apply(me(this),E),q(ke.get(this))}:function(...E){return q(v.apply(me(this),E))}:function(E,...p){const M=v.call(me(this),E,...p);return se.set(M,E.sort?E.sort():[E]),q(M)}}(v):(v instanceof IDBTransaction&&function ee(v){if(_e.has(v))return;const E=new Promise((p,M)=>{const j=()=>{v.removeEventListener("complete",W),v.removeEventListener("error",oe),v.removeEventListener("abort",oe)},W=()=>{p(),j()},oe=()=>{M(v.error||new DOMException("AbortError","AbortError")),j()};v.addEventListener("complete",W),v.addEventListener("error",oe),v.addEventListener("abort",oe)});_e.set(v,E)}(v),((v,E)=>E.some(p=>v instanceof p))(v,function pe(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(v,re):v)}function q(v){if(v instanceof IDBRequest)return function U(v){const E=new Promise((p,M)=>{const j=()=>{v.removeEventListener("success",W),v.removeEventListener("error",oe)},W=()=>{p(q(v.result)),j()},oe=()=>{M(v.error),j()};v.addEventListener("success",W),v.addEventListener("error",oe)});return E.then(p=>{p instanceof IDBCursor&&ke.set(p,v)}).catch(()=>{}),R.set(E,v),E}(v);if(A.has(v))return A.get(v);const E=X(v);return E!==v&&(A.set(v,E),R.set(E,v)),E}const me=v=>R.get(v);function $(v,E,{blocked:p,upgrade:M,blocking:j,terminated:W}={}){const oe=indexedDB.open(v,E),he=q(oe);return M&&oe.addEventListener("upgradeneeded",ae=>{M(q(oe.result),ae.oldVersion,ae.newVersion,q(oe.transaction),ae)}),p&&oe.addEventListener("blocked",ae=>p(ae.oldVersion,ae.newVersion,ae)),he.then(ae=>{W&&ae.addEventListener("close",()=>W()),j&&ae.addEventListener("versionchange",fe=>j(fe.oldVersion,fe.newVersion,fe))}).catch(()=>{}),he}function de(v,{blocked:E}={}){const p=indexedDB.deleteDatabase(v);return E&&p.addEventListener("blocked",M=>E(M.oldVersion,M)),q(p).then(()=>{})}const Y=["get","getKey","getAll","getAllKeys","count"],B=["put","add","delete","clear"],ge=new Map;function F(v,E){if(!(v instanceof IDBDatabase)||E in v||"string"!=typeof E)return;if(ge.get(E))return ge.get(E);const p=E.replace(/FromIndex$/,""),M=E!==p,j=B.includes(p);if(!(p in(M?IDBIndex:IDBObjectStore).prototype)||!j&&!Y.includes(p))return;const W=function(){var oe=(0,o.A)(function*(he,...ae){const fe=this.transaction(he,j?"readwrite":"readonly");let be=fe.store;return M&&(be=be.index(ae.shift())),(yield Promise.all([be[p](...ae),j&&fe.done]))[0]});return function(ae){return oe.apply(this,arguments)}}();return ge.set(E,W),W}!function ve(v){re=v(re)}(v=>({...v,get:(E,p,M)=>F(E,p)||v.get(E,p,M),has:(E,p)=>!!F(E,p)||v.has(E,p)}))},7037(Qe,Ae,w){w.d(Ae,{Dk:()=>o.getApps,Sx:()=>o.getApp});var o=w(1631);(0,o.registerVersion)("firebase","11.10.0","app")},7083(Qe,Ae,w){w.d(Ae,{K:()=>P});var o=w(5558),V=w(8071);function P(I,pe){return(0,V.T)(pe)?(0,o.n)(()=>I,pe):(0,o.n)(()=>I)}},8779(Qe,Ae,w){w.d(Ae,{h1:()=>_e,uA:()=>P});var o=w(467),V=w(1871);class P{constructor(A,R,U){this.name=A,this.instanceFactory=R,this.type=U,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(A){return this.instantiationMode=A,this}setMultipleInstances(A){return this.multipleInstances=A,this}setServiceProps(A){return this.serviceProps=A,this}setInstanceCreatedCallback(A){return this.onInstanceCreated=A,this}}const I="[DEFAULT]";class pe{constructor(A,R){this.name=A,this.container=R,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(A){const R=this.normalizeInstanceIdentifier(A);if(!this.instancesDeferred.has(R)){const U=new V.cY;if(this.instancesDeferred.set(R,U),this.isInitialized(R)||this.shouldAutoInitialize())try{const ee=this.getOrInitializeService({instanceIdentifier:R});ee&&U.resolve(ee)}catch{}}return this.instancesDeferred.get(R).promise}getImmediate(A){var R;const U=this.normalizeInstanceIdentifier(A?.identifier),ee=null!==(R=A?.optional)&&void 0!==R&&R;if(!this.isInitialized(U)&&!this.shouldAutoInitialize()){if(ee)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:U})}catch(re){if(ee)return null;throw re}}getComponent(){return this.component}setComponent(A){if(A.name!==this.name)throw Error(`Mismatching Component ${A.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=A,this.shouldAutoInitialize()){if(function ke(se){return"EAGER"===se.instantiationMode}(A))try{this.getOrInitializeService({instanceIdentifier:I})}catch{}for(const[R,U]of this.instancesDeferred.entries()){const ee=this.normalizeInstanceIdentifier(R);try{const re=this.getOrInitializeService({instanceIdentifier:ee});U.resolve(re)}catch{}}}}clearInstance(A=I){this.instancesDeferred.delete(A),this.instancesOptions.delete(A),this.instances.delete(A)}delete(){var A=this;return(0,o.A)(function*(){const R=Array.from(A.instances.values());yield Promise.all([...R.filter(U=>"INTERNAL"in U).map(U=>U.INTERNAL.delete()),...R.filter(U=>"_delete"in U).map(U=>U._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(A=I){return this.instances.has(A)}getOptions(A=I){return this.instancesOptions.get(A)||{}}initialize(A={}){const{options:R={}}=A,U=this.normalizeInstanceIdentifier(A.instanceIdentifier);if(this.isInitialized(U))throw Error(`${this.name}(${U}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ee=this.getOrInitializeService({instanceIdentifier:U,options:R});for(const[re,ve]of this.instancesDeferred.entries())U===this.normalizeInstanceIdentifier(re)&&ve.resolve(ee);return ee}onInit(A,R){var U;const ee=this.normalizeInstanceIdentifier(R),re=null!==(U=this.onInitCallbacks.get(ee))&&void 0!==U?U:new Set;re.add(A),this.onInitCallbacks.set(ee,re);const ve=this.instances.get(ee);return ve&&A(ve,ee),()=>{re.delete(A)}}invokeOnInitCallbacks(A,R){const U=this.onInitCallbacks.get(R);if(U)for(const ee of U)try{ee(A,R)}catch{}}getOrInitializeService({instanceIdentifier:A,options:R={}}){let U=this.instances.get(A);if(!U&&this.component&&(U=this.component.instanceFactory(this.container,{instanceIdentifier:(se=A,se===I?void 0:se),options:R}),this.instances.set(A,U),this.instancesOptions.set(A,R),this.invokeOnInitCallbacks(U,A),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,A,U)}catch{}var se;return U||null}normalizeInstanceIdentifier(A=I){return this.component?this.component.multipleInstances?A:I:A}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(A){this.name=A,this.providers=new Map}addComponent(A){const R=this.getProvider(A.name);if(R.isComponentSet())throw new Error(`Component ${A.name} has already been registered with ${this.name}`);R.setComponent(A)}addOrOverwriteComponent(A){this.getProvider(A.name).isComponentSet()&&this.providers.delete(A.name),this.addComponent(A)}getProvider(A){if(this.providers.has(A))return this.providers.get(A);const R=new pe(A,this);return this.providers.set(A,R),R}getProviders(){return Array.from(this.providers.values())}}},9253(Qe,Ae,w){w.d(Ae,{BM:()=>te,Gt:()=>ke,bf:()=>ve,e7:()=>_e,iB:()=>U,rx:()=>A,uP:()=>R});var o=w(375),V=w(5547),P=w(7705),I=w(5407),pe=w(762);const Ce=["ngOnDestroy"],ke=($,de,Y,B={})=>new Proxy($,{get:(ge,F)=>Y.runOutsideAngular(()=>{if($[F])return B?.spy?.get&&B.spy.get(F,$[F]),$[F];if(Ce.indexOf(F)>-1)return()=>{};const v=de.toPromise().then(E=>{const p=E?.[F];return"function"==typeof p?p.bind(E):p?.then?p.then(M=>Y.run(()=>M)):Y.run(()=>p)});return new Proxy(()=>{},{get:(E,p)=>v[p],apply:(E,p,M)=>v.then(j=>{const W=j?.(...M);return B?.spy?.apply&&B.spy.apply(F,M,W),W})})})}),_e=($,de)=>{de.forEach(Y=>{Object.getOwnPropertyNames(Y.prototype||Y).forEach(B=>{Object.defineProperty($.prototype,B,Object.getOwnPropertyDescriptor(Y.prototype||Y,B))})})};class se{constructor(de){return de}}const A=new o.nKC("angularfire2.app.options"),R=new o.nKC("angularfire2.app.name");function U($,de,Y){const ge="object"==typeof Y&&Y||{};ge.name=ge.name||"string"==typeof Y&&Y||"[DEFAULT]";const v=pe.A.apps.filter(E=>E&&E.name===ge.name)[0]||de.runOutsideAngular(()=>pe.A.initializeApp($,ge));try{if(JSON.stringify($)!==JSON.stringify(v.options)){const E=!!module.hot;ee("error",`${v.name} Firebase App already initialized with different options${E?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new se(v)}const ee=($,...de)=>{(0,P.naY)()&&typeof console<"u"&&console[$](...de)},re={provide:se,useFactory:U,deps:[A,o.SKi,[new V.Xx1,R]]};let ve=(()=>{class ${static initializeApp(Y,B){return{ngModule:$,providers:[{provide:A,useValue:Y},{provide:R,useValue:B}]}}constructor(Y){pe.A.registerVersion("angularfire",I.xv.full,"core"),pe.A.registerVersion("angularfire",I.xv.full,"app-compat"),pe.A.registerVersion("angular",o.xvI.full,Y.toString())}static \u0275fac=function(B){return new(B||$)(o.KVO(V.Agw))};static \u0275mod=V.$C({type:$});static \u0275inj=o.G2t({providers:[re]})}return $})();function te($,de,Y,B,ge){const[,F,v]=globalThis.\u0275AngularfireInstanceCache.find(E=>E[0]===$)||[];if(F)return function X($,de){try{return $.toString()===de.toString()}catch{return $===de}}(ge,v)||(me("error",`${de} was already initialized on the ${Y} Firebase App with different settings.${q?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:ge,was:v})),F;{const E=B();return globalThis.\u0275AngularfireInstanceCache.push([$,E,ge]),E}}const q=typeof module<"u"&&!!module.hot,me=($,...de)=>{(0,P.naY)()&&typeof console<"u"&&console[$](...de)};globalThis.\u0275AngularfireInstanceCache||=[]},9574(Qe,Ae,w){w.d(Ae,{A:()=>ve});var o=w(1871),V=w(8779),P=w(1631),I=w(5398);class pe{constructor(X,q){this._delegate=X,this.firebase=q,(0,P._addComponent)(X,new V.uA("app-compat",()=>this,"PUBLIC")),this.container=X.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(X){this._delegate.automaticDataCollectionEnabled=X}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(X=>{this._delegate.checkDestroyed(),X()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(X,q=P._DEFAULT_ENTRY_NAME){var me;this._delegate.checkDestroyed();const $=this._delegate.container.getProvider(X);return!$.isInitialized()&&"EXPLICIT"===(null===(me=$.getComponent())||void 0===me?void 0:me.instantiationMode)&&$.initialize(),$.getImmediate({identifier:q})}_removeServiceInstance(X,q=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(X).clearInstance(q)}_addComponent(X){(0,P._addComponent)(this._delegate,X)}_addOrOverwriteComponent(X){(0,P._addOrOverwriteComponent)(this._delegate,X)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ke=new o.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),A=function se(){const te=function _e(te){const X={},q={__esModule:!0,initializeApp:function de(F,v={}){const E=P.initializeApp(F,v);if((0,o.gR)(X,E.name))return X[E.name];const p=new te(E,q);return X[E.name]=p,p},app:$,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function B(F){const v=F.name,E=v.replace("-compat","");if(P._registerComponent(F)&&"PUBLIC"===F.type){const p=(M=$())=>{if("function"!=typeof M[E])throw ke.create("invalid-app-argument",{appName:v});return M[E]()};void 0!==F.serviceProps&&(0,o.zw)(p,F.serviceProps),q[E]=p,te.prototype[E]=function(...M){return this._getService.bind(this,v).apply(this,F.multipleInstances?M:[])}}return"PUBLIC"===F.type?q[E]:null},removeApp:function me(F){delete X[F]},useAsService:function ge(F,v){return"serverAuth"===v?null:v},modularAPIs:P}};function $(F){if(!(0,o.gR)(X,F=F||P._DEFAULT_ENTRY_NAME))throw ke.create("no-app",{appName:F});return X[F]}return q.default=q,Object.defineProperty(q,"apps",{get:function Y(){return Object.keys(X).map(F=>X[F])}}),$.App=te,q}(pe);return te.INTERNAL=Object.assign(Object.assign({},te.INTERNAL),{createFirebaseNamespace:se,extendNamespace:function X(q){(0,o.zw)(te,q)},createSubscribe:o.tD,ErrorFactory:o.FA,deepExtend:o.zw}),te}(),R=new I.Vy("@firebase/app-compat");try{const te=(0,o.mS)();if(void 0!==te.firebase){R.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const X=te.firebase.SDK_VERSION;X&&X.indexOf("LITE")>=0&&R.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const ve=A;!function re(te){(0,P.registerVersion)("@firebase/app-compat","0.4.2",te)}()}}]);