import{B as y,l as b,m as O,n as k,p as T}from"./chunk-MKIW25J4.js";import{a as A}from"./chunk-FOS6V2PY.js";import{Aa as _,Db as r,Fb as w,Ga as h,Ja as C,Oc as F,Qc as v,Ua as E,Wa as f,db as i,ea as c,eb as n,fa as m,fb as x,ka as p,lb as g,pb as d,qb as a}from"./chunk-L2QDK5DF.js";function S(l,e){if(l&1){let t=g();i(0,"div",0)(1,"button",1),r(2,"\u305D\u306E\u4ED6\u306E\u30ED\u30B0\u30A4\u30F3\u65B9\u6CD5"),n(),i(3,"div",2)(4,"p"),r(5,"\u4EE5\u4E0B\u306E\u30ED\u30B0\u30A4\u30F3\u6A5F\u80FD\u3092\u4F7F\u3046\u969B\u306F\u30D6\u30E9\u30A6\u30B6\u306E\u8A2D\u5B9A\u3067 "),i(6,"b"),r(7),n(),r(8,"\u304B\u3089\u306E\u7B2C\u4E09\u8005\u30AF\u30C3\u30AD\u30FC (Third-Party Cookie) \u3092\u53D7\u3051\u5BB9\u308C\u308B\u8A2D\u5B9A\u306B\u3057\u3066\u304F\u3060\u3055\u3044\u3002"),n(),i(9,"p"),r(10,"\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u4F5C\u3063\u3066\u3044\u306A\u3044\u5834\u5408\u306F\u81EA\u52D5\u7684\u306B\u4F5C\u6210\u3055\u308C\u307E\u3059\u3002\u5FC5\u305A "),i(11,"a",3),r(12,"[\u5229\u7528\u898F\u7D04]"),n(),r(13," \u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002"),n(),i(14,"div")(15,"img",4),d("click",function(o){c(t);let u=a();return m(u.onClickGoogleAuth(o))}),n(),i(16,"img",5),d("click",function(o){c(t);let u=a();return m(u.onClickTwitterAuth(o))}),n(),i(17,"span",6),d("click",function(o){c(t);let u=a();return m(u.onClickGithubAuth(o))}),x(18,"img",7),r(19,"Sign in with Github"),n()()()()}if(l&2){let t=a();_(7),w("",t.apiHostname," ")}}function B(l,e){if(l&1){let t=g();i(0,"div")(1,"img",8),d("click",function(o){c(t);let u=a();return m(u.onClickGoogleAuth(o))}),n(),i(2,"img",9),d("click",function(o){c(t);let u=a();return m(u.onClickTwitterAuth(o))}),n(),i(3,"img",10),d("click",function(o){c(t);let u=a();return m(u.onClickGithubAuth(o))}),n()()}}var D=class l{constructor(e,t){this.auth=e;this.toastr=t}apiHostname=F.firebaseConfig.authDomain;isTiny=!1;loginSucceeded=new p;loginFailed=new p;ngOnInit(){v("OauthFederationsComponent.OnInit()")}async doOauth(e){try{let t=await y(this.auth,e);this.loginSucceeded.next(t.user)}catch(t){this.loginFailed.next(t)}}async onClickGoogleAuth(e){e.preventDefault();let t=new b;await this.doOauth(t)}async onClickTwitterAuth(e){e.preventDefault();let t=new k;await this.doOauth(t)}async onClickGithubAuth(e){e.preventDefault();let t=new O;await this.doOauth(t)}static \u0275fac=function(t){return new(t||l)(h(T),h(A))};static \u0275cmp=C({type:l,selectors:[["app-oauth-federations"]],inputs:{isTiny:"isTiny"},outputs:{loginSucceeded:"loginSucceeded",loginFailed:"loginFailed"},decls:2,vars:1,consts:[[1,"row","m-3"],["type","button","data-bs-toggle","collapse","data-bs-target","#appGitfireOauthFederationsList","role","button","aria-label","Toggle other login","aria-expanded","false","aria-controls","appGitfireOauthFederationsList",1,"btn","btn-secondary","collapsed"],["id","appGitfireOauthFederationsList",1,"collapse","m-3"],["tabindex","-1","about","_blank","href","/terms.htm",1,""],["src","assets/google-login.png","alt","Google",1,"m-2","oauth-login-button","oauth-width-login-img",3,"click"],["src","assets/twitter-login.png","alt","Twitter",1,"m-2","oauth-login-button","oauth-width-login-img",3,"click"],[1,"m-2","oauth-login-button","oauth-pseudo-img",3,"click"],["src","assets/github-login.png","alt","Github",1,"m-1","oauth-circle-login-img"],["src","assets/google-login.png",1,"m-1","oauth-tiny-wide-img",3,"click"],["src","assets/twitter-login-small.png",1,"m-1","oauth-tiny-circle-img",3,"click"],["src","assets/github-login.png",1,"m-1","oauth-tiny-circle-img",3,"click"]],template:function(t,s){t&1&&E(0,S,20,1,"div",0)(1,B,4,0,"div"),t&2&&f(s.isTiny?1:0)},styles:[".oauth-login-button[_ngcontent-%COMP%]{cursor:pointer}.oauth-width-login-img[_ngcontent-%COMP%]{width:150px}.oauth-pseudo-img[_ngcontent-%COMP%]{border-style:ridge;border-radius:5px;padding:5px;white-space:nowrap}.oauth-circle-login-img[_ngcontent-%COMP%]{height:20px;width:20px}.oauth-tiny-wide-img[_ngcontent-%COMP%]{height:30px}.oauth-tiny-circle-img[_ngcontent-%COMP%]{width:30px}"]})};export{D as a};
