"use strict";(self.webpackChunkKaguraGithubPages=self.webpackChunkKaguraGithubPages||[]).push([[14],{4014:(C,I,c)=>{c.r(I),c.d(I,{ForecastMapModule:()=>g});var O=c(6814),b=c(5187),E=c(5861),d=c(108),f=c(7081),l=c(9773),t=c(8645),e=c(7028),i=c(9212),n=c(1803);const a=[{path:"map/index.htm",redirectTo:"map"},{path:"map",component:(()=>{class s{http;destroy$=new t.x;constructor(o){this.http=o}ngOnInit(){var o=this;return(0,E.Z)(function*(){const m=yield new e.aN({apiKey:d.NZ.googleMapApiKey,version:"weekly",libraries:["places"]}).load();(0,d.w_)("Google API loaded",m);const y={center:{lat:d.NZ.MapDefaultLocation.lat,lng:d.NZ.MapDefaultLocation.lng},zoom:12},v=document.getElementById("toolsForecastMapMain");if(!v)throw new Error("No valid Map container element found.");new m.maps.Map(v,y),o.http.fetchJson("https://www.jma.go.jp/bosai/common/const/area.json").pipe((0,f.d)(1),(0,l.R)(o.destroy$)).subscribe(w=>{console.log("TODO",w)})})()}ngOnDestroy(){this.destroy$.next()}static \u0275fac=function(p){return new(p||s)(i.Y36(n.OE))};static \u0275cmp=i.Xpm({type:s,selectors:[["app-forecastmap-main"]],decls:1,vars:0,consts:[["id","toolsForecastMapMain",2,"width","100%","height","600px"]],template:function(p,m){1&p&&i._UZ(0,"div",0)}})}return s})()}];let u=(()=>{class s{static \u0275fac=function(p){return new(p||s)};static \u0275mod=i.oAB({type:s});static \u0275inj=i.cJS({imports:[b.Bz.forChild(a),b.Bz]})}return s})(),g=(()=>{class s{static \u0275fac=function(p){return new(p||s)};static \u0275mod=i.oAB({type:s});static \u0275inj=i.cJS({imports:[O.ez,u]})}return s})()},7028:(C,I,c)=>{c.d(I,{aN:()=>f});var b=function l(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){if(t.constructor!==e.constructor)return!1;var i,n,r;if(Array.isArray(t)){if((i=t.length)!=e.length)return!1;for(n=i;0!=n--;)if(!l(t[n],e[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if((i=(r=Object.keys(t)).length)!==Object.keys(e).length)return!1;for(n=i;0!=n--;)if(!Object.prototype.hasOwnProperty.call(e,r[n]))return!1;for(n=i;0!=n--;){var a=r[n];if(!l(t[a],e[a]))return!1}return!0}return t!=t&&e!=e};const E="__googleMapsScriptId";var d=function(l){return l[l.INITIALIZED=0]="INITIALIZED",l[l.LOADING=1]="LOADING",l[l.SUCCESS=2]="SUCCESS",l[l.FAILURE=3]="FAILURE",l}(d||{});class f{constructor({apiKey:t,authReferrerPolicy:e,channel:i,client:n,id:r=E,language:a,libraries:u=[],mapIds:g,nonce:s,region:h,retries:o=3,url:p="https://maps.googleapis.com/maps/api/js",version:m}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=e,this.channel=i,this.client=n,this.id=r||E,this.language=a,this.libraries=u,this.mapIds=g,this.nonce=s,this.region=h,this.retries=o,this.url=p,this.version=m,f.instance){if(!b(this.options,f.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(f.instance.options)}`);return f.instance}f.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?d.FAILURE:this.done?d.SUCCESS:this.loading?d.LOADING:d.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let t=this.url;return t+="?callback=__googleMapsCallback",this.apiKey&&(t+=`&key=${this.apiKey}`),this.channel&&(t+=`&channel=${this.channel}`),this.client&&(t+=`&client=${this.client}`),this.libraries.length>0&&(t+=`&libraries=${this.libraries.join(",")}`),this.language&&(t+=`&language=${this.language}`),this.region&&(t+=`&region=${this.region}`),this.version&&(t+=`&v=${this.version}`),this.mapIds&&(t+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(t+=`&auth_referrer_policy=${this.authReferrerPolicy}`),t}deleteScript(){const t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((t,e)=>{this.loadCallback(i=>{i?e(i.error):t(window.google)})})}importLibrary(t){return this.execute(),google.maps.importLibrary(t)}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){var t,e;if(document.getElementById(this.id))return void this.callback();const i={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(i).forEach(r=>!i[r]&&delete i[r]),null!==(e=null===(t=window?.google)||void 0===t?void 0:t.maps)&&void 0!==e&&e.importLibrary||(r=>{let a,u,g,s="The Google Maps JavaScript API",h="google",o="importLibrary",p="__ib__",m=document,y=window;y=y[h]||(y[h]={});const v=y.maps||(y.maps={}),S=new Set,w=new URLSearchParams,P=()=>a||(a=new Promise((M,j)=>function O(l,t,e,i){return new(e||(e=Promise))(function(r,a){function u(h){try{s(i.next(h))}catch(o){a(o)}}function g(h){try{s(i.throw(h))}catch(o){a(o)}}function s(h){h.done?r(h.value):function n(r){return r instanceof e?r:new e(function(a){a(r)})}(h.value).then(u,g)}s((i=i.apply(l,t||[])).next())})}(this,void 0,void 0,function*(){var A;for(g in yield u=m.createElement("script"),u.id=this.id,w.set("libraries",[...S]+""),r)w.set(g.replace(/[A-Z]/g,R=>"_"+R[0].toLowerCase()),r[g]);w.set("callback",h+".maps."+p),u.src=this.url+"?"+w,v[p]=M,u.onerror=()=>a=j(Error(s+" could not load.")),u.nonce=this.nonce||(null===(A=m.querySelector("script[nonce]"))||void 0===A?void 0:A.nonce)||"",m.head.append(u)})));v[o]?console.warn(s+" only loads once. Ignoring:",r):v[o]=(M,...j)=>S.add(M)&&P().then(()=>v[o](M,...j))})(i);const n=this.libraries.map(r=>this.importLibrary(r));n.length||n.push(this.importLibrary("core")),Promise.all(n).then(()=>this.callback(),r=>{const a=new ErrorEvent("error",{error:r});this.loadErrorCallback(a)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){const e=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${e} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},e)}else this.onerrorEvent=t,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(t=>{t(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading||(this.loading=!0,this.setScript())}}}}}]);