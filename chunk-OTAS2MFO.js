import{$ as y,A as ae,B as oe,C as de,D as le,E as ue,F as ce,G as pe,H as he,I as ge,J as ve,K as _e,L as fe,M as me,N as Ie,O as Pe,P as ye,Q as Ae,R as Ee,S as Re,T as we,U as xe,V as ke,W as be,X as Ce,Y as b,Z as _,_ as Se,a as m,aa as Ne,b as f,ba as Le,c as j,ca as Oe,d as I,da as Te,e as N,ea as We,f as h,fa as A,g as Z,ga as Me,h as P,ha as Ue,i as w,ia as De,j as x,ja as at,k as V,ka as L,l as Q,la as Fe,m as st,ma as Be,n as k,na as Ve,o as X,oa as Ge,p as ee,pa as O,q as te,qa as ot,r as ne,ra as dt,s as G,sa as lt,t as H,ta as He,u as z,ua as ze,v as K,w as ie,x as re,y as Y,z as se}from"./chunk-AIGZXOK7.js";import{a as B}from"./chunk-BCTFMU5Z.js";import{C as it,G as rt,l as D,n as J,p as tt,q as $,r as nt,t as F,w as R}from"./chunk-242NDBMP.js";function E(){return window}var Et=2e3;async function Rt(n,e,t){var i;let{BuildInfo:r}=E();Z(e.sessionId,"AuthEvent did not contain a session ID");let s=await Ct(e.sessionId),a={};return Q()?a.ibi=r.packageName:V()?a.apn=r.packageName:I(n,"operation-not-supported-in-this-environment"),r.displayName&&(a.appDisplayName=r.displayName),a.sessionId=s,lt(n,t,e.type,void 0,(i=e.eventId)!==null&&i!==void 0?i:void 0,a)}async function wt(n){let{BuildInfo:e}=E(),t={};Q()?t.iosBundleId=e.packageName:V()?t.androidPackageName=e.packageName:I(n,"operation-not-supported-in-this-environment"),await dt(n,t)}function xt(n){let{cordova:e}=E();return new Promise(t=>{e.plugins.browsertab.isAvailable(i=>{let r=null;i?e.plugins.browsertab.openUrl(n):r=e.InAppBrowser.open(n,st()?"_blank":"_system","location=yes"),t(r)})})}async function kt(n,e,t){let{cordova:i}=E(),r=()=>{};try{await new Promise((s,a)=>{let o=null;function l(){var d;s();let S=(d=i.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof S=="function"&&S(),typeof t?.close=="function"&&t.close()}function v(){o||(o=window.setTimeout(()=>{a(N(n,"redirect-cancelled-by-user"))},Et))}function u(){document?.visibilityState==="visible"&&v()}e.addPassiveListener(l),document.addEventListener("resume",v,!1),V()&&document.addEventListener("visibilitychange",u,!1),r=()=>{e.removePassiveListener(l),document.removeEventListener("resume",v,!1),document.removeEventListener("visibilitychange",u,!1),o&&window.clearTimeout(o)}})}finally{r()}}function bt(n){var e,t,i,r,s,a,o,l,v,u;let d=E();h(typeof((e=d?.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),h(typeof((t=d?.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),h(typeof((s=(r=(i=d?.cordova)===null||i===void 0?void 0:i.plugins)===null||r===void 0?void 0:r.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),h(typeof((l=(o=(a=d?.cordova)===null||a===void 0?void 0:a.plugins)===null||o===void 0?void 0:o.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),h(typeof((u=(v=d?.cordova)===null||v===void 0?void 0:v.InAppBrowser)===null||u===void 0?void 0:u.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function Ct(n){let e=St(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(r=>r.toString(16).padStart(2,"0")).join("")}function St(n){if(Z(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);let e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let i=0;i<n.length;i++)t[i]=n.charCodeAt(i);return t}var Nt=20,Ke=class extends ot{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}};function Lt(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:Wt(),postBody:null,tenantId:n.tenantId,error:N(n,"no-auth-event")}}function Ot(n,e){return Ye()._set(qe(n),e)}async function ut(n){let e=await Ye()._get(qe(n));return e&&await Ye()._remove(qe(n)),e}function Tt(n,e){var t,i;let r=Ut(e);if(r.includes("/__/auth/callback")){let s=q(r),a=s.firebaseError?Mt(decodeURIComponent(s.firebaseError)):null,o=(i=(t=a?.code)===null||t===void 0?void 0:t.split("auth/"))===null||i===void 0?void 0:i[1],l=o?N(o):null;return l?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:r,postBody:null}}return null}function Wt(){let n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<Nt;t++){let i=Math.floor(Math.random()*e.length);n.push(e.charAt(i))}return n.join("")}function Ye(){return P(b)}function qe(n){return x("authEvent",n.config.apiKey,n.name)}function Mt(n){try{return JSON.parse(n)}catch{return null}}function Ut(n){let e=q(n),t=e.link?decodeURIComponent(e.link):void 0,i=q(t).link,r=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return q(r).link||r||i||t||n}function q(n){if(!n?.includes("?"))return{};let[e,...t]=n.split("?");return it(t.join("?"))}var Dt=500,Je=class{constructor(){this._redirectPersistence=_,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O,this._overrideRedirectResult=L}async _initialize(e){let t=e._key(),i=this.eventManagers.get(t);return i||(i=new Ke(e),this.eventManagers.set(t,i),this.attachCallbackListeners(e,i)),i}_openPopup(e){I(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,i,r){bt(e);let s=await this._initialize(e);await s.initialized(),s.resetRedirect(),at(),await this._originValidation(e);let a=Lt(e,i,r);await Ot(e,a);let o=await Rt(e,a,t),l=await xt(o);return kt(e,s,l)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=wt(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){let{universalLinks:i,handleOpenURL:r,BuildInfo:s}=E(),a=setTimeout(async()=>{await ut(e),t.onEvent(ct())},Dt),o=async u=>{clearTimeout(a);let d=await ut(e),S=null;d&&u?.url&&(S=Tt(d,u.url)),t.onEvent(S||ct())};typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,o);let l=r,v=`${s.packageName.toLowerCase()}://`;E().handleOpenURL=async u=>{if(u.toLowerCase().startsWith(v)&&o({url:u}),typeof l=="function")try{l(u)}catch(d){console.error(d)}}}},pt=Je;function ct(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:N("no-auth-event")}}function ht(n,e){k(n)._logFramework(e)}var Bt="@firebase/auth-compat",Vt="0.5.28";var Gt=1e3;function M(){var n;return((n=self?.location)===null||n===void 0?void 0:n.protocol)||null}function Ht(){return M()==="http:"||M()==="https:"}function _t(n=D()){return!!((M()==="file:"||M()==="ionic:"||M()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function zt(){return $()||J()}function Kt(){return nt()&&document?.documentMode===11}function Yt(n=D()){return/Edge\/\d+/.test(n)}function qt(n=D()){return Kt()||Yt(n)}function ft(){try{let n=self.localStorage,e=Se();if(n)return n.setItem(e,"1"),n.removeItem(e),qt()?F():!0}catch{return et()&&F()}return!1}function et(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function $e(){return(Ht()||tt()||_t())&&!zt()&&ft()&&!et()}function mt(){return _t()&&typeof document<"u"}async function Jt(){return mt()?new Promise(n=>{let e=setTimeout(()=>{n(!1)},Gt);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function $t(){return typeof window<"u"?window:null}var p={LOCAL:"local",NONE:"none",SESSION:"session"},T=h,It="persistence";function jt(n,e){if(T(Object.values(p).includes(e),n,"invalid-persistence-type"),$()){T(e!==p.SESSION,n,"unsupported-persistence-type");return}if(J()){T(e===p.NONE,n,"unsupported-persistence-type");return}if(et()){T(e===p.NONE||e===p.LOCAL&&F(),n,"unsupported-persistence-type");return}T(e===p.NONE||ft(),n,"unsupported-persistence-type")}async function je(n){await n._initializationPromise;let e=Pt(),t=x(It,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistenceType())}function Zt(n,e){let t=Pt();if(!t)return[];let i=x(It,n,e);switch(t.getItem(i)){case p.NONE:return[w];case p.LOCAL:return[y,_];case p.SESSION:return[_];default:return[]}}function Pt(){var n;try{return((n=$t())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}var Qt=h,g=class{constructor(){this.browserResolver=P(He),this.cordovaResolver=P(pt),this.underlyingResolver=null,this._redirectPersistence=_,this._completeRedirectFn=O,this._overrideRedirectResult=L}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,i,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,i,r)}async _openRedirect(e,t,i,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,i,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return mt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qt(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;let e=await Jt();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}};function yt(n){return n.unwrap()}function Xt(n){return n.wrapped()}function en(n){return At(n)}function tn(n,e){var t;let i=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if(e?.code==="auth/multi-factor-auth-required"){let r=e;r.resolver=new Qe(n,be(n,e))}else if(i){let r=At(e),s=e;r&&(s.credential=r,s.tenantId=i.tenantId||void 0,s.email=i.email||void 0,s.phoneNumber=i.phoneNumber||void 0)}}function At(n){let{_tokenResponse:e}=n instanceof R?n.customData:n;if(!e)return null;if(!(n instanceof R)&&"temporaryProof"in e&&"phoneNumber"in e)return A.credentialFromResult(n);let t=e.providerId;if(!t||t===m.PASSWORD)return null;let i;switch(t){case m.GOOGLE:i=z;break;case m.FACEBOOK:i=H;break;case m.GITHUB:i=K;break;case m.TWITTER:i=Y;break;default:let{oauthIdToken:r,oauthAccessToken:s,oauthTokenSecret:a,pendingToken:o,nonce:l}=e;return!s&&!a&&!r&&!o?null:o?t.startsWith("saml.")?ie._create(t,o):te._fromParams({providerId:t,signInMethod:t,pendingToken:o,idToken:r,accessToken:s}):new G(t).credential({idToken:r,accessToken:s,rawNonce:l})}return n instanceof R?i.credentialFromError(n):i.credentialFromResult(n)}function c(n,e){return e.catch(t=>{throw t instanceof R&&tn(n,t),t}).then(t=>{let i=t.operationType,r=t.user;return{operationType:i,credential:en(t),additionalUserInfo:ke(t),user:C.getOrCreate(r)}})}async function Ze(n,e){let t=await e;return{verificationId:t.verificationId,confirm:i=>c(n,t.confirm(i))}}var Qe=class{constructor(e,t){this.resolver=t,this.auth=Xt(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return c(yt(this.auth),this.resolver.resolveSignIn(e))}};var C=class n{constructor(e){this._delegate=e,this.multiFactor=Ce(e)}static getOrCreate(e){return n.USER_MAP.has(e)||n.USER_MAP.set(e,new n(e)),n.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return c(this.auth,de(this._delegate,e))}async linkWithPhoneNumber(e,t){return Ze(this.auth,Oe(this._delegate,e,t))}async linkWithPopup(e){return c(this.auth,De(this._delegate,e,g))}async linkWithRedirect(e){return await je(k(this.auth)),Ve(this._delegate,e,g)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return c(this.auth,le(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Ze(this.auth,Te(this._delegate,e,t))}reauthenticateWithPopup(e){return c(this.auth,Ue(this._delegate,e,g))}async reauthenticateWithRedirect(e){return await je(k(this.auth)),Be(this._delegate,e,g)}sendEmailVerification(e){return Ae(this._delegate,e)}async unlink(e){return await ae(this._delegate,e),this}updateEmail(e){return we(this._delegate,e)}updatePassword(e){return xe(this._delegate,e)}updatePhoneNumber(e){return We(this._delegate,e)}updateProfile(e){return Re(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Ee(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};C.USER_MAP=new WeakMap;var W=h,gt=(()=>{class n{constructor(t,i){if(this.app=t,i.isInitialized()){this._delegate=i.getImmediate(),this.linkUnderlyingAuth();return}let{apiKey:r}=t.options;W(r,"invalid-api-key",{appName:t.name}),W(r,"invalid-api-key",{appName:t.name});let s=typeof window<"u"?g:void 0;this._delegate=i.initialize({options:{persistence:nn(r,t.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(j),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?C.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(t){this._delegate.languageCode=t}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(t){this._delegate.tenantId=t}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(t,i){X(this._delegate,t,i)}applyActionCode(t){return he(this._delegate,t)}checkActionCode(t){return ge(this._delegate,t)}confirmPasswordReset(t,i){return pe(this._delegate,t,i)}async createUserWithEmailAndPassword(t,i){return c(this._delegate,_e(this._delegate,t,i))}fetchProvidersForEmail(t){return this.fetchSignInMethodsForEmail(t)}fetchSignInMethodsForEmail(t){return ye(this._delegate,t)}isSignInWithEmailLink(t){return Ie(this._delegate,t)}async getRedirectResult(){W($e(),this._delegate,"operation-not-supported-in-this-environment");let t=await Ge(this._delegate,g);return t?c(this._delegate,Promise.resolve(t)):{credential:null,user:null}}addFrameworkForLogging(t){ht(this._delegate,t)}onAuthStateChanged(t,i,r){let{next:s,error:a,complete:o}=vt(t,i,r);return this._delegate.onAuthStateChanged(s,a,o)}onIdTokenChanged(t,i,r){let{next:s,error:a,complete:o}=vt(t,i,r);return this._delegate.onIdTokenChanged(s,a,o)}sendSignInLinkToEmail(t,i){return me(this._delegate,t,i)}sendPasswordResetEmail(t,i){return ce(this._delegate,t,i||void 0)}async setPersistence(t){jt(this._delegate,t);let i;switch(t){case p.SESSION:i=_;break;case p.LOCAL:i=await P(y)._isAvailable()?y:b;break;case p.NONE:i=w;break;default:return I("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(i)}signInAndRetrieveDataWithCredential(t){return this.signInWithCredential(t)}signInAnonymously(){return c(this._delegate,se(this._delegate))}signInWithCredential(t){return c(this._delegate,oe(this._delegate,t))}signInWithCustomToken(t){return c(this._delegate,ue(this._delegate,t))}signInWithEmailAndPassword(t,i){return c(this._delegate,fe(this._delegate,t,i))}signInWithEmailLink(t,i){return c(this._delegate,Pe(this._delegate,t,i))}signInWithPhoneNumber(t,i){return Ze(this._delegate,Le(this._delegate,t,i))}async signInWithPopup(t){return W($e(),this._delegate,"operation-not-supported-in-this-environment"),c(this._delegate,Me(this._delegate,t,g))}async signInWithRedirect(t){return W($e(),this._delegate,"operation-not-supported-in-this-environment"),await je(this._delegate),Fe(this._delegate,t,g)}updateCurrentUser(t){return this._delegate.updateCurrentUser(t)}verifyPasswordResetCode(t){return ve(this._delegate,t)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return n.Persistence=p,n})();function vt(n,e,t){let i=n;typeof n!="function"&&({next:i,error:e,complete:t}=n);let r=i;return{next:a=>r(a&&C.getOrCreate(a)),error:e,complete:t}}function nn(n,e){let t=Zt(n,e);if(typeof self<"u"&&!t.includes(y)&&t.push(y),typeof window<"u")for(let i of[b,_])t.includes(i)||t.push(i);return t.includes(w)||t.push(w),t}var U=class{static credential(e,t){return A.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new A(yt(B.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}};U.PHONE_SIGN_IN_METHOD=A.PHONE_SIGN_IN_METHOD;U.PROVIDER_ID=A.PROVIDER_ID;var rn=h,Xe=class{constructor(e,t,i=B.app()){var r;rn((r=i.options)===null||r===void 0?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Ne(i.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}};var sn="auth-compat";function an(n){n.INTERNAL.registerComponent(new rt(sn,e=>{let t=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new gt(t,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:f.EMAIL_SIGNIN,PASSWORD_RESET:f.PASSWORD_RESET,RECOVER_EMAIL:f.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:f.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:f.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:f.VERIFY_EMAIL}},EmailAuthProvider:ne,FacebookAuthProvider:H,GithubAuthProvider:K,GoogleAuthProvider:z,OAuthProvider:G,SAMLAuthProvider:re,PhoneAuthProvider:U,PhoneMultiFactorGenerator:ze,RecaptchaVerifier:Xe,TwitterAuthProvider:Y,Auth:gt,AuthCredential:ee,Error:R}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(Bt,Vt)}an(B);
