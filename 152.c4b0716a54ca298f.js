"use strict";(self.webpackChunkKaguraGithubPages=self.webpackChunkKaguraGithubPages||[]).push([[152],{5845:(xe,pe,P)=>{P.d(pe,{$:()=>ws,A:()=>S,G:()=>X,K:()=>qr,L:()=>mt,N:()=>Je,P:()=>zo,R:()=>Wo,U:()=>b,V:()=>gn,W:()=>bs,X:()=>Ss,Y:()=>Rs,Z:()=>Rt,_:()=>Dt,a:()=>Xn,a0:()=>Cs,a1:()=>Mt,a2:()=>ii,a3:()=>si,a4:()=>Ds,a5:()=>Ls,a6:()=>xs,a7:()=>Ms,a8:()=>oi,a9:()=>Us,aA:()=>Wi,aB:()=>Z,aC:()=>_,aD:()=>Ai,aE:()=>h,aF:()=>U,aG:()=>Sr,aH:()=>vi,aI:()=>ra,aJ:()=>Ie,aN:()=>Ot,aQ:()=>vt,aa:()=>Fs,ab:()=>Vs,ac:()=>Ws,ad:()=>Bs,ae:()=>Hs,af:()=>js,ag:()=>$s,ah:()=>zs,ak:()=>qs,al:()=>Ys,am:()=>Js,ap:()=>Ns,aq:()=>no,as:()=>so,at:()=>lo,au:()=>q,av:()=>Et,aw:()=>yt,ax:()=>H,ay:()=>Nr,az:()=>Si,b:()=>li,c:()=>Zo,d:()=>Xo,e:()=>Qo,f:()=>ia,g:()=>ua,h:()=>oa,i:()=>gi,j:()=>la,k:()=>Oi,l:()=>Ko,m:()=>Va,p:()=>se,r:()=>jo,s:()=>Ho,u:()=>$o});var c=P(467),R=P(8891),l=P(1076),C=P(3889),B=P(1635),_e=P(1362);const se={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},S={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const X=function N(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ge=function K(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ue=new l.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),L=new C.Vy("@firebase/auth");function Q(n,...e){L.logLevel<=C.$b.ERROR&&L.error(`Auth (${R.SDK_VERSION}): ${n}`,...e)}function H(n,...e){throw y(n,...e)}function Z(n,...e){return y(n,...e)}function ae(n,e,t){const r=Object.assign(Object.assign({},ge()),{[e]:t});return new l.FA("auth","Firebase",r).create(e,{appName:n.name})}function O(n){return ae(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function A(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&H(n,"argument-error"),ae(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function y(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return ue.create(n,...e)}function _(n,e,...t){if(!n)throw y(e,...t)}function x(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Q(e),new Error(e)}function q(n,e){n||x(e)}function j(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function ce(){return"http:"===$()||"https:"===$()}function $(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class k{constructor(e,t){this.shortDelay=e,this.longDelay=t,q(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,l.jZ)()||(0,l.lV)()}get(){return function z(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ce()||(0,l.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function M(n,e){q(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class J{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void x("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void x("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void x("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const re={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},le=new k(3e4,6e4);function Y(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function te(n,e,t,r){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,c.A)(function*(n,e,t,r,i={}){return Ze(n,i,(0,c.A)(function*(){let o={},g={};r&&("GET"===e?g=r:o={body:JSON.stringify(r)});const v=(0,l.Am)(Object.assign({key:n.config.apiKey},g)).slice(1),T=yield n._getAdditionalHeaders();return T["Content-Type"]="application/json",n.languageCode&&(T["X-Firebase-Locale"]=n.languageCode),J.fetch()(we(n,n.config.apiHost,t,v),Object.assign({method:e,headers:T,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function Ze(n,e,t){return Re.apply(this,arguments)}function Re(){return(Re=(0,c.A)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},re),e);try{const i=new he(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const g=yield o.json();if("needConfirmation"in g)throw ye(n,"account-exists-with-different-credential",g);if(o.ok&&!("errorMessage"in g))return g;{const v=o.ok?g.errorMessage:g.error.message,[T,F]=v.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===T)throw ye(n,"credential-already-in-use",g);if("EMAIL_EXISTS"===T)throw ye(n,"email-already-in-use",g);if("USER_DISABLED"===T)throw ye(n,"user-disabled",g);const W=r[T]||T.toLowerCase().replace(/[_\s]+/g,"-");if(F)throw ae(n,W,F);H(n,W)}}catch(i){if(i instanceof l.g)throw i;H(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Te(n,e,t,r){return de.apply(this,arguments)}function de(){return(de=(0,c.A)(function*(n,e,t,r,i={}){const o=yield te(n,e,t,r,i);return"mfaPendingCredential"in o&&H(n,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function we(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?M(n.config,i):`${n.config.apiScheme}://${i}`}function Ce(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class he{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Z(this.auth,"network-request-failed")),le.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ye(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Z(n,e,r);return i.customData._tokenResponse=t,i}function Ee(n){return void 0!==n&&void 0!==n.getResponse}function Qe(n){return void 0!==n&&void 0!==n.enterprise}class at{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ce(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function He(){return(He=(0,c.A)(function*(n){return(yield te(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ae(n,e){return Me.apply(this,arguments)}function Me(){return(Me=(0,c.A)(function*(n,e){return te(n,"GET","/v2/recaptchaConfig",Y(n,e))})).apply(this,arguments)}function Ke(){return(Ke=(0,c.A)(function*(n,e){return te(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function je(){return(je=(0,c.A)(function*(n,e){return te(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function tt(n,e){return $e.apply(this,arguments)}function $e(){return($e=(0,c.A)(function*(n,e){return te(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function ze(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ge(){return(Ge=(0,c.A)(function*(n,e=!1){const t=(0,l.Ku)(n),r=yield t.getIdToken(e),i=nt(r);_(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,g=o?.sign_in_provider;return{claims:i,token:r,authTime:ze(Ne(i.auth_time)),issuedAtTime:ze(Ne(i.iat)),expirationTime:ze(Ne(i.exp)),signInProvider:g||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function Ne(n){return 1e3*Number(n)}function nt(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Q("JWT malformed, contained fewer than 3 sections"),null;try{const i=(0,l.u)(t);return i?JSON.parse(i):(Q("Failed to decode base64 JWT payload"),null)}catch(i){return Q("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ut(n){const e=nt(n);return _(e,"internal-error"),_(typeof e.exp<"u","internal-error"),_(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function fe(n,e){return qe.apply(this,arguments)}function qe(){return(qe=(0,c.A)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof l.g&&function Ue({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class ct{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,c.A)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,c.A)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class Pe{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ze(this.lastLoginAt),this.creationTime=ze(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ke(n){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,c.A)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield fe(n,tt(t,{idToken:r}));_(i?.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const g=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?lt(o.providerUserInfo):[],v=function it(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,g),W=!!n.isAnonymous&&!(n.email&&o.passwordHash||v?.length),ne={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:v,metadata:new Pe(o.createdAt,o.lastLoginAt),isAnonymous:W};Object.assign(n,ne)})).apply(this,arguments)}function Ye(){return(Ye=(0,c.A)(function*(n){const e=(0,l.Ku)(n);yield ke(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function lt(n){return n.map(e=>{var{providerId:t}=e,r=(0,B.__rest)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function f(){return(f=(0,c.A)(function*(n,e){const t=yield Ze(n,{},(0,c.A)(function*(){const r=(0,l.Am)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,g=we(n,i,"/v1/token",`key=${o}`),v=yield n._getAdditionalHeaders();return v["Content-Type"]="application/x-www-form-urlencoded",J.fetch()(g,{method:"POST",headers:v,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function a(){return(a=(0,c.A)(function*(n,e){return te(n,"POST","/v2/accounts:revokeToken",Y(n,e))})).apply(this,arguments)}class u{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_(e.idToken,"internal-error"),_(typeof e.idToken<"u","internal-error"),_(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ut(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_(0!==e.length,"internal-error");const t=ut(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){var r=this;return(0,c.A)(function*(){return t||!r.accessToken||r.isExpired?(_(r.refreshToken,e,"user-token-expired"),r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null):r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,c.A)(function*(){const{accessToken:i,refreshToken:o,expiresIn:g}=yield function ht(n,e){return f.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,o,Number(g))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,g=new u;return r&&(_("string"==typeof r,"internal-error",{appName:e}),g.refreshToken=r),i&&(_("string"==typeof i,"internal-error",{appName:e}),g.accessToken=i),o&&(_("number"==typeof o,"internal-error",{appName:e}),g.expirationTime=o),g}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new u,this.toJSON())}_performRefresh(){return x("not implemented")}}function s(n,e){_("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class m{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=(0,B.__rest)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ct(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Pe(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,c.A)(function*(){const r=yield fe(t,t.stsTokenManager.getToken(t.auth,e));return _(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function We(n){return Ge.apply(this,arguments)}(this,e)}reload(){return function rt(n){return Ye.apply(this,arguments)}(this)}_assign(e){this!==e&&(_(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new m(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,c.A)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield ke(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,c.A)(function*(){if((0,R._isFirebaseServerApp)(e.auth.app))return Promise.reject(O(e.auth));const t=yield e.getIdToken();return yield fe(e,function Se(n,e){return Ke.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,g,v,T,F,W;const ne=null!==(r=t.displayName)&&void 0!==r?r:void 0,De=null!==(i=t.email)&&void 0!==i?i:void 0,dt=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,$t=null!==(g=t.photoURL)&&void 0!==g?g:void 0,Li=null!==(v=t.tenantId)&&void 0!==v?v:void 0,Mr=null!==(T=t._redirectEventId)&&void 0!==T?T:void 0,xi=null!==(F=t.createdAt)&&void 0!==F?F:void 0,Mi=null!==(W=t.lastLoginAt)&&void 0!==W?W:void 0,{uid:Ur,emailVerified:Ui,isAnonymous:Fi,providerData:Fr,stsTokenManager:Vi}=t;_(Ur&&Vi,e,"internal-error");const Ga=u.fromJSON(this.name,Vi);_("string"==typeof Ur,e,"internal-error"),s(ne,e.name),s(De,e.name),_("boolean"==typeof Ui,e,"internal-error"),_("boolean"==typeof Fi,e,"internal-error"),s(dt,e.name),s($t,e.name),s(Li,e.name),s(Mr,e.name),s(xi,e.name),s(Mi,e.name);const Vr=new m({uid:Ur,auth:e,email:De,emailVerified:Ui,displayName:ne,isAnonymous:Fi,photoURL:$t,phoneNumber:dt,tenantId:Li,stsTokenManager:Ga,createdAt:xi,lastLoginAt:Mi});return Fr&&Array.isArray(Fr)&&(Vr.providerData=Fr.map(qa=>Object.assign({},qa))),Mr&&(Vr._redirectEventId=Mr),Vr}static _fromIdTokenResponse(e,t,r=!1){return(0,c.A)(function*(){const i=new u;i.updateFromServerResponse(t);const o=new m({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ke(o),o})()}static _fromGetAccountInfoResponse(e,t,r){return(0,c.A)(function*(){const i=t.users[0];_(void 0!==i.localId,"internal-error");const o=void 0!==i.providerUserInfo?lt(i.providerUserInfo):[],g=!(i.email&&i.passwordHash||o?.length),v=new u;v.updateFromIdToken(r);const T=new m({uid:i.localId,auth:e,stsTokenManager:v,isAnonymous:g}),F={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Pe(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||o?.length)};return Object.assign(T,F),T})()}}const p=new Map;function h(n){q(n instanceof Function,"Expected a class definition");let e=p.get(n);return e?(q(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,p.set(n,e),e)}const b=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.A)(function*(){return!0})()}_set(t,r){var i=this;return(0,c.A)(function*(){i.storage[t]=r})()}_get(t){var r=this;return(0,c.A)(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return(0,c.A)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function U(n,e,t){return`firebase:${n}:${e}:${t}`}class w{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=U(this.userKey,i.apiKey,o),this.fullPersistenceKey=U("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,c.A)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?m._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,c.A)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,c.A)(function*(){if(!t.length)return new w(h(b),e,r);const i=(yield Promise.all(t.map(function(){var F=(0,c.A)(function*(W){if(yield W._isAvailable())return W});return function(W){return F.apply(this,arguments)}}()))).filter(F=>F);let o=i[0]||h(b);const g=U(r,e.config.apiKey,e.name);let v=null;for(const F of t)try{const W=yield F._get(g);if(W){const ne=m._fromJSON(e,W);F!==o&&(v=ne),o=F;break}}catch{}const T=i.filter(F=>F._shouldAllowMigration);return o._shouldAllowMigration&&T.length?(o=T[0],v&&(yield o._set(g,v.toJSON())),yield Promise.all(t.map(function(){var F=(0,c.A)(function*(W){if(W!==o)try{yield W._remove(g)}catch{}});return function(W){return F.apply(this,arguments)}}())),new w(o,e,r)):new w(o,e,r)})()}}function G(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Nt(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(V(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Wr(e))return"Blackberry";if(Br(e))return"Webos";if(ie(e))return"Safari";if((e.includes("chrome/")||Be(e))&&!e.includes("edge/"))return"Chrome";if(yt(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function V(n=(0,l.ZQ)()){return/firefox\//i.test(n)}function ie(n=(0,l.ZQ)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Be(n=(0,l.ZQ)()){return/crios\//i.test(n)}function Nt(n=(0,l.ZQ)()){return/iemobile/i.test(n)}function yt(n=(0,l.ZQ)()){return/android/i.test(n)}function Wr(n=(0,l.ZQ)()){return/blackberry/i.test(n)}function Br(n=(0,l.ZQ)()){return/webos/i.test(n)}function Et(n=(0,l.ZQ)()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Wi(n=(0,l.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function Hr(n=(0,l.ZQ)()){return Et(n)||yt(n)||Br(n)||Wr(n)||/windows phone/i.test(n)||Nt(n)}function Kr(n,e=[]){let t;switch(n){case"Browser":t=G((0,l.ZQ)());break;case"Worker":t=`${G((0,l.ZQ)())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${R.SDK_VERSION}/${r}`}class ji{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((g,v)=>{try{g(e(o))}catch(T){v(T)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,c.A)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function zt(){return(zt=(0,c.A)(function*(n,e={}){return te(n,"GET","/v2/passwordPolicy",Y(n,e))})).apply(this,arguments)}class Gi{constructor(e){var t,r,i,o;const g=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=g.minPasswordLength)&&void 0!==t?t:6,g.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=g.maxPasswordLength),void 0!==g.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=g.containsLowercaseCharacter),void 0!==g.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=g.containsUppercaseCharacter),void 0!==g.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=g.containsNumericCharacter),void 0!==g.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=g.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,g,v;const T={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,T),this.validatePasswordCharacterOptions(e,T),T.isValid&&(T.isValid=null===(t=T.meetsMinPasswordLength)||void 0===t||t),T.isValid&&(T.isValid=null===(r=T.meetsMaxPasswordLength)||void 0===r||r),T.isValid&&(T.isValid=null===(i=T.containsLowercaseLetter)||void 0===i||i),T.isValid&&(T.isValid=null===(o=T.containsUppercaseLetter)||void 0===o||o),T.isValid&&(T.isValid=null===(g=T.containsNumericCharacter)||void 0===g||g),T.isValid&&(T.isValid=null===(v=T.containsNonAlphanumericCharacter)||void 0===v||v),T}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class qi{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jr(this),this.idTokenSubscription=new jr(this),this.beforeStateQueue=new ji(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ue,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=h(t)),this._initializationPromise=this.queue((0,c.A)(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield w.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,c.A)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUserFromIdToken(e){var t=this;return(0,c.A)(function*(){try{const r=yield tt(t,{idToken:e}),i=yield m._fromGetAccountInfoResponse(t,r,e);yield t.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield t.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var t=this;return(0,c.A)(function*(){var r;if((0,R._isFirebaseServerApp)(t.app)){const v=t.app.settings.authIdToken;return v?new Promise(T=>{setTimeout(()=>t.initializeCurrentUserFromIdToken(v).then(T,T))}):t.directlySetCurrentUser(null)}const i=yield t.assertedPersistence.getCurrentUser();let o=i,g=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const v=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,T=o?._redirectEventId,F=yield t.tryRedirectSignIn(e);(!v||v===T)&&F?.user&&(o=F.user,g=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(g)try{yield t.beforeStateQueue.runMiddleware(o)}catch(v){o=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(v))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return _(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return(0,c.A)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,c.A)(function*(){try{yield ke(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function D(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,c.A)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,c.A)(function*(){if((0,R._isFirebaseServerApp)(t.app))return Promise.reject(O(t));const r=e?(0,l.Ku)(e):null;return r&&_(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,c.A)(function*(){if(!r._deleted)return e&&_(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,c.A)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,c.A)(function*(){return(0,R._isFirebaseServerApp)(e.app)?Promise.reject(O(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var t=this;return(0,R._isFirebaseServerApp)(this.app)?Promise.reject(O(this)):this.queue((0,c.A)(function*(){yield t.assertedPersistence.setPersistence(h(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return(0,c.A)(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,c.A)(function*(){const t=yield function $i(n){return zt.apply(this,arguments)}(e),r=new Gi(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new l.FA("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return(0,c.A)(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function d(n,e){return a.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,c.A)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,c.A)(function*(){if(!t.redirectPersistenceManager){const r=e&&h(e)||t._popupRedirectResolver;_(r,t,"argument-error"),t.redirectPersistenceManager=yield w.create(t,[h(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,c.A)(function*(){var r,i;return t._isInitialized&&(yield t.queue((0,c.A)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,c.A)(function*(){if(e===t.currentUser)return t.queue((0,c.A)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t);let g=!1;const v=this._isInitialized?Promise.resolve():this._initializationPromise;if(_(v,this,"internal-error"),v.then(()=>{g||o(this.currentUser)}),"function"==typeof t){const T=e.addObserver(t,r,i);return()=>{g=!0,T()}}{const T=e.addObserver(t);return()=>{g=!0,T()}}}directlySetCurrentUser(e){var t=this;return(0,c.A)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Kr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,c.A)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return(0,c.A)(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function ee(n,...e){L.logLevel<=C.$b.WARN&&L.warn(`Auth (${R.SDK_VERSION}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Ie(n){return(0,l.Ku)(n)}class jr{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,l.tD)(t=>this.observer=t)}get next(){return _(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let At={loadJS:()=>(0,c.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Gt(n){return At.loadJS(n)}function $r(n){return`__${n}${Math.floor(1e6*Math.random())}`}class zr{constructor(e){this.type="recaptcha-enterprise",this.auth=Ie(e)}verify(e="verify",t=!1){var r=this;return(0,c.A)(function*(){function o(){return o=(0,c.A)(function*(v){if(!t){if(null==v.tenantId&&null!=v._agentRecaptchaConfig)return v._agentRecaptchaConfig.siteKey;if(null!=v.tenantId&&void 0!==v._tenantRecaptchaConfigs[v.tenantId])return v._tenantRecaptchaConfigs[v.tenantId].siteKey}return new Promise(function(){var T=(0,c.A)(function*(F,W){Ae(v,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ne=>{if(void 0!==ne.recaptchaKey){const De=new at(ne);return null==v.tenantId?v._agentRecaptchaConfig=De:v._tenantRecaptchaConfigs[v.tenantId]=De,F(De.siteKey)}W(new Error("recaptcha Enterprise site key undefined"))}).catch(ne=>{W(ne)})});return function(F,W){return T.apply(this,arguments)}}())}),o.apply(this,arguments)}function g(v,T,F){const W=window.grecaptcha;Qe(W)?W.enterprise.ready(()=>{W.enterprise.execute(v,{action:e}).then(ne=>{T(ne)}).catch(()=>{T("NO_RECAPTCHA")})}):F(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((v,T)=>{(function i(v){return o.apply(this,arguments)})(r.auth).then(F=>{if(!t&&Qe(window.grecaptcha))g(F,v,T);else{if(typeof window>"u")return void T(new Error("RecaptchaVerifier is only supported in browser"));let W=function Zi(){return At.recaptchaEnterpriseScript}();0!==W.length&&(W+=F),Gt(W).then(()=>{g(F,v,T)}).catch(ne=>{T(ne)})}}).catch(F=>{T(F)})})})()}}function Gr(n,e,t){return qt.apply(this,arguments)}function qt(){return(qt=(0,c.A)(function*(n,e,t,r=!1){const i=new zr(n);let o;try{o=yield i.verify(t)}catch{o=yield i.verify(t,!0)}const g=Object.assign({},e);return Object.assign(g,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g})).apply(this,arguments)}function Tt(n,e,t,r){return Yt.apply(this,arguments)}function Yt(){return Yt=(0,c.A)(function*(n,e,t,r){var i;if(null!==(i=n._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=yield Gr(n,e,t,"getOobCode"===t);return r(n,o)}return r(n,e).catch(function(){var o=(0,c.A)(function*(g){if("auth/missing-recaptcha-token"===g.code){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const v=yield Gr(n,e,t,"getOobCode"===t);return r(n,v)}return Promise.reject(g)});return function(g){return o.apply(this,arguments)}}())}),Yt.apply(this,arguments)}function qr(n,e,t){const r=Ie(n);_(r._canInitEmulator,r,"emulator-config-failed"),_(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,o=Yr(e),{host:g,port:v}=function is(n){const e=Yr(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Jr(r.substr(o.length+1))}}{const[o,g]=r.split(":");return{host:o,port:Jr(g)}}}(e);r.config.emulator={url:`${o}//${g}${null===v?"":`:${v}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:g,port:v,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function ss(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}function Yr(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Jr(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class mt{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return x("not implemented")}_getIdTokenResponse(e){return x("not implemented")}_linkToIdToken(e,t){return x("not implemented")}_getReauthenticationResolver(e){return x("not implemented")}}function Zr(n,e){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,c.A)(function*(n,e){return te(n,"POST","/v1/accounts:resetPassword",Y(n,e))})).apply(this,arguments)}function Qt(){return(Qt=(0,c.A)(function*(n,e){return te(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function as(n,e){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,c.A)(function*(n,e){return te(n,"POST","/v1/accounts:signUp",e)})).apply(this,arguments)}function en(){return(en=(0,c.A)(function*(n,e){return te(n,"POST","/v1/accounts:update",Y(n,e))})).apply(this,arguments)}function cs(n,e){return tn.apply(this,arguments)}function tn(){return(tn=(0,c.A)(function*(n,e){return Te(n,"POST","/v1/accounts:signInWithPassword",Y(n,e))})).apply(this,arguments)}function kt(n,e){return nn.apply(this,arguments)}function nn(){return(nn=(0,c.A)(function*(n,e){return te(n,"POST","/v1/accounts:sendOobCode",Y(n,e))})).apply(this,arguments)}function rn(){return(rn=(0,c.A)(function*(n,e){return kt(n,e)})).apply(this,arguments)}function ds(n,e){return sn.apply(this,arguments)}function sn(){return(sn=(0,c.A)(function*(n,e){return kt(n,e)})).apply(this,arguments)}function hs(n,e){return on.apply(this,arguments)}function on(){return(on=(0,c.A)(function*(n,e){return kt(n,e)})).apply(this,arguments)}function an(){return(an=(0,c.A)(function*(n,e){return kt(n,e)})).apply(this,arguments)}function un(){return(un=(0,c.A)(function*(n,e){return Te(n,"POST","/v1/accounts:signInWithEmailLink",Y(n,e))})).apply(this,arguments)}function cn(){return(cn=(0,c.A)(function*(n,e){return Te(n,"POST","/v1/accounts:signInWithEmailLink",Y(n,e))})).apply(this,arguments)}class bt extends mt{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new bt(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new bt(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,c.A)(function*(){switch(t.signInMethod){case"password":return Tt(e,{returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",cs);case"emailLink":return function ps(n,e){return un.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:H(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return(0,c.A)(function*(){switch(r.signInMethod){case"password":return Tt(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",as);case"emailLink":return function gs(n,e){return cn.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:H(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function st(n,e){return ln.apply(this,arguments)}function ln(){return(ln=(0,c.A)(function*(n,e){return Te(n,"POST","/v1/accounts:signInWithIdp",Y(n,e))})).apply(this,arguments)}class Je extends mt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Je(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):H("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=(0,B.__rest)(t,["providerId","signInMethod"]);if(!r||!i)return null;const g=new Je(r,i);return g.idToken=o.idToken||void 0,g.accessToken=o.accessToken||void 0,g.secret=o.secret,g.nonce=o.nonce,g.pendingToken=o.pendingToken||null,g}_getIdTokenResponse(e){return st(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,st(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,st(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,l.Am)(t)}return e}}function dn(){return(dn=(0,c.A)(function*(n,e){return te(n,"POST","/v1/accounts:sendVerificationCode",Y(n,e))})).apply(this,arguments)}function hn(){return(hn=(0,c.A)(function*(n,e){return Te(n,"POST","/v1/accounts:signInWithPhoneNumber",Y(n,e))})).apply(this,arguments)}function fn(){return(fn=(0,c.A)(function*(n,e){const t=yield Te(n,"POST","/v1/accounts:signInWithPhoneNumber",Y(n,e));if(t.temporaryProof)throw ye(n,"account-exists-with-different-credential",t);return t})).apply(this,arguments)}const ys={USER_NOT_FOUND:"user-not-found"};function pn(){return(pn=(0,c.A)(function*(n,e){return Te(n,"POST","/v1/accounts:signInWithPhoneNumber",Y(n,Object.assign(Object.assign({},e),{operation:"REAUTH"})),ys)})).apply(this,arguments)}class ft extends mt{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ft({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ft({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function vs(n,e){return hn.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function Is(n,e){return fn.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function Es(n,e){return pn.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return r||t||i||o?new ft({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o}):null}}class St{constructor(e){var t,r,i,o,g,v;const T=(0,l.I9)((0,l.hp)(e)),F=null!==(t=T.apiKey)&&void 0!==t?t:null,W=null!==(r=T.oobCode)&&void 0!==r?r:null,ne=function As(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=T.mode)&&void 0!==i?i:null);_(F&&W&&ne,"argument-error"),this.apiKey=F,this.operation=ne,this.code=W,this.continueUrl=null!==(o=T.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(g=T.languageCode)&&void 0!==g?g:null,this.tenantId=null!==(v=T.tenantId)&&void 0!==v?v:null}static parseLink(e){const t=function Ts(n){const e=(0,l.I9)((0,l.hp)(n)).link,t=e?(0,l.I9)((0,l.hp)(e)).deep_link_id:null,r=(0,l.I9)((0,l.hp)(n)).deep_link_id;return(r?(0,l.I9)((0,l.hp)(r)).link:null)||r||t||e||n}(e);try{return new St(t)}catch{return null}}}let gn=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return bt._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=St.parseLink(r);return _(i,"argument-error"),bt._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class ot{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _t extends ot{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Rt extends _t{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return _("providerId"in t&&"signInMethod"in t,"argument-error"),Je._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return _(e.idToken||e.accessToken,"argument-error"),Je._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Rt.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Rt.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:g,providerId:v}=e;if(!r&&!i&&!t&&!o||!v)return null;try{return new Rt(v)._credential({idToken:t,accessToken:r,nonce:g,pendingToken:o})}catch{return null}}}let bs=(()=>{class n extends _t{constructor(){super("facebook.com")}static credential(t){return Je._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.FACEBOOK_SIGN_IN_METHOD="facebook.com",n.PROVIDER_ID="facebook.com",n})(),Ss=(()=>{class n extends _t{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Je._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})(),Rs=(()=>{class n extends _t{constructor(){super("github.com")}static credential(t){return Je._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.GITHUB_SIGN_IN_METHOD="github.com",n.PROVIDER_ID="github.com",n})();class vt extends mt{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return st(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,st(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,st(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=t;return r&&i&&o&&r===i?new vt(r,o):null}static _create(e,t){return new vt(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Dt extends ot{constructor(e){_(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Dt.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Dt.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=vt.fromJSON(e);return _(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return vt._create(r,t)}catch{return null}}}let ws=(()=>{class n extends _t{constructor(){super("twitter.com")}static credential(t,r){return Je._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:i}=t;if(!r||!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.TWITTER_SIGN_IN_METHOD="twitter.com",n.PROVIDER_ID="twitter.com",n})();function Qr(n,e){return mn.apply(this,arguments)}function mn(){return(mn=(0,c.A)(function*(n,e){return Te(n,"POST","/v1/accounts:signUp",Y(n,e))})).apply(this,arguments)}class Ve{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return(0,c.A)(function*(){const o=yield m._fromIdTokenResponse(e,r,i),g=Xr(r);return new Ve({user:o,providerId:g,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return(0,c.A)(function*(){yield e._updateTokensIfNecessary(r,!0);const i=Xr(r);return new Ve({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function Xr(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function Cs(n){return _n.apply(this,arguments)}function _n(){return(_n=(0,c.A)(function*(n){var e;if((0,R._isFirebaseServerApp)(n.app))return Promise.reject(O(n));const t=Ie(n);if(yield t._initializationPromise,null!==(e=t.currentUser)&&void 0!==e&&e.isAnonymous)return new Ve({user:t.currentUser,providerId:null,operationType:"signIn"});const r=yield Qr(t,{returnSecureToken:!0}),i=yield Ve._fromIdTokenResponse(t,"signIn",r,!0);return yield t._updateCurrentUser(i.user),i})).apply(this,arguments)}class Lt extends l.g{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Lt.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Lt(e,t,r,i)}}function ei(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?Lt._fromErrorAndOperation(n,o,e,r):o})}function ti(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}function Ns(n,e){return vn.apply(this,arguments)}function vn(){return vn=(0,c.A)(function*(n,e){const t=(0,l.Ku)(n);yield xt(!0,t,e);const{providerUserInfo:r}=yield function et(n,e){return je.apply(this,arguments)}(t.auth,{idToken:yield t.getIdToken(),deleteProvider:[e]}),i=ti(r||[]);return t.providerData=t.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(t.phoneNumber=null),yield t.auth._persistUserIfCurrent(t),t}),vn.apply(this,arguments)}function In(n,e){return yn.apply(this,arguments)}function yn(){return(yn=(0,c.A)(function*(n,e,t=!1){const r=yield fe(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Ve._forOperation(n,"link",r)})).apply(this,arguments)}function xt(n,e,t){return En.apply(this,arguments)}function En(){return(En=(0,c.A)(function*(n,e,t){yield ke(e);const i=!1===n?"provider-already-linked":"no-such-provider";_(ti(e.providerData).has(t)===n,e.auth,i)})).apply(this,arguments)}function ni(n,e){return An.apply(this,arguments)}function An(){return(An=(0,c.A)(function*(n,e,t=!1){const{auth:r}=n;if((0,R._isFirebaseServerApp)(r.app))return Promise.reject(O(r));const i="reauthenticate";try{const o=yield fe(n,ei(r,i,e,n),t);_(o.idToken,r,"internal-error");const g=nt(o.idToken);_(g,r,"internal-error");const{sub:v}=g;return _(n.uid===v,r,"user-mismatch"),Ve._forOperation(n,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&H(r,"user-mismatch"),o}})).apply(this,arguments)}function ri(n,e){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,c.A)(function*(n,e,t=!1){if((0,R._isFirebaseServerApp)(n.app))return Promise.reject(O(n));const r="signIn",i=yield ei(n,r,e),o=yield Ve._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})).apply(this,arguments)}function Mt(n,e){return bn.apply(this,arguments)}function bn(){return(bn=(0,c.A)(function*(n,e){return ri(Ie(n),e)})).apply(this,arguments)}function ii(n,e){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,c.A)(function*(n,e){const t=(0,l.Ku)(n);return yield xt(!1,t,e.providerId),In(t,e)})).apply(this,arguments)}function si(n,e){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,c.A)(function*(n,e){return ni((0,l.Ku)(n),e)})).apply(this,arguments)}function Pn(){return(Pn=(0,c.A)(function*(n,e){return Te(n,"POST","/v1/accounts:signInWithCustomToken",Y(n,e))})).apply(this,arguments)}function Ds(n,e){return On.apply(this,arguments)}function On(){return On=(0,c.A)(function*(n,e){if((0,R._isFirebaseServerApp)(n.app))return Promise.reject(O(n));const t=Ie(n),r=yield function ks(n,e){return Pn.apply(this,arguments)}(t,{token:e,returnSecureToken:!0}),i=yield Ve._fromIdTokenResponse(t,"signIn",r);return yield t._updateCurrentUser(i.user),i}),On.apply(this,arguments)}class Pt{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?wn._fromServerResponse(e,t):"totpInfo"in t?Cn._fromServerResponse(e,t):H(e,"internal-error")}}class wn extends Pt{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new wn(t)}}class Cn extends Pt{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Cn(t)}}function Ut(n,e,t){var r;_((null===(r=t.url)||void 0===r?void 0:r.length)>0,n,"invalid-continue-uri"),_(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(_(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(_(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function Nn(n){return kn.apply(this,arguments)}function kn(){return(kn=(0,c.A)(function*(n){const e=Ie(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function Ls(n,e,t){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,c.A)(function*(n,e,t){const r=Ie(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Ut(r,i,t),yield Tt(r,i,"getOobCode",ds)})).apply(this,arguments)}function xs(n,e,t){return Ln.apply(this,arguments)}function Ln(){return Ln=(0,c.A)(function*(n,e,t){yield Zr((0,l.Ku)(n),{oobCode:e,newPassword:t}).catch(function(){var r=(0,c.A)(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&Nn(n),i});return function(i){return r.apply(this,arguments)}}())}),Ln.apply(this,arguments)}function Ms(n,e){return xn.apply(this,arguments)}function xn(){return xn=(0,c.A)(function*(n,e){yield function us(n,e){return en.apply(this,arguments)}((0,l.Ku)(n),{oobCode:e})}),xn.apply(this,arguments)}function oi(n,e){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,c.A)(function*(n,e){const t=(0,l.Ku)(n),r=yield Zr(t,{oobCode:e}),i=r.requestType;switch(_(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":_(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":_(r.mfaInfo,t,"internal-error");default:_(r.email,t,"internal-error")}let o=null;return r.mfaInfo&&(o=Pt._fromServerResponse(Ie(t),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}})).apply(this,arguments)}function Us(n,e){return Un.apply(this,arguments)}function Un(){return(Un=(0,c.A)(function*(n,e){const{data:t}=yield oi((0,l.Ku)(n),e);return t.email})).apply(this,arguments)}function Fs(n,e,t){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,c.A)(function*(n,e,t){if((0,R._isFirebaseServerApp)(n.app))return Promise.reject(O(n));const r=Ie(n),g=yield Tt(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qr).catch(T=>{throw"auth/password-does-not-meet-requirements"===T.code&&Nn(n),T}),v=yield Ve._fromIdTokenResponse(r,"signIn",g);return yield r._updateCurrentUser(v.user),v})).apply(this,arguments)}function Vs(n,e,t){return(0,R._isFirebaseServerApp)(n.app)?Promise.reject(O(n)):Mt((0,l.Ku)(n),gn.credential(e,t)).catch(function(){var r=(0,c.A)(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&Nn(n),i});return function(i){return r.apply(this,arguments)}}())}function Ws(n,e,t){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,c.A)(function*(n,e,t){const r=Ie(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};(function o(g,v){_(v.handleCodeInApp,r,"argument-error"),v&&Ut(r,g,v)})(i,t),yield Tt(r,i,"getOobCode",hs)})).apply(this,arguments)}function Bs(n,e){const t=St.parseLink(e);return"EMAIL_SIGNIN"===t?.operation}function Hs(n,e,t){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,c.A)(function*(n,e,t){if((0,R._isFirebaseServerApp)(n.app))return Promise.reject(O(n));const r=(0,l.Ku)(n),i=gn.credentialWithLink(e,t||j());return _(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Mt(r,i)})).apply(this,arguments)}function Bn(){return(Bn=(0,c.A)(function*(n,e){return te(n,"POST","/v1/accounts:createAuthUri",Y(n,e))})).apply(this,arguments)}function js(n,e){return Hn.apply(this,arguments)}function Hn(){return Hn=(0,c.A)(function*(n,e){const r={identifier:e,continueUri:ce()?j():"http://localhost"},{signinMethods:i}=yield function Ks(n,e){return Bn.apply(this,arguments)}((0,l.Ku)(n),r);return i||[]}),Hn.apply(this,arguments)}function $s(n,e){return Kn.apply(this,arguments)}function Kn(){return Kn=(0,c.A)(function*(n,e){const t=(0,l.Ku)(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&Ut(t.auth,i,e);const{email:o}=yield function ls(n,e){return rn.apply(this,arguments)}(t.auth,i);o!==n.email&&(yield n.reload())}),Kn.apply(this,arguments)}function zs(n,e,t){return jn.apply(this,arguments)}function jn(){return jn=(0,c.A)(function*(n,e,t){const r=(0,l.Ku)(n),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield n.getIdToken(),newEmail:e};t&&Ut(r.auth,o,t);const{email:g}=yield function fs(n,e){return an.apply(this,arguments)}(r.auth,o);g!==n.email&&(yield n.reload())}),jn.apply(this,arguments)}function $n(){return($n=(0,c.A)(function*(n,e){return te(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function qs(n,e){return zn.apply(this,arguments)}function zn(){return zn=(0,c.A)(function*(n,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const r=(0,l.Ku)(n),o={idToken:yield r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},g=yield fe(r,function Gs(n,e){return $n.apply(this,arguments)}(r.auth,o));r.displayName=g.displayName||null,r.photoURL=g.photoUrl||null;const v=r.providerData.find(({providerId:T})=>"password"===T);v&&(v.displayName=r.displayName,v.photoURL=r.photoURL),yield r._updateTokensIfNecessary(g)}),zn.apply(this,arguments)}function Ys(n,e){const t=(0,l.Ku)(n);return(0,R._isFirebaseServerApp)(t.auth.app)?Promise.reject(O(t.auth)):ai(t,e,null)}function Js(n,e){return ai((0,l.Ku)(n),null,e)}function ai(n,e,t){return Gn.apply(this,arguments)}function Gn(){return Gn=(0,c.A)(function*(n,e,t){const{auth:r}=n,o={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);const g=yield fe(n,function os(n,e){return Qt.apply(this,arguments)}(r,o));yield n._updateTokensIfNecessary(g,!0)}),Gn.apply(this,arguments)}class It{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class ui extends It{constructor(e,t,r,i){super(e,t,r),this.username=i}}class Qs extends It{constructor(e,t){super(e,"facebook.com",t)}}class Xs extends ui{constructor(e,t){super(e,"github.com",t,"string"==typeof t?.login?t?.login:null)}}class eo extends It{constructor(e,t){super(e,"google.com",t)}}class to extends ui{constructor(e,t,r){super(e,"twitter.com",t,r)}}function no(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:function Zs(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},o=n.isNewUser||"identitytoolkit#SignupNewUserResponse"===n.kind;if(!r&&n?.idToken){const g=null===(t=null===(e=nt(n.idToken))||void 0===e?void 0:e.firebase)||void 0===t?void 0:t.sign_in_provider;if(g)return new It(o,"anonymous"!==g&&"custom"!==g?g:null)}if(!r)return null;switch(r){case"facebook.com":return new Qs(o,i);case"github.com":return new Xs(o,i);case"google.com":return new eo(o,i);case"twitter.com":return new to(o,i,n.screenName||null);case"custom":case"anonymous":return new It(o,null);default:return new It(o,r,i)}}(t)}class pt{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new pt("enroll",e,t)}static _fromMfaPendingCredential(e){return new pt("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e?.multiFactorSession){if(null!==(t=e.multiFactorSession)&&void 0!==t&&t.pendingCredential)return pt._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null!==(r=e.multiFactorSession)&&void 0!==r&&r.idToken)return pt._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Jn{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Ie(e),i=t.customData._serverResponse,o=(i.mfaInfo||[]).map(v=>Pt._fromServerResponse(r,v));_(i.mfaPendingCredential,r,"internal-error");const g=pt._fromMfaPendingCredential(i.mfaPendingCredential);return new Jn(g,o,function(){var v=(0,c.A)(function*(T){const F=yield T._process(r,g);delete i.mfaInfo,delete i.mfaPendingCredential;const W=Object.assign(Object.assign({},i),{idToken:F.idToken,refreshToken:F.refreshToken});switch(t.operationType){case"signIn":const ne=yield Ve._fromIdTokenResponse(r,t.operationType,W);return yield r._updateCurrentUser(ne.user),ne;case"reauthenticate":return _(t.user,r,"internal-error"),Ve._forOperation(t.user,t.operationType,W);default:H(r,"internal-error")}});return function(T){return v.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,c.A)(function*(){return t.signInResolver(e)})()}}function so(n,e){var t;const r=(0,l.Ku)(n),i=e;return _(e.customData.operationType,r,"argument-error"),_(null===(t=i.customData._serverResponse)||void 0===t?void 0:t.mfaPendingCredential,r,"argument-error"),Jn._fromError(r,i)}class Zn{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Pt._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new Zn(e)}getSession(){var e=this;return(0,c.A)(function*(){return pt._fromIdtoken(yield e.user.getIdToken(),e.user)})()}enroll(e,t){var r=this;return(0,c.A)(function*(){const i=e,o=yield r.getSession(),g=yield fe(r.user,i._process(r.user.auth,o,t));return yield r.user._updateTokensIfNecessary(g),r.user.reload()})()}unenroll(e){var t=this;return(0,c.A)(function*(){const r="string"==typeof e?e:e.uid,i=yield t.user.getIdToken();try{const o=yield fe(t.user,function co(n,e){return te(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Y(n,e))}(t.user.auth,{idToken:i,mfaEnrollmentId:r}));t.enrolledFactors=t.enrolledFactors.filter(({uid:g})=>g!==r),yield t.user._updateTokensIfNecessary(o),yield t.user.reload()}catch(o){throw o}})()}}const Qn=new WeakMap;function lo(n){const e=(0,l.Ku)(n);return Qn.has(e)||Qn.set(e,Zn._fromUser(e)),Qn.get(e)}const Ft="__sak";class ci{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ft,"1"),this.storage.removeItem(Ft),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const li=(()=>{class n extends ci{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ho(){const n=(0,l.ZQ)();return ie(n)||Et(n)}()&&function Ki(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Hr(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((v,T,F)=>{this.notifyListeners(v,F)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const v=this.storage.getItem(i);if(t.newValue!==v)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const o=()=>{const v=this.storage.getItem(i);!r&&this.localCache[i]===v||this.notifyListeners(i,v)},g=this.storage.getItem(i);!function Hi(){return(0,l.lT)()&&10===document.documentMode}()||g===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,o=this;return(0,c.A)(function*(){yield i().call(o,t,r),o.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return(0,c.A)(function*(){const o=yield r().call(i,t);return i.localCache[t]=JSON.stringify(o),o})()}_remove(t){var r=()=>super._remove,i=this;return(0,c.A)(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),Xn=(()=>{class n extends ci{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let mo=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,c.A)(function*(){const i=t,{eventId:o,eventType:g,data:v}=i.data,T=r.handlersMap[g];if(!T?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:g});const F=Array.from(T).map(function(){var ne=(0,c.A)(function*(De){return De(i.origin,v)});return function(De){return ne.apply(this,arguments)}}()),W=yield function go(n){return Promise.all(n.map(function(){var e=(0,c.A)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(F);i.ports[0].postMessage({status:"done",eventId:o,eventType:g,response:W})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Ot(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class _o{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return(0,c.A)(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let g,v;return new Promise((T,F)=>{const W=Ot("",20);o.port1.start();const ne=setTimeout(()=>{F(new Error("unsupported_event"))},r);v={messageChannel:o,onMessage(De){const dt=De;if(dt.data.eventId===W)switch(dt.data.status){case"ack":clearTimeout(ne),g=setTimeout(()=>{F(new Error("timeout"))},3e3);break;case"done":clearTimeout(g),T(dt.data.response);break;default:clearTimeout(ne),clearTimeout(g),F(new Error("invalid_response"))}}},i.handlers.add(v),o.port1.addEventListener("message",v.onMessage),i.target.postMessage({eventType:e,eventId:W,data:t},[o.port2])}).finally(()=>{v&&i.removeMessageHandler(v)})})()}}function be(){return window}function er(){return typeof be().WorkerGlobalScope<"u"&&"function"==typeof be().importScripts}function tr(){return(tr=(0,c.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const di="firebaseLocalStorageDb",Vt="firebaseLocalStorage",hi="fbase_key";class wt{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Wt(n,e){return n.transaction([Vt],e?"readwrite":"readonly").objectStore(Vt)}function nr(){const n=indexedDB.open(di,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Vt,{keyPath:hi})}catch(i){t(i)}}),n.addEventListener("success",(0,c.A)(function*(){const r=n.result;r.objectStoreNames.contains(Vt)?e(r):(r.close(),yield function To(){const n=indexedDB.deleteDatabase(di);return new wt(n).toPromise()}(),e(yield nr()))}))})}function fi(n,e,t){return rr.apply(this,arguments)}function rr(){return(rr=(0,c.A)(function*(n,e,t){const r=Wt(n,!0).put({[hi]:e,value:t});return new wt(r).toPromise()})).apply(this,arguments)}function ir(){return(ir=(0,c.A)(function*(n,e){const t=Wt(n,!1).get(e),r=yield new wt(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function pi(n,e){const t=Wt(n,!0).delete(e);return new wt(t).toPromise()}const gi=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,c.A)(function*(){return t.db||(t.db=yield nr()),t.db})()}_withRetries(t){var r=this;return(0,c.A)(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield t(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,c.A)(function*(){return er()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,c.A)(function*(){t.receiver=mo._getInstance(function Eo(){return er()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=(0,c.A)(function*(i,o){return{keyProcessed:(yield t._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=(0,c.A)(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,c.A)(function*(){var r,i;if(t.activeServiceWorker=yield function Io(){return tr.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new _o(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,c.A)(function*(){if(r.sender&&r.activeServiceWorker&&function yo(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.A)(function*(){try{if(!indexedDB)return!1;const t=yield nr();return yield fi(t,Ft,"1"),yield pi(t,Ft),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return(0,c.A)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return(0,c.A)(function*(){return i._withPendingWrite((0,c.A)(function*(){return yield i._withRetries(o=>fi(o,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,c.A)(function*(){const i=yield r._withRetries(o=>function bo(n,e){return ir.apply(this,arguments)}(o,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return(0,c.A)(function*(){return r._withPendingWrite((0,c.A)(function*(){return yield r._withRetries(i=>pi(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,c.A)(function*(){const r=yield t._withRetries(g=>{const v=Wt(g,!1).getAll();return new wt(v).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],o=new Set;if(0!==r.length)for(const{fbase_key:g,value:v}of r)o.add(g),JSON.stringify(t.localCache[g])!==JSON.stringify(v)&&(t.notifyListeners(g,v),i.push(g));for(const g of Object.keys(t.localCache))t.localCache[g]&&!o.has(g)&&(t.notifyListeners(g,null),i.push(g));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,c.A)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})(),Bt=1e12;class ko{constructor(e){this.auth=e,this.counter=Bt,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new Do(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||Bt;null===(t=this._widgets.get(r))||void 0===t||t.delete(),this._widgets.delete(r)}getResponse(e){var t;return(null===(t=this._widgets.get(e||Bt))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,c.A)(function*(){var r;return null===(r=t._widgets.get(e||Bt))||void 0===r||r.execute(),""})()}}class Do{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i="string"==typeof e?document.getElementById(e):e;_(i,"argument-error",{appName:t}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Lo(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(62*Math.random())));return e.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const sr=$r("rcb"),xo=new k(3e4,6e4);class Mo{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(e=be().grecaptcha)||void 0===e||!e.render)}load(e,t=""){return _(function Uo(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Ee(be().grecaptcha)?Promise.resolve(be().grecaptcha):new Promise((r,i)=>{const o=be().setTimeout(()=>{i(Z(e,"network-request-failed"))},xo.get());be()[sr]=()=>{be().clearTimeout(o),delete be()[sr];const v=be().grecaptcha;if(!v||!Ee(v))return void i(Z(e,"internal-error"));const T=v.render;v.render=(F,W)=>{const ne=T(F,W);return this.counter++,ne},this.hostLanguage=t,r(v)},Gt(`${function Ji(){return At.recaptchaV2Script}()}?${(0,l.Am)({onload:sr,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(o),i(Z(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!(null===(t=be().grecaptcha)||void 0===t||!t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Fo{load(e){return(0,c.A)(function*(){return new ko(e)})()}clearedOneInstance(){}}const mi="recaptcha",Vo={theme:"light",type:"image"};class Wo{constructor(e,t,r=Object.assign({},Vo)){this.parameters=r,this.type=mi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ie(e),this.isInvisible="invisible"===this.parameters.size,_(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i="string"==typeof t?document.getElementById(t):t;_(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Fo:new Mo,this.validateStartingState()}verify(){var e=this;return(0,c.A)(function*(){e.assertNotDestroyed();const t=yield e.render(),r=e.getAssertedRecaptcha();return r.getResponse(t)||new Promise(o=>{const g=v=>{v&&(e.tokenChangeListeners.delete(g),o(v))};e.tokenChangeListeners.add(g),e.isInvisible&&r.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){_(!this.parameters.sitekey,this.auth,"argument-error"),_(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),_(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),"function"==typeof e)e(t);else if("string"==typeof e){const r=be()[e];"function"==typeof r&&r(t)}}}assertNotDestroyed(){_(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,c.A)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const r=document.createElement("div");t.appendChild(r),t=r}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,c.A)(function*(){_(ce()&&!er(),e.auth,"internal-error"),yield function Bo(){let n=null;return new Promise(e=>{"complete"!==document.readyState?(n=()=>e(),window.addEventListener("load",n)):e()}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function Xe(n){return He.apply(this,arguments)}(e.auth);_(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return _(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class or{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=ft._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function Ho(n,e,t){return ar.apply(this,arguments)}function ar(){return(ar=(0,c.A)(function*(n,e,t){if((0,R._isFirebaseServerApp)(n.app))return Promise.reject(O(n));const r=Ie(n),i=yield Ht(r,e,(0,l.Ku)(t));return new or(i,o=>Mt(r,o))})).apply(this,arguments)}function Ko(n,e,t){return ur.apply(this,arguments)}function ur(){return(ur=(0,c.A)(function*(n,e,t){const r=(0,l.Ku)(n);yield xt(!1,r,"phone");const i=yield Ht(r.auth,e,(0,l.Ku)(t));return new or(i,o=>ii(r,o))})).apply(this,arguments)}function jo(n,e,t){return cr.apply(this,arguments)}function cr(){return(cr=(0,c.A)(function*(n,e,t){const r=(0,l.Ku)(n);if((0,R._isFirebaseServerApp)(r.auth.app))return Promise.reject(O(r.auth));const i=yield Ht(r.auth,e,(0,l.Ku)(t));return new or(i,o=>si(r,o))})).apply(this,arguments)}function Ht(n,e,t){return lr.apply(this,arguments)}function lr(){return lr=(0,c.A)(function*(n,e,t){var r;const i=yield t.verify();try{let o;if(_("string"==typeof i,n,"argument-error"),_(t.type===mi,n,"argument-error"),o="string"==typeof e?{phoneNumber:e}:e,"session"in o){const g=o.session;if("phoneNumber"in o)return _("enroll"===g.type,n,"internal-error"),(yield function oo(n,e){return te(n,"POST","/v2/accounts/mfaEnrollment:start",Y(n,e))}(n,{idToken:g.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{_("signin"===g.type,n,"internal-error");const v=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;return _(v,n,"missing-multi-factor-info"),(yield function Po(n,e){return te(n,"POST","/v2/accounts/mfaSignIn:start",Y(n,e))}(n,{mfaPendingCredential:g.credential,mfaEnrollmentId:v,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:g}=yield function _s(n,e){return dn.apply(this,arguments)}(n,{phoneNumber:o.phoneNumber,recaptchaToken:i});return g}}finally{t._reset()}}),lr.apply(this,arguments)}function $o(n,e){return dr.apply(this,arguments)}function dr(){return(dr=(0,c.A)(function*(n,e){const t=(0,l.Ku)(n);if((0,R._isFirebaseServerApp)(t.auth.app))return Promise.reject(O(t.auth));yield In(t,e)})).apply(this,arguments)}let zo=(()=>{class n{constructor(t){this.providerId=n.PROVIDER_ID,this.auth=Ie(t)}verifyPhoneNumber(t,r){return Ht(this.auth,t,(0,l.Ku)(r))}static credential(t,r){return ft._fromVerification(t,r)}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:r,temporaryProof:i}=t;return r&&i?ft._fromTokenResponse(r,i):null}}return n.PROVIDER_ID="phone",n.PHONE_SIGN_IN_METHOD="phone",n})();function gt(n,e){return e?h(e):(_(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class hr extends mt{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return st(e,this._buildIdpRequest())}_linkToIdToken(e,t){return st(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return st(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Go(n){return ri(n.auth,new hr(n),n.bypassAuthState)}function qo(n){const{auth:e,user:t}=n;return _(t,e,"internal-error"),ni(t,new hr(n),n.bypassAuthState)}function Yo(n){return fr.apply(this,arguments)}function fr(){return(fr=(0,c.A)(function*(n){const{auth:e,user:t}=n;return _(t,e,"internal-error"),In(t,new hr(n),n.bypassAuthState)})).apply(this,arguments)}class _i{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,c.A)(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,c.A)(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:g,error:v,type:T}=e;if(v)return void t.reject(v);const F={auth:t.auth,requestUri:r,sessionId:i,tenantId:g||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(T)(F))}catch(W){t.reject(W)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Go;case"linkViaPopup":case"linkViaRedirect":return Yo;case"reauthViaPopup":case"reauthViaRedirect":return qo;default:H(this.auth,"internal-error")}}resolve(e){q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Jo=new k(2e3,1e4);function Zo(n,e,t){return pr.apply(this,arguments)}function pr(){return(pr=(0,c.A)(function*(n,e,t){if((0,R._isFirebaseServerApp)(n.app))return Promise.reject(Z(n,"operation-not-supported-in-this-environment"));const r=Ie(n);A(n,e,ot);const i=gt(r,t);return new _r(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}function Qo(n,e,t){return gr.apply(this,arguments)}function gr(){return(gr=(0,c.A)(function*(n,e,t){const r=(0,l.Ku)(n);if((0,R._isFirebaseServerApp)(r.auth.app))return Promise.reject(Z(r.auth,"operation-not-supported-in-this-environment"));A(r.auth,e,ot);const i=gt(r.auth,t);return new _r(r.auth,"reauthViaPopup",e,i,r).executeNotNull()})).apply(this,arguments)}function Xo(n,e,t){return mr.apply(this,arguments)}function mr(){return(mr=(0,c.A)(function*(n,e,t){const r=(0,l.Ku)(n);A(r.auth,e,ot);const i=gt(r.auth,t);return new _r(r.auth,"linkViaPopup",e,i,r).executeNotNull()})).apply(this,arguments)}let _r=(()=>{class n extends _i{constructor(t,r,i,o,g){super(t,r,o,g),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return(0,c.A)(function*(){const r=yield t.execute();return _(r,t.auth,"internal-error"),r})()}onExecution(){var t=this;return(0,c.A)(function*(){q(1===t.filter.length,"Popup operations only handle one event");const r=Ot();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],r),t.authWindow.associatedEvent=r,t.resolver._originValidation(t.auth).catch(i=>{t.reject(i)}),t.resolver._isIframeWebStorageSupported(t.auth,i=>{i||t.reject(Z(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(Z(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Z(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(t,Jo.get())};t()}}return n.currentPopupAction=null,n})();const ea="pendingRedirect",Ct=new Map;class ta extends _i{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,c.A)(function*(){let r=Ct.get(t.auth._key());if(!r){try{const o=(yield function na(n,e){return vr.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}Ct.set(t.auth._key(),r)}return t.bypassAuthState||Ct.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,c.A)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,c.A)(function*(){})()}cleanUp(){}}function vr(){return(vr=(0,c.A)(function*(n,e){const t=yi(e),r=Ii(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function Ir(n,e){return yr.apply(this,arguments)}function yr(){return(yr=(0,c.A)(function*(n,e){return Ii(n)._set(yi(e),"true")})).apply(this,arguments)}function ra(){Ct.clear()}function vi(n,e){Ct.set(n._key(),e)}function Ii(n){return h(n._redirectPersistence)}function yi(n){return U(ea,n.config.apiKey,n.name)}function ia(n,e,t){return function sa(n,e,t){return Er.apply(this,arguments)}(n,e,t)}function Er(){return(Er=(0,c.A)(function*(n,e,t){if((0,R._isFirebaseServerApp)(n.app))return Promise.reject(O(n));const r=Ie(n);A(n,e,ot),yield r._initializationPromise;const i=gt(r,t);return yield Ir(i,r),i._openRedirect(r,e,"signInViaRedirect")})).apply(this,arguments)}function oa(n,e,t){return function aa(n,e,t){return Ar.apply(this,arguments)}(n,e,t)}function Ar(){return(Ar=(0,c.A)(function*(n,e,t){const r=(0,l.Ku)(n);if(A(r.auth,e,ot),(0,R._isFirebaseServerApp)(r.auth.app))return Promise.reject(O(r.auth));yield r.auth._initializationPromise;const i=gt(r.auth,t);yield Ir(i,r.auth);const o=yield Ei(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)})).apply(this,arguments)}function ua(n,e,t){return function ca(n,e,t){return Tr.apply(this,arguments)}(n,e,t)}function Tr(){return(Tr=(0,c.A)(function*(n,e,t){const r=(0,l.Ku)(n);A(r.auth,e,ot),yield r.auth._initializationPromise;const i=gt(r.auth,t);yield xt(!1,r,e.providerId),yield Ir(i,r.auth);const o=yield Ei(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)})).apply(this,arguments)}function la(n,e){return br.apply(this,arguments)}function br(){return(br=(0,c.A)(function*(n,e){return yield Ie(n)._initializationPromise,Sr(n,e,!1)})).apply(this,arguments)}function Sr(n,e){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,c.A)(function*(n,e,t=!1){if((0,R._isFirebaseServerApp)(n.app))return Promise.reject(O(n));const r=Ie(n),i=gt(r,e),g=yield new ta(r,i,t).execute();return g&&!t&&(delete g.user._redirectEventId,yield r._persistUserIfCurrent(g.user),yield r._setRedirectUser(null,e)),g})).apply(this,arguments)}function Ei(n){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,c.A)(function*(n){const e=Ot(`${n.uid}:::`);return n._redirectEventId=e,yield n.auth._setRedirectUser(n),yield n.auth._persistUserIfCurrent(n),e})).apply(this,arguments)}class Ai{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function ha(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bi(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!bi(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Z(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ti(e))}saveEventToCache(e){this.cachedEventUids.add(Ti(e)),this.lastProcessedEventTime=Date.now()}}function Ti(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function bi({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function Si(n){return Or.apply(this,arguments)}function Or(){return(Or=(0,c.A)(function*(n,e={}){return te(n,"GET","/v1/projects",e)})).apply(this,arguments)}const fa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pa=/^https?/;function wr(){return(wr=(0,c.A)(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield Si(n);for(const t of e)try{if(ma(t))return}catch{}H(n,"unauthorized-domain")})).apply(this,arguments)}function ma(n){const e=j(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const g=new URL(n);return""===g.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&g.hostname===r}if(!pa.test(t))return!1;if(fa.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const _a=new k(3e4,6e4);function Ri(){const n=be().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Kt=null;const ya=new k(5e3,15e3),Ea="__/auth/iframe",Aa="emulator/auth/iframe",Ta={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ba=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sa(n){const e=n.config;_(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?M(e,Aa):`https://${n.config.authDomain}/${Ea}`,r={apiKey:e.apiKey,appName:n.name,v:R.SDK_VERSION},i=ba.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${(0,l.Am)(r).slice(1)}`}function Cr(){return Cr=(0,c.A)(function*(n){const e=yield function Ia(n){return Kt=Kt||function va(n){return new Promise((e,t)=>{var r,i,o;function g(){Ri(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ri(),t(Z(n,"network-request-failed"))},timeout:_a.get()})}if(null!==(i=null===(r=be().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=be().gapi)||void 0===o||!o.load){const v=$r("iframefcb");return be()[v]=()=>{gapi.load?g():t(Z(n,"network-request-failed"))},Gt(`${function Qi(){return At.gapiScript}()}?onload=${v}`).catch(T=>t(T))}g()}}).catch(e=>{throw Kt=null,e})}(n),Kt}(n),t=be().gapi;return _(t,n,"internal-error"),e.open({where:document.body,url:Sa(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ta,dontclear:!0},r=>new Promise(function(){var i=(0,c.A)(function*(o,g){yield r.restyle({setHideOnLeave:!1});const v=Z(n,"network-request-failed"),T=be().setTimeout(()=>{g(v)},ya.get());function F(){be().clearTimeout(T),o(r)}r.ping(F).then(F,()=>{g(v)})});return function(o,g){return i.apply(this,arguments)}}()))}),Cr.apply(this,arguments)}const Pa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Pi{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const La="__/auth/handler",xa="emulator/auth/handler",Ma=encodeURIComponent("fac");function Nr(n,e,t,r,i,o){return kr.apply(this,arguments)}function kr(){return(kr=(0,c.A)(function*(n,e,t,r,i,o){_(n.config.authDomain,n,"auth-domain-config-required"),_(n.config.apiKey,n,"invalid-api-key");const g={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:R.SDK_VERSION,eventId:i};if(e instanceof ot){e.setDefaultLanguage(n.languageCode),g.providerId=e.providerId||"",(0,l.Im)(e.getCustomParameters())||(g.customParameters=JSON.stringify(e.getCustomParameters()));for(const[W,ne]of Object.entries(o||{}))g[W]=ne}if(e instanceof _t){const W=e.getScopes().filter(ne=>""!==ne);W.length>0&&(g.scopes=W.join(","))}n.tenantId&&(g.tid=n.tenantId);const v=g;for(const W of Object.keys(v))void 0===v[W]&&delete v[W];const T=yield n._getAppCheckToken(),F=T?`#${Ma}=${encodeURIComponent(T)}`:"";return`${function Ua({config:n}){return n.emulator?M(n,xa):`https://${n.authDomain}/${La}`}(n)}?${(0,l.Am)(v).slice(1)}${F}`})).apply(this,arguments)}const Dr="webStorageSupport",Oi=class Fa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xn,this._completeRedirectFn=Sr,this._overrideRedirectResult=vi}_openPopup(e,t,r,i){var o=this;return(0,c.A)(function*(){var g;q(null===(g=o.eventManagers[e._key()])||void 0===g?void 0:g.manager,"_initialize() not called before _openPopup()");const v=yield Nr(e,t,r,j(),i);return function ka(n,e,t,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),g=Math.max((window.screen.availWidth-r)/2,0).toString();let v="";const T=Object.assign(Object.assign({},Pa),{width:r.toString(),height:i.toString(),top:o,left:g}),F=(0,l.ZQ)().toLowerCase();t&&(v=Be(F)?"_blank":t),V(F)&&(e=e||"http://localhost",T.scrollbars="yes");const W=Object.entries(T).reduce((De,[dt,$t])=>`${De}${dt}=${$t},`,"");if(function Bi(n=(0,l.ZQ)()){var e;return Et(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(F)&&"_self"!==v)return function Da(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",v),new Pi(null);const ne=window.open(e||"",v,W);_(ne,n,"popup-blocked");try{ne.focus()}catch{}return new Pi(ne)}(e,v,Ot())})()}_openRedirect(e,t,r,i){var o=this;return(0,c.A)(function*(){return yield o._originValidation(e),function vo(n){be().location.href=n}(yield Nr(e,t,r,j(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(q(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,c.A)(function*(){const r=yield function Ra(n){return Cr.apply(this,arguments)}(e),i=new Ai(e);return r.register("authEvent",o=>(_(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Dr,{type:Dr},i=>{var o;const g=null===(o=i?.[0])||void 0===o?void 0:o[Dr];void 0!==g&&t(!!g),H(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function ga(n){return wr.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Hr()||ie()||Et()}};class wi{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return x("unexpected MultiFactorSessionType")}}}class Lr extends wi{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Lr(e)}_finalizeEnroll(e,t,r){return function ao(n,e){return te(n,"POST","/v2/accounts/mfaEnrollment:finalize",Y(n,e))}(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function Oo(n,e){return te(n,"POST","/v2/accounts/mfaSignIn:finalize",Y(n,e))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Va=(()=>{class n{constructor(){}static assertion(t){return Lr._fromCredential(t)}}return n.FACTOR_ID="phone",n})();var Ni="@firebase/auth";class Wa{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,c.A)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,l.XA)("authIdTokenMaxAge"),function Yi(n){At=n}({loadJS:n=>new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Z("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",function za(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Ha(n){(0,R._registerComponent)(new _e.uA("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:g,authDomain:v}=r.options;_(g&&!g.includes(":"),"invalid-api-key",{appName:r.name});const T={apiKey:g,authDomain:v,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kr(n)},F=new qi(r,i,o,T);return function rs(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(h);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(F,t),F},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),(0,R._registerComponent)(new _e.uA("auth-internal",e=>{const t=Ie(e.getProvider("auth").getImmediate());return new Wa(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,R.registerVersion)(Ni,"1.7.0",function Ba(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),(0,R.registerVersion)(Ni,"1.7.0","esm2017")}("Browser")},1076:(xe,pe,P)=>{P.d(pe,{Am:()=>Se,Bd:()=>x,FA:()=>te,Fy:()=>O,I9:()=>Ke,Im:()=>at,Ku:()=>ht,Ll:()=>_,T9:()=>H,Uj:()=>oe,XA:()=>Z,ZQ:()=>A,bD:()=>He,cY:()=>ae,dM:()=>re,eX:()=>J,g:()=>Y,gR:()=>Ee,hp:()=>et,jZ:()=>y,lT:()=>$,lV:()=>j,nr:()=>k,sr:()=>q,tD:()=>tt,u:()=>E,zW:()=>M,zw:()=>N});const C=function(f){const d=[];let a=0;for(let u=0;u<f.length;u++){let s=f.charCodeAt(u);s<128?d[a++]=s:s<2048?(d[a++]=s>>6|192,d[a++]=63&s|128):55296==(64512&s)&&u+1<f.length&&56320==(64512&f.charCodeAt(u+1))?(s=65536+((1023&s)<<10)+(1023&f.charCodeAt(++u)),d[a++]=s>>18|240,d[a++]=s>>12&63|128,d[a++]=s>>6&63|128,d[a++]=63&s|128):(d[a++]=s>>12|224,d[a++]=s>>6&63|128,d[a++]=63&s|128)}return d},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(f,d){if(!Array.isArray(f))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=d?this.byteToCharMapWebSafe_:this.byteToCharMap_,u=[];for(let s=0;s<f.length;s+=3){const m=f[s],p=s+1<f.length,h=p?f[s+1]:0,I=s+2<f.length,b=I?f[s+2]:0;let G=(15&h)<<2|b>>6,V=63&b;I||(V=64,p||(G=64)),u.push(a[m>>2],a[(3&m)<<4|h>>4],a[G],a[V])}return u.join("")},encodeString(f,d){return this.HAS_NATIVE_SUPPORT&&!d?btoa(f):this.encodeByteArray(C(f),d)},decodeString(f,d){return this.HAS_NATIVE_SUPPORT&&!d?atob(f):function(f){const d=[];let a=0,u=0;for(;a<f.length;){const s=f[a++];if(s<128)d[u++]=String.fromCharCode(s);else if(s>191&&s<224){const m=f[a++];d[u++]=String.fromCharCode((31&s)<<6|63&m)}else if(s>239&&s<365){const I=((7&s)<<18|(63&f[a++])<<12|(63&f[a++])<<6|63&f[a++])-65536;d[u++]=String.fromCharCode(55296+(I>>10)),d[u++]=String.fromCharCode(56320+(1023&I))}else{const m=f[a++],p=f[a++];d[u++]=String.fromCharCode((15&s)<<12|(63&m)<<6|63&p)}}return d.join("")}(this.decodeStringToByteArray(f,d))},decodeStringToByteArray(f,d){this.init_();const a=d?this.charToByteMapWebSafe_:this.charToByteMap_,u=[];for(let s=0;s<f.length;){const m=a[f.charAt(s++)],h=s<f.length?a[f.charAt(s)]:0;++s;const b=s<f.length?a[f.charAt(s)]:64;++s;const w=s<f.length?a[f.charAt(s)]:64;if(++s,null==m||null==h||null==b||null==w)throw new me;u.push(m<<2|h>>4),64!==b&&(u.push(h<<4&240|b>>2),64!==w&&u.push(b<<6&192|w))}return u},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let f=0;f<this.ENCODED_VALS.length;f++)this.byteToCharMap_[f]=this.ENCODED_VALS.charAt(f),this.charToByteMap_[this.byteToCharMap_[f]]=f,this.byteToCharMapWebSafe_[f]=this.ENCODED_VALS_WEBSAFE.charAt(f),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[f]]=f,f>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(f)]=f,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(f)]=f)}}};class me extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oe=function(f){return function(f){const d=C(f);return _e.encodeByteArray(d,!0)}(f).replace(/\./g,"")},E=function(f){try{return _e.decodeString(f,!0)}catch(d){console.error("base64Decode failed: ",d)}return null};function N(f,d){if(!(d instanceof Object))return d;switch(d.constructor){case Date:return new Date(d.getTime());case Object:void 0===f&&(f={});break;case Array:f=[];break;default:return d}for(const a in d)!d.hasOwnProperty(a)||!K(a)||(f[a]=N(f[a],d[a]));return f}function K(f){return"__proto__"!==f}const L=()=>{try{return function X(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const f=process.env.__FIREBASE_DEFAULTS__;return f?JSON.parse(f):void 0})()||(()=>{if(typeof document>"u")return;let f;try{f=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const d=f&&E(f[1]);return d&&JSON.parse(d)})()}catch(f){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${f}`)}},H=()=>{var f;return null===(f=L())||void 0===f?void 0:f.config},Z=f=>{var d;return null===(d=L())||void 0===d?void 0:d[`_${f}`]};class ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((d,a)=>{this.resolve=d,this.reject=a})}wrapCallback(d){return(a,u)=>{a?this.reject(a):this.resolve(u),"function"==typeof d&&(this.promise.catch(()=>{}),1===d.length?d(a):d(a,u))}}}function O(f,d){if(f.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const u=d||"demo-project",s=f.iat||0,m=f.sub||f.user_id;if(!m)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p=Object.assign({iss:`https://securetoken.google.com/${u}`,aud:u,iat:s,exp:s+3600,auth_time:s,sub:m,user_id:m,firebase:{sign_in_provider:"custom",identities:{}}},f);return[oe(JSON.stringify({alg:"none",type:"JWT"})),oe(JSON.stringify(p)),""].join(".")}function A(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function y(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(A())}function _(){var f;const d=null===(f=L())||void 0===f?void 0:f.forceEnvironment;if("node"===d)return!0;if("browser"===d)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function x(){return"object"==typeof self&&self.self===self}function q(){const f="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof f&&void 0!==f.id}function j(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function $(){const f=A();return f.indexOf("MSIE ")>=0||f.indexOf("Trident/")>=0}function k(){return!_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function M(){try{return"object"==typeof indexedDB}catch{return!1}}function J(){return new Promise((f,d)=>{try{let a=!0;const u="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(u);s.onsuccess=()=>{s.result.close(),a||self.indexedDB.deleteDatabase(u),f(!0)},s.onupgradeneeded=()=>{a=!1},s.onerror=()=>{var m;d((null===(m=s.error)||void 0===m?void 0:m.message)||"")}}catch(a){d(a)}})}function re(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Y extends Error{constructor(d,a,u){super(a),this.code=d,this.customData=u,this.name="FirebaseError",Object.setPrototypeOf(this,Y.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,te.prototype.create)}}class te{constructor(d,a,u){this.service=d,this.serviceName=a,this.errors=u}create(d,...a){const u=a[0]||{},s=`${this.service}/${d}`,m=this.errors[d],p=m?function Oe(f,d){return f.replace(Ze,(a,u)=>{const s=d[u];return null!=s?String(s):`<${u}?>`})}(m,u):"Error";return new Y(s,`${this.serviceName}: ${p} (${s}).`,u)}}const Ze=/\{\$([^}]+)}/g;function Ee(f,d){return Object.prototype.hasOwnProperty.call(f,d)}function at(f){for(const d in f)if(Object.prototype.hasOwnProperty.call(f,d))return!1;return!0}function He(f,d){if(f===d)return!0;const a=Object.keys(f),u=Object.keys(d);for(const s of a){if(!u.includes(s))return!1;const m=f[s],p=d[s];if(Ae(m)&&Ae(p)){if(!He(m,p))return!1}else if(m!==p)return!1}for(const s of u)if(!a.includes(s))return!1;return!0}function Ae(f){return null!==f&&"object"==typeof f}function Se(f){const d=[];for(const[a,u]of Object.entries(f))Array.isArray(u)?u.forEach(s=>{d.push(encodeURIComponent(a)+"="+encodeURIComponent(s))}):d.push(encodeURIComponent(a)+"="+encodeURIComponent(u));return d.length?"&"+d.join("&"):""}function Ke(f){const d={};return f.replace(/^\?/,"").split("&").forEach(u=>{if(u){const[s,m]=u.split("=");d[decodeURIComponent(s)]=decodeURIComponent(m)}}),d}function et(f){const d=f.indexOf("?");if(!d)return"";const a=f.indexOf("#",d);return f.substring(d,a>0?a:void 0)}function tt(f,d){const a=new $e(f,d);return a.subscribe.bind(a)}class $e{constructor(d,a){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=a,this.task.then(()=>{d(this)}).catch(u=>{this.error(u)})}next(d){this.forEachObserver(a=>{a.next(d)})}error(d){this.forEachObserver(a=>{a.error(d)}),this.close(d)}complete(){this.forEachObserver(d=>{d.complete()}),this.close()}subscribe(d,a,u){let s;if(void 0===d&&void 0===a&&void 0===u)throw new Error("Missing Observer.");s=function Le(f,d){if("object"!=typeof f||null===f)return!1;for(const a of d)if(a in f&&"function"==typeof f[a])return!0;return!1}(d,["next","error","complete"])?d:{next:d,error:a,complete:u},void 0===s.next&&(s.next=We),void 0===s.error&&(s.error=We),void 0===s.complete&&(s.complete=We);const m=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),m}unsubscribeOne(d){void 0===this.observers||void 0===this.observers[d]||(delete this.observers[d],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(d){if(!this.finalized)for(let a=0;a<this.observers.length;a++)this.sendOne(a,d)}sendOne(d,a){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[d])try{a(this.observers[d])}catch(u){typeof console<"u"&&console.error&&console.error(u)}})}close(d){this.finalized||(this.finalized=!0,void 0!==d&&(this.finalError=d),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function We(){}function ht(f){return f&&f._delegate?f._delegate:f}},7083:(xe,pe,P)=>{P.d(pe,{K:()=>l});var c=P(5558),R=P(8071);function l(C,B){return(0,R.T)(B)?(0,c.n)(()=>C,B):(0,c.n)(()=>C)}},1152:(xe,pe,P)=>{P.d(pe,{$z:()=>O,AU:()=>A,CP:()=>H,DS:()=>x,UB:()=>y,X8:()=>q,ZP:()=>ae,gF:()=>_,yy:()=>Z}),P(2438);var R=P(177),l=P(4438),C=P(1825),B=P(9253),_e=P(1413),me=P(7673),se=P(1985),oe=P(8455),E=P(7786),S=P(941),N=P(5558),K=P(6354),X=P(9568),ge=P(1594),ue=P(7083),ve=P(6745),L=P(5964),ee=P(7935);const H=new l.nKC("angularfire2.auth.use-emulator"),Z=new l.nKC("angularfire2.auth.settings"),ae=new l.nKC("angularfire2.auth.tenant-id"),O=new l.nKC("angularfire2.auth.langugage-code"),A=new l.nKC("angularfire2.auth.use-device-language"),y=new l.nKC("angularfire.auth.persistence"),_=(j,ce,$,z,D,k,M,J)=>(0,B.BM)(`${j.name}.auth`,"AngularFireAuth",j.name,()=>{const re=ce.runOutsideAngular(()=>j.auth());if($&&re.useEmulator(...$),z&&(re.tenantId=z),re.languageCode=D,k&&re.useDeviceLanguage(),M)for(const[le,Y]of Object.entries(M))re.settings[le]=Y;return J&&re.setPersistence(J),re},[$,z,D,k,M,J]);let x=(()=>{class j{authState;idToken;user;idTokenResult;credential;constructor($,z,D,k,M,J,re,le,Y,te,Oe,Ze){const Re=new _e.B,Te=(0,me.of)(void 0).pipe((0,S.Q)(M.outsideAngular),(0,N.n)(()=>k.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,2438)))),(0,K.T)(()=>(0,B.iB)($,k,z)),(0,K.T)(de=>_(de,k,J,le,Y,te,re,Oe)),(0,X.t)({bufferSize:1,refCount:!1}));if((0,R.Vy)(D))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,me.of)(null);else{Te.pipe((0,ge.$)()).subscribe();const de=Te.pipe((0,N.n)(he=>he.getRedirectResult().then(ye=>ye,()=>null)),C.U0,(0,X.t)({bufferSize:1,refCount:!1})),we=Te.pipe((0,N.n)(he=>new se.c(ye=>({unsubscribe:k.runOutsideAngular(()=>he.onAuthStateChanged(Ee=>ye.next(Ee),Ee=>ye.error(Ee),()=>ye.complete()))})))),Ce=Te.pipe((0,N.n)(he=>new se.c(ye=>({unsubscribe:k.runOutsideAngular(()=>he.onIdTokenChanged(Ee=>ye.next(Ee),Ee=>ye.error(Ee),()=>ye.complete()))}))));this.authState=de.pipe((0,ue.K)(we),(0,ve._)(M.outsideAngular),(0,S.Q)(M.insideAngular)),this.user=de.pipe((0,ue.K)(Ce),(0,ve._)(M.outsideAngular),(0,S.Q)(M.insideAngular)),this.idToken=this.user.pipe((0,N.n)(he=>he?(0,oe.H)(he.getIdToken()):(0,me.of)(null))),this.idTokenResult=this.user.pipe((0,N.n)(he=>he?(0,oe.H)(he.getIdTokenResult()):(0,me.of)(null))),this.credential=(0,E.h)(de,Re,this.authState.pipe((0,L.p)(he=>!he))).pipe((0,K.T)(he=>he?.user?he:null),(0,ve._)(M.outsideAngular),(0,S.Q)(M.insideAngular))}return(0,B.Gt)(this,Te,k,{spy:{apply:(de,we,Ce)=>{(de.startsWith("signIn")||de.startsWith("createUser"))&&Ce.then(he=>Re.next(he))}}})}static \u0275fac=function(z){return new(z||j)(l.KVO(B.rx),l.KVO(B.uP,8),l.KVO(l.Agw),l.KVO(l.SKi),l.KVO(C.u0),l.KVO(H,8),l.KVO(Z,8),l.KVO(ae,8),l.KVO(O,8),l.KVO(A,8),l.KVO(y,8),l.KVO(C.Jv,8))};static \u0275prov=l.jDH({token:j,factory:j.\u0275fac,providedIn:"any"})}return j})(),q=(()=>{class j{constructor(){ee.A.registerVersion("angularfire",C.xv.full,"auth-compat")}static \u0275fac=function(z){return new(z||j)};static \u0275mod=l.$C({type:j});static \u0275inj=l.G2t({providers:[x]})}return j})()},9253:(xe,pe,P)=>{P.d(pe,{BM:()=>X,Gt:()=>B,bf:()=>K,e7:()=>_e,iB:()=>E,rx:()=>se,uP:()=>oe});var c=P(4438),R=P(1825),l=P(7935);const C=["ngOnDestroy"],B=(L,ee,Q,H={})=>new Proxy(L,{get:(Z,ae)=>Q.runOutsideAngular(()=>{if(L[ae])return H?.spy?.get&&H.spy.get(ae,L[ae]),L[ae];if(C.indexOf(ae)>-1)return()=>{};const O=ee.toPromise().then(A=>{const y=A?.[ae];return"function"==typeof y?y.bind(A):y?.then?y.then(_=>Q.run(()=>_)):Q.run(()=>y)});return new Proxy(()=>{},{get:(A,y)=>O[y],apply:(A,y,_)=>O.then(x=>{const q=x?.(..._);return H?.spy?.apply&&H.spy.apply(ae,_,q),q})})})}),_e=(L,ee)=>{ee.forEach(Q=>{Object.getOwnPropertyNames(Q.prototype||Q).forEach(H=>{Object.defineProperty(L.prototype,H,Object.getOwnPropertyDescriptor(Q.prototype||Q,H))})})};class me{constructor(ee){return ee}}const se=new c.nKC("angularfire2.app.options"),oe=new c.nKC("angularfire2.app.name");function E(L,ee,Q){const Z="object"==typeof Q&&Q||{};Z.name=Z.name||"string"==typeof Q&&Q||"[DEFAULT]";const O=l.A.apps.filter(A=>A&&A.name===Z.name)[0]||ee.runOutsideAngular(()=>l.A.initializeApp(L,Z));try{if(JSON.stringify(L)!==JSON.stringify(O.options)){const A=!!module.hot;S("error",`${O.name} Firebase App already initialized with different options${A?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new me(O)}const S=(L,...ee)=>{(0,c.naY)()&&typeof console<"u"&&console[L](...ee)},N={provide:me,useFactory:E,deps:[se,c.SKi,[new c.Xx1,oe]]};let K=(()=>{class L{static initializeApp(Q,H){return{ngModule:L,providers:[{provide:se,useValue:Q},{provide:oe,useValue:H}]}}constructor(Q){l.A.registerVersion("angularfire",R.xv.full,"core"),l.A.registerVersion("angularfire",R.xv.full,"app-compat"),l.A.registerVersion("angular",c.xvI.full,Q.toString())}static \u0275fac=function(H){return new(H||L)(c.KVO(c.Agw))};static \u0275mod=c.$C({type:L});static \u0275inj=c.G2t({providers:[N]})}return L})();function X(L,ee,Q,H,Z){const[,ae,O]=globalThis.\u0275AngularfireInstanceCache.find(A=>A[0]===L)||[];if(ae)return function ge(L,ee){try{return L.toString()===ee.toString()}catch{return L===ee}}(Z,O)||(ve("error",`${ee} was already initialized on the ${Q} Firebase App with different settings.${ue?" You may need to reload as Firebase is not HMR aware.":""}`),ve("warn",{is:Z,was:O})),ae;{const A=H();return globalThis.\u0275AngularfireInstanceCache.push([L,A,Z]),A}}const ue=typeof module<"u"&&!!module.hot,ve=(L,...ee)=>{(0,c.naY)()&&typeof console<"u"&&console[L](...ee)};globalThis.\u0275AngularfireInstanceCache||=[]},1825:(xe,pe,P)=>{P.d(pe,{xv:()=>ge,U0:()=>j,Oe:()=>x,u0:()=>O,Jv:()=>ee});var c=P(4438),R=P(8891);(0,R.registerVersion)("firebase","10.10.0","app");var B=P(6780),me=P(9687);const oe=new class se extends me.q{}(class _e extends B.R{constructor(k,M){super(k,M),this.scheduler=k,this.work=M}schedule(k,M=0){return M>0?super.schedule(k,M):(this.delay=M,this.state=k,this.scheduler.flush(this),this)}execute(k,M){return M>0||this.closed?super.execute(k,M):this._execute(k,M)}requestAsyncId(k,M,J=0){return null!=J&&J>0||null==J&&this.delay>0?super.requestAsyncId(k,M,J):(k.flush(this),0)}});var S=P(3236),N=P(8141),K=P(941),X=P(6745);const ge=new c.RxE("ANGULARFIRE2_VERSION");class ee{constructor(){return((D,k)=>{const M=(0,R.getApps)(),J=[];return M.forEach(re=>{re.container.getProvider(D).instances.forEach(Y=>{J.includes(Y)||J.push(Y)})}),J})(Q)}}const Q="app-check";function H(){}class Z{zone;delegate;constructor(k,M=oe){this.zone=k,this.delegate=M}now(){return this.delegate.now()}schedule(k,M,J){const re=this.zone;return this.delegate.schedule(function(Y){re.runGuarded(()=>{k.apply(this,[Y])})},M,J)}}class ae{zone;task=null;constructor(k){this.zone=k}call(k,M){const J=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",H,{},H,H)),M.pipe((0,N.M)({next:J,complete:J,error:J})).subscribe(k).add(J)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let O=(()=>{class D{ngZone;outsideAngular;insideAngular;constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Z(Zone.current)),this.insideAngular=M.run(()=>new Z(Zone.current,S.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(J){return new(J||D)(c.KVO(c.SKi))};static \u0275prov=c.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();function A(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function x(D){return D.pipe((0,K.Q)(A().outsideAngular))}function j(D){return function ce(D){return function(M){return(M=M.lift(new ae(D.ngZone))).pipe((0,X._)(D.outsideAngular),(0,K.Q)(D.insideAngular))}}(A())(D)}},90:(xe,pe,P)=>{P.d(pe,{A:()=>ae});var c=P(1076),R=P(1362),l=P(8891);const C=[];var B=function(O){return O[O.DEBUG=0]="DEBUG",O[O.VERBOSE=1]="VERBOSE",O[O.INFO=2]="INFO",O[O.WARN=3]="WARN",O[O.ERROR=4]="ERROR",O[O.SILENT=5]="SILENT",O}(B||{});const _e={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},me=B.INFO,se={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},oe=(O,A,...y)=>{if(A<O.logLevel)return;const _=(new Date).toISOString(),x=se[A];if(!x)throw new Error(`Attempted to log a message with an invalid logType (value: ${A})`);console[x](`[${_}]  ${O.name}:`,...y)};class K{constructor(A,y){this._delegate=A,this.firebase=y,(0,l._addComponent)(A,new R.uA("app-compat",()=>this,"PUBLIC")),this.container=A.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(A){this._delegate.automaticDataCollectionEnabled=A}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(A=>{this._delegate.checkDestroyed(),A()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,l.deleteApp)(this._delegate)))}_getService(A,y=l._DEFAULT_ENTRY_NAME){var _;this._delegate.checkDestroyed();const x=this._delegate.container.getProvider(A);return!x.isInitialized()&&"EXPLICIT"===(null===(_=x.getComponent())||void 0===_?void 0:_.instantiationMode)&&x.initialize(),x.getImmediate({identifier:y})}_removeServiceInstance(A,y=l._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(A).clearInstance(y)}_addComponent(A){(0,l._addComponent)(this._delegate,A)}_addOrOverwriteComponent(A){(0,l._addOrOverwriteComponent)(this._delegate,A)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new c.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function ve(){const O=function ue(O){const A={},y={__esModule:!0,initializeApp:function q(z,D={}){const k=l.initializeApp(z,D);if((0,c.gR)(A,k.name))return A[k.name];const M=new O(k,y);return A[k.name]=M,M},app:x,registerVersion:l.registerVersion,setLogLevel:l.setLogLevel,onLog:l.onLog,apps:null,SDK_VERSION:l.SDK_VERSION,INTERNAL:{registerComponent:function ce(z){const D=z.name,k=D.replace("-compat","");if(l._registerComponent(z)&&"PUBLIC"===z.type){const M=(J=x())=>{if("function"!=typeof J[k])throw ge.create("invalid-app-argument",{appName:D});return J[k]()};void 0!==z.serviceProps&&(0,c.zw)(M,z.serviceProps),y[k]=M,O.prototype[k]=function(...J){return this._getService.bind(this,D).apply(this,z.multipleInstances?J:[])}}return"PUBLIC"===z.type?y[k]:null},removeApp:function _(z){delete A[z]},useAsService:function $(z,D){return"serverAuth"===D?null:D},modularAPIs:l}};function x(z){if(!(0,c.gR)(A,z=z||l._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:z});return A[z]}return y.default=y,Object.defineProperty(y,"apps",{get:function j(){return Object.keys(A).map(z=>A[z])}}),x.App=O,y}(K);return O.INTERNAL=Object.assign(Object.assign({},O.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function A(y){(0,c.zw)(O,y)},createSubscribe:c.tD,ErrorFactory:c.FA,deepExtend:c.zw}),O}(),ee=new class E{constructor(A){this.name=A,this._logLevel=me,this._logHandler=oe,this._userLogHandler=null,C.push(this)}get logLevel(){return this._logLevel}set logLevel(A){if(!(A in B))throw new TypeError(`Invalid value "${A}" assigned to \`logLevel\``);this._logLevel=A}setLogLevel(A){this._logLevel="string"==typeof A?_e[A]:A}get logHandler(){return this._logHandler}set logHandler(A){if("function"!=typeof A)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=A}get userLogHandler(){return this._userLogHandler}set userLogHandler(A){this._userLogHandler=A}debug(...A){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...A),this._logHandler(this,B.DEBUG,...A)}log(...A){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...A),this._logHandler(this,B.VERBOSE,...A)}info(...A){this._userLogHandler&&this._userLogHandler(this,B.INFO,...A),this._logHandler(this,B.INFO,...A)}warn(...A){this._userLogHandler&&this._userLogHandler(this,B.WARN,...A),this._logHandler(this,B.WARN,...A)}error(...A){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...A),this._logHandler(this,B.ERROR,...A)}}("@firebase/app-compat");if((0,c.Bd)()&&void 0!==self.firebase){ee.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const O=self.firebase.SDK_VERSION;O&&O.indexOf("LITE")>=0&&ee.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ae=L;!function Z(O){(0,l.registerVersion)("@firebase/app-compat","0.2.30",O)}()},8891:(xe,pe,P)=>{P.r(pe),P.d(pe,{FirebaseError:()=>N.g,SDK_VERSION:()=>je,_DEFAULT_ENTRY_NAME:()=>Re,_addComponent:()=>he,_addOrOverwriteComponent:()=>ye,_apps:()=>de,_clearComponents:()=>Ae,_components:()=>Ce,_getProvider:()=>Qe,_isFirebaseApp:()=>Xe,_isFirebaseServerApp:()=>He,_registerComponent:()=>Ee,_removeServiceInstance:()=>at,_serverApps:()=>we,deleteApp:()=>We,getApp:()=>ze,getApps:()=>Le,initializeApp:()=>tt,initializeServerApp:()=>$e,onLog:()=>nt,registerVersion:()=>Ne,setLogLevel:()=>ut});var c=P(467),R=P(1362);const l=[];var C=function(p){return p[p.DEBUG=0]="DEBUG",p[p.VERBOSE=1]="VERBOSE",p[p.INFO=2]="INFO",p[p.WARN=3]="WARN",p[p.ERROR=4]="ERROR",p[p.SILENT=5]="SILENT",p}(C||{});const B={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},_e=C.INFO,me={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},se=(p,h,...I)=>{if(h<p.logLevel)return;const b=(new Date).toISOString(),U=me[h];if(!U)throw new Error(`Attempted to log a message with an invalid logType (value: ${h})`);console[U](`[${b}]  ${p.name}:`,...I)};var N=P(1076),K=P(6749);class X{constructor(h){this.container=h}getPlatformInfoString(){return this.container.getProviders().map(I=>{if(function ge(p){const h=p.getComponent();return"VERSION"===h?.type}(I)){const b=I.getImmediate();return`${b.library}/${b.version}`}return null}).filter(I=>I).join(" ")}}const ue="@firebase/app",ve="0.10.0",L=new class oe{constructor(h){this.name=h,this._logLevel=_e,this._logHandler=se,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(h){if(!(h in C))throw new TypeError(`Invalid value "${h}" assigned to \`logLevel\``);this._logLevel=h}setLogLevel(h){this._logLevel="string"==typeof h?B[h]:h}get logHandler(){return this._logHandler}set logHandler(h){if("function"!=typeof h)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=h}get userLogHandler(){return this._userLogHandler}set userLogHandler(h){this._userLogHandler=h}debug(...h){this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...h),this._logHandler(this,C.DEBUG,...h)}log(...h){this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...h),this._logHandler(this,C.VERBOSE,...h)}info(...h){this._userLogHandler&&this._userLogHandler(this,C.INFO,...h),this._logHandler(this,C.INFO,...h)}warn(...h){this._userLogHandler&&this._userLogHandler(this,C.WARN,...h),this._logHandler(this,C.WARN,...h)}error(...h){this._userLogHandler&&this._userLogHandler(this,C.ERROR,...h),this._logHandler(this,C.ERROR,...h)}}("@firebase/app"),Re="[DEFAULT]",Te={[ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},de=new Map,we=new Map,Ce=new Map;function he(p,h){try{p.container.addComponent(h)}catch(I){L.debug(`Component ${h.name} failed to register with FirebaseApp ${p.name}`,I)}}function ye(p,h){p.container.addOrOverwriteComponent(h)}function Ee(p){const h=p.name;if(Ce.has(h))return L.debug(`There were multiple attempts to register component ${h}.`),!1;Ce.set(h,p);for(const I of de.values())he(I,p);for(const I of we.values())he(I,p);return!0}function Qe(p,h){const I=p.container.getProvider("heartbeat").getImmediate({optional:!0});return I&&I.triggerHeartbeat(),p.container.getProvider(h)}function at(p,h,I=Re){Qe(p,h).clearInstance(I)}function Xe(p){return void 0!==p.options}function He(p){return void 0!==p.settings}function Ae(){Ce.clear()}const Se=new N.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ke{constructor(h,I,b){this._isDeleted=!1,this._options=Object.assign({},h),this._config=Object.assign({},I),this._name=I.name,this._automaticDataCollectionEnabled=I.automaticDataCollectionEnabled,this._container=b,this.container.addComponent(new R.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(h){this.checkDestroyed(),this._automaticDataCollectionEnabled=h}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(h){this._isDeleted=h}checkDestroyed(){if(this.isDeleted)throw Se.create("app-deleted",{appName:this._name})}}class et extends Ke{constructor(h,I,b,U){const w=void 0!==I.automaticDataCollectionEnabled&&I.automaticDataCollectionEnabled,G={name:b,automaticDataCollectionEnabled:w};super(void 0!==h.apiKey?h:h.options,G,U),this._serverConfig=Object.assign({automaticDataCollectionEnabled:w},I),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,I.releaseOnDeref=void 0,Ne(ue,ve,"serverapp")}get refCount(){return this._refCount}incRefCount(h){this.isDeleted||(this._refCount++,void 0!==h&&this._finalizationRegistry.register(h,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){We(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Se.create("server-app-deleted")}}const je="10.10.0";function tt(p,h={}){let I=p;"object"!=typeof h&&(h={name:h});const b=Object.assign({name:Re,automaticDataCollectionEnabled:!1},h),U=b.name;if("string"!=typeof U||!U)throw Se.create("bad-app-name",{appName:String(U)});if(I||(I=(0,N.T9)()),!I)throw Se.create("no-options");const w=de.get(U);if(w){if((0,N.bD)(I,w.options)&&(0,N.bD)(b,w.config))return w;throw Se.create("duplicate-app",{appName:U})}const G=new R.h1(U);for(const ie of Ce.values())G.addComponent(ie);const V=new Ke(I,b,G);return de.set(U,V),V}function $e(p,h){if((0,N.Bd)())throw Se.create("invalid-server-app-environment");let I;void 0===h.automaticDataCollectionEnabled&&(h.automaticDataCollectionEnabled=!1),I=Xe(p)?p.options:p;const b=Object.assign(Object.assign({},h),I);if(void 0!==b.releaseOnDeref&&delete b.releaseOnDeref,void 0!==h.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Se.create("finalization-registry-not-supported",{});const w=""+(Be=JSON.stringify(b),[...Be].reduce((Nt,yt)=>Math.imul(31,Nt)+yt.charCodeAt(0)|0,0)),G=we.get(w);var Be;if(G)return G.incRefCount(h.releaseOnDeref),G;const V=new R.h1(w);for(const Be of Ce.values())V.addComponent(Be);const ie=new et(I,h,w,V);return we.set(w,ie),ie}function ze(p=Re){const h=de.get(p);if(!h&&p===Re&&(0,N.T9)())return tt();if(!h)throw Se.create("no-app",{appName:p});return h}function Le(){return Array.from(de.values())}function We(p){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,c.A)(function*(p){let h=!1;const I=p.name;de.has(I)?(h=!0,de.delete(I)):we.has(I)&&p.decRefCount()<=0&&(we.delete(I),h=!0),h&&(yield Promise.all(p.container.getProviders().map(b=>b.delete())),p.isDeleted=!0)})).apply(this,arguments)}function Ne(p,h,I){var b;let U=null!==(b=Te[p])&&void 0!==b?b:p;I&&(U+=`-${I}`);const w=U.match(/\s|\//),G=h.match(/\s|\//);if(w||G){const V=[`Unable to register library "${U}" with version "${h}":`];return w&&V.push(`library name "${U}" contains illegal characters (whitespace or "/")`),w&&G&&V.push("and"),G&&V.push(`version name "${h}" contains illegal characters (whitespace or "/")`),void L.warn(V.join(" "))}Ee(new R.uA(`${U}-version`,()=>({library:U,version:h}),"VERSION"))}function nt(p,h){if(null!==p&&"function"!=typeof p)throw Se.create("invalid-log-argument");!function S(p,h){for(const I of l){let b=null;h&&h.level&&(b=B[h.level]),I.userLogHandler=null===p?null:(U,w,...G)=>{const V=G.map(ie=>{if(null==ie)return null;if("string"==typeof ie)return ie;if("number"==typeof ie||"boolean"==typeof ie)return ie.toString();if(ie instanceof Error)return ie.message;try{return JSON.stringify(ie)}catch{return null}}).filter(ie=>ie).join(" ");w>=(b??U.logLevel)&&p({level:C[w].toLowerCase(),message:V,args:G,type:U.name})}}}(p,h)}function ut(p){!function E(p){l.forEach(h=>{h.setLogLevel(p)})}(p)}const fe="firebase-heartbeat-database",qe=1,Ue="firebase-heartbeat-store";let ct=null;function Pe(){return ct||(ct=(0,K.P2)(fe,qe,{upgrade:(p,h)=>{if(0===h)try{p.createObjectStore(Ue)}catch(I){console.warn(I)}}}).catch(p=>{throw Se.create("idb-open",{originalErrorMessage:p.message})})),ct}function Fe(){return(Fe=(0,c.A)(function*(p){try{const I=(yield Pe()).transaction(Ue),b=yield I.objectStore(Ue).get(it(p));return yield I.done,b}catch(h){if(h instanceof N.g)L.warn(h.message);else{const I=Se.create("idb-get",{originalErrorMessage:h?.message});L.warn(I.message)}}})).apply(this,arguments)}function rt(p,h){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,c.A)(function*(p,h){try{const b=(yield Pe()).transaction(Ue,"readwrite");yield b.objectStore(Ue).put(h,it(p)),yield b.done}catch(I){if(I instanceof N.g)L.warn(I.message);else{const b=Se.create("idb-set",{originalErrorMessage:I?.message});L.warn(b.message)}}})).apply(this,arguments)}function it(p){return`${p.name}!${p.options.appId}`}class f{constructor(h){this.container=h,this._heartbeatsCache=null;const I=this.container.getProvider("app").getImmediate();this._storage=new u(I),this._heartbeatsCachePromise=this._storage.read().then(b=>(this._heartbeatsCache=b,b))}triggerHeartbeat(){var h=this;return(0,c.A)(function*(){var I,b;const w=h.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),G=d();if((null!=(null===(I=h._heartbeatsCache)||void 0===I?void 0:I.heartbeats)||(h._heartbeatsCache=yield h._heartbeatsCachePromise,null!=(null===(b=h._heartbeatsCache)||void 0===b?void 0:b.heartbeats)))&&h._heartbeatsCache.lastSentHeartbeatDate!==G&&!h._heartbeatsCache.heartbeats.some(V=>V.date===G))return h._heartbeatsCache.heartbeats.push({date:G,agent:w}),h._heartbeatsCache.heartbeats=h._heartbeatsCache.heartbeats.filter(V=>{const ie=new Date(V.date).valueOf();return Date.now()-ie<=2592e6}),h._storage.overwrite(h._heartbeatsCache)})()}getHeartbeatsHeader(){var h=this;return(0,c.A)(function*(){var I;if(null===h._heartbeatsCache&&(yield h._heartbeatsCachePromise),null==(null===(I=h._heartbeatsCache)||void 0===I?void 0:I.heartbeats)||0===h._heartbeatsCache.heartbeats.length)return"";const b=d(),{heartbeatsToSend:U,unsentEntries:w}=function a(p,h=1024){const I=[];let b=p.slice();for(const U of p){const w=I.find(G=>G.agent===U.agent);if(w){if(w.dates.push(U.date),s(I)>h){w.dates.pop();break}}else if(I.push({agent:U.agent,dates:[U.date]}),s(I)>h){I.pop();break}b=b.slice(1)}return{heartbeatsToSend:I,unsentEntries:b}}(h._heartbeatsCache.heartbeats),G=(0,N.Uj)(JSON.stringify({version:2,heartbeats:U}));return h._heartbeatsCache.lastSentHeartbeatDate=b,w.length>0?(h._heartbeatsCache.heartbeats=w,yield h._storage.overwrite(h._heartbeatsCache)):(h._heartbeatsCache.heartbeats=[],h._storage.overwrite(h._heartbeatsCache)),G})()}}function d(){return(new Date).toISOString().substring(0,10)}class u{constructor(h){this.app=h,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.A)(function*(){return!!(0,N.zW)()&&(0,N.eX)().then(()=>!0).catch(()=>!1)})()}read(){var h=this;return(0,c.A)(function*(){if(yield h._canUseIndexedDBPromise){const b=yield function ke(p){return Fe.apply(this,arguments)}(h.app);return b?.heartbeats?b:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(h){var I=this;return(0,c.A)(function*(){var b;if(yield I._canUseIndexedDBPromise){const w=yield I.read();return rt(I.app,{lastSentHeartbeatDate:null!==(b=h.lastSentHeartbeatDate)&&void 0!==b?b:w.lastSentHeartbeatDate,heartbeats:h.heartbeats})}})()}add(h){var I=this;return(0,c.A)(function*(){var b;if(yield I._canUseIndexedDBPromise){const w=yield I.read();return rt(I.app,{lastSentHeartbeatDate:null!==(b=h.lastSentHeartbeatDate)&&void 0!==b?b:w.lastSentHeartbeatDate,heartbeats:[...w.heartbeats,...h.heartbeats]})}})()}}function s(p){return(0,N.Uj)(JSON.stringify({version:2,heartbeats:p})).length}!function m(p){Ee(new R.uA("platform-logger",h=>new X(h),"PRIVATE")),Ee(new R.uA("heartbeat",h=>new f(h),"PRIVATE")),Ne(ue,ve,p),Ne(ue,ve,"esm2017"),Ne("fire-js","")}("")},3889:(xe,pe,P)=>{P.d(pe,{$b:()=>R,Vy:()=>me});const c=[];var R=function(E){return E[E.DEBUG=0]="DEBUG",E[E.VERBOSE=1]="VERBOSE",E[E.INFO=2]="INFO",E[E.WARN=3]="WARN",E[E.ERROR=4]="ERROR",E[E.SILENT=5]="SILENT",E}(R||{});const l={debug:R.DEBUG,verbose:R.VERBOSE,info:R.INFO,warn:R.WARN,error:R.ERROR,silent:R.SILENT},C=R.INFO,B={[R.DEBUG]:"log",[R.VERBOSE]:"log",[R.INFO]:"info",[R.WARN]:"warn",[R.ERROR]:"error"},_e=(E,S,...N)=>{if(S<E.logLevel)return;const K=(new Date).toISOString(),X=B[S];if(!X)throw new Error(`Attempted to log a message with an invalid logType (value: ${S})`);console[X](`[${K}]  ${E.name}:`,...N)};class me{constructor(S){this.name=S,this._logLevel=C,this._logHandler=_e,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(S){if(!(S in R))throw new TypeError(`Invalid value "${S}" assigned to \`logLevel\``);this._logLevel=S}setLogLevel(S){this._logLevel="string"==typeof S?l[S]:S}get logHandler(){return this._logHandler}set logHandler(S){if("function"!=typeof S)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=S}get userLogHandler(){return this._userLogHandler}set userLogHandler(S){this._userLogHandler=S}debug(...S){this._userLogHandler&&this._userLogHandler(this,R.DEBUG,...S),this._logHandler(this,R.DEBUG,...S)}log(...S){this._userLogHandler&&this._userLogHandler(this,R.VERBOSE,...S),this._logHandler(this,R.VERBOSE,...S)}info(...S){this._userLogHandler&&this._userLogHandler(this,R.INFO,...S),this._logHandler(this,R.INFO,...S)}warn(...S){this._userLogHandler&&this._userLogHandler(this,R.WARN,...S),this._logHandler(this,R.WARN,...S)}error(...S){this._userLogHandler&&this._userLogHandler(this,R.ERROR,...S),this._logHandler(this,R.ERROR,...S)}}},1362:(xe,pe,P)=>{P.d(pe,{h1:()=>se,uA:()=>l});var c=P(467),R=P(1076);class l{constructor(E,S,N){this.name=E,this.instanceFactory=S,this.type=N,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(E){return this.instantiationMode=E,this}setMultipleInstances(E){return this.multipleInstances=E,this}setServiceProps(E){return this.serviceProps=E,this}setInstanceCreatedCallback(E){return this.onInstanceCreated=E,this}}const C="[DEFAULT]";class B{constructor(E,S){this.name=E,this.container=S,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(E){const S=this.normalizeInstanceIdentifier(E);if(!this.instancesDeferred.has(S)){const N=new R.cY;if(this.instancesDeferred.set(S,N),this.isInitialized(S)||this.shouldAutoInitialize())try{const K=this.getOrInitializeService({instanceIdentifier:S});K&&N.resolve(K)}catch{}}return this.instancesDeferred.get(S).promise}getImmediate(E){var S;const N=this.normalizeInstanceIdentifier(E?.identifier),K=null!==(S=E?.optional)&&void 0!==S&&S;if(!this.isInitialized(N)&&!this.shouldAutoInitialize()){if(K)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:N})}catch(X){if(K)return null;throw X}}getComponent(){return this.component}setComponent(E){if(E.name!==this.name)throw Error(`Mismatching Component ${E.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=E,this.shouldAutoInitialize()){if(function me(oe){return"EAGER"===oe.instantiationMode}(E))try{this.getOrInitializeService({instanceIdentifier:C})}catch{}for(const[S,N]of this.instancesDeferred.entries()){const K=this.normalizeInstanceIdentifier(S);try{const X=this.getOrInitializeService({instanceIdentifier:K});N.resolve(X)}catch{}}}}clearInstance(E=C){this.instancesDeferred.delete(E),this.instancesOptions.delete(E),this.instances.delete(E)}delete(){var E=this;return(0,c.A)(function*(){const S=Array.from(E.instances.values());yield Promise.all([...S.filter(N=>"INTERNAL"in N).map(N=>N.INTERNAL.delete()),...S.filter(N=>"_delete"in N).map(N=>N._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(E=C){return this.instances.has(E)}getOptions(E=C){return this.instancesOptions.get(E)||{}}initialize(E={}){const{options:S={}}=E,N=this.normalizeInstanceIdentifier(E.instanceIdentifier);if(this.isInitialized(N))throw Error(`${this.name}(${N}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const K=this.getOrInitializeService({instanceIdentifier:N,options:S});for(const[X,ge]of this.instancesDeferred.entries())N===this.normalizeInstanceIdentifier(X)&&ge.resolve(K);return K}onInit(E,S){var N;const K=this.normalizeInstanceIdentifier(S),X=null!==(N=this.onInitCallbacks.get(K))&&void 0!==N?N:new Set;X.add(E),this.onInitCallbacks.set(K,X);const ge=this.instances.get(K);return ge&&E(ge,K),()=>{X.delete(E)}}invokeOnInitCallbacks(E,S){const N=this.onInitCallbacks.get(S);if(N)for(const K of N)try{K(E,S)}catch{}}getOrInitializeService({instanceIdentifier:E,options:S={}}){let N=this.instances.get(E);if(!N&&this.component&&(N=this.component.instanceFactory(this.container,{instanceIdentifier:(oe=E,oe===C?void 0:oe),options:S}),this.instances.set(E,N),this.instancesOptions.set(E,S),this.invokeOnInitCallbacks(N,E),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,E,N)}catch{}var oe;return N||null}normalizeInstanceIdentifier(E=C){return this.component?this.component.multipleInstances?E:C:E}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class se{constructor(E){this.name=E,this.providers=new Map}addComponent(E){const S=this.getProvider(E.name);if(S.isComponentSet())throw new Error(`Component ${E.name} has already been registered with ${this.name}`);S.setComponent(E)}addOrOverwriteComponent(E){this.getProvider(E.name).isComponentSet()&&this.providers.delete(E.name),this.addComponent(E)}getProvider(E){if(this.providers.has(E))return this.providers.get(E);const S=new B(E,this);return this.providers.set(E,S),S}getProviders(){return Array.from(this.providers.values())}}},7935:(xe,pe,P)=>{P.d(pe,{A:()=>c.A});var c=P(90);c.A.registerVersion("firebase","10.10.0","app-compat")},2438:(xe,pe,P)=>{P.r(pe);var c=P(467),R=P(90),l=P(5845),C=P(1076),me=(P(8891),P(3889),P(1362));function se(){return window}function S(){return S=(0,c.A)(function*(a,u,s){var m;const{BuildInfo:p}=se();(0,l.au)(u.sessionId,"AuthEvent did not contain a session ID");const h=yield function L(a){return ee.apply(this,arguments)}(u.sessionId),I={};return(0,l.av)()?I.ibi=p.packageName:(0,l.aw)()?I.apn=p.packageName:(0,l.ax)(a,"operation-not-supported-in-this-environment"),p.displayName&&(I.appDisplayName=p.displayName),I.sessionId=h,(0,l.ay)(a,s,u.type,void 0,null!==(m=u.eventId)&&void 0!==m?m:void 0,I)}),S.apply(this,arguments)}function K(){return(K=(0,c.A)(function*(a){const{BuildInfo:u}=se(),s={};(0,l.av)()?s.iosBundleId=u.packageName:(0,l.aw)()?s.androidPackageName=u.packageName:(0,l.ax)(a,"operation-not-supported-in-this-environment"),yield(0,l.az)(a,s)})).apply(this,arguments)}function ue(){return(ue=(0,c.A)(function*(a,u,s){const{cordova:m}=se();let p=()=>{};try{yield new Promise((h,I)=>{let b=null;function U(){var V;h();const ie=null===(V=m.plugins.browsertab)||void 0===V?void 0:V.close;"function"==typeof ie&&ie(),"function"==typeof s?.close&&s.close()}function w(){b||(b=window.setTimeout(()=>{I((0,l.aB)(a,"redirect-cancelled-by-user"))},2e3))}function G(){"visible"===document?.visibilityState&&w()}u.addPassiveListener(U),document.addEventListener("resume",w,!1),(0,l.aw)()&&document.addEventListener("visibilitychange",G,!1),p=()=>{u.removePassiveListener(U),document.removeEventListener("resume",w,!1),document.removeEventListener("visibilitychange",G,!1),b&&window.clearTimeout(b)}})}finally{p()}})).apply(this,arguments)}function ee(){return(ee=(0,c.A)(function*(a){const u=function Q(a){if((0,l.au)(/[0-9a-zA-Z]+/.test(a),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(a);const u=new ArrayBuffer(a.length),s=new Uint8Array(u);for(let m=0;m<a.length;m++)s[m]=a.charCodeAt(m);return s}(a),s=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(s)).map(p=>p.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Z extends l.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInialized(),this.passiveListeners.forEach(s=>s(u)),super.onEvent(u)}initialized(){var u=this;return(0,c.A)(function*(){yield u.initPromise})()}}function A(a){return y.apply(this,arguments)}function y(){return(y=(0,c.A)(function*(a){const u=yield q()._get(j(a));return u&&(yield q()._remove(j(a))),u})).apply(this,arguments)}function x(){const a=[];for(let s=0;s<20;s++){const m=Math.floor(62*Math.random());a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(m))}return a.join("")}function q(){return(0,l.aE)(l.b)}function j(a){return(0,l.aF)("authEvent",a.config.apiKey,a.name)}function z(a){if(!a?.includes("?"))return{};const[u,...s]=a.split("?");return(0,C.I9)(s.join("?"))}const M=class k{constructor(){this._redirectPersistence=l.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=l.aG,this._overrideRedirectResult=l.aH}_initialize(u){var s=this;return(0,c.A)(function*(){const m=u._key();let p=s.eventManagers.get(m);return p||(p=new Z(u),s.eventManagers.set(m,p),s.attachCallbackListeners(u,p)),p})()}_openPopup(u){(0,l.ax)(u,"operation-not-supported-in-this-environment")}_openRedirect(u,s,m,p){var h=this;return(0,c.A)(function*(){!function ve(a){var u,s,m,p,h,I,b,U,w,G;const V=se();(0,l.aC)("function"==typeof(null===(u=V?.universalLinks)||void 0===u?void 0:u.subscribe),a,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,l.aC)(typeof(null===(s=V?.BuildInfo)||void 0===s?void 0:s.packageName)<"u",a,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,l.aC)("function"==typeof(null===(h=null===(p=null===(m=V?.cordova)||void 0===m?void 0:m.plugins)||void 0===p?void 0:p.browsertab)||void 0===h?void 0:h.openUrl),a,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,l.aC)("function"==typeof(null===(U=null===(b=null===(I=V?.cordova)||void 0===I?void 0:I.plugins)||void 0===b?void 0:b.browsertab)||void 0===U?void 0:U.isAvailable),a,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,l.aC)("function"==typeof(null===(G=null===(w=V?.cordova)||void 0===w?void 0:w.InAppBrowser)||void 0===G?void 0:G.open),a,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const I=yield h._initialize(u);yield I.initialized(),I.resetRedirect(),(0,l.aI)(),yield h._originValidation(u);const b=function ae(a,u,s=null){return{type:u,eventId:s,urlResponse:null,sessionId:x(),postBody:null,tenantId:a.tenantId,error:(0,l.aB)(a,"no-auth-event")}}(u,m,p);yield function O(a,u){return q()._set(j(a),u)}(u,b);const U=yield function E(a,u,s){return S.apply(this,arguments)}(u,b,s),w=yield function X(a){const{cordova:u}=se();return new Promise(s=>{u.plugins.browsertab.isAvailable(m=>{let p=null;m?u.plugins.browsertab.openUrl(a):p=u.InAppBrowser.open(a,(0,l.aA)()?"_blank":"_system","location=yes"),s(p)})})}(U);return function ge(a,u,s){return ue.apply(this,arguments)}(u,I,w)})()}_isIframeWebStorageSupported(u,s){throw new Error("Method not implemented.")}_originValidation(u){const s=u._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=function N(a){return K.apply(this,arguments)}(u)),this.originValidationPromises[s]}attachCallbackListeners(u,s){const{universalLinks:m,handleOpenURL:p,BuildInfo:h}=se(),I=setTimeout((0,c.A)(function*(){yield A(u),s.onEvent(J())}),500),b=function(){var G=(0,c.A)(function*(V){clearTimeout(I);const ie=yield A(u);let Be=null;ie&&V?.url&&(Be=function _(a,u){var s,m;const p=function $(a){const u=z(a),s=u.link?decodeURIComponent(u.link):void 0,m=z(s).link,p=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return z(p).link||p||m||s||a}(u);if(p.includes("/__/auth/callback")){const h=z(p),I=h.firebaseError?function ce(a){try{return JSON.parse(a)}catch{return null}}(decodeURIComponent(h.firebaseError)):null,b=null===(m=null===(s=I?.code)||void 0===s?void 0:s.split("auth/"))||void 0===m?void 0:m[1],U=b?(0,l.aB)(b):null;return U?{type:a.type,eventId:a.eventId,tenantId:a.tenantId,error:U,urlResponse:null,sessionId:null,postBody:null}:{type:a.type,eventId:a.eventId,tenantId:a.tenantId,sessionId:a.sessionId,urlResponse:p,postBody:null}}return null}(ie,V.url)),s.onEvent(Be||J())});return function(ie){return G.apply(this,arguments)}}();typeof m<"u"&&"function"==typeof m.subscribe&&m.subscribe(null,b);const U=p,w=`${h.packageName.toLowerCase()}://`;se().handleOpenURL=function(){var G=(0,c.A)(function*(V){if(V.toLowerCase().startsWith(w)&&b({url:V}),"function"==typeof U)try{U(V)}catch(ie){console.error(ie)}});return function(V){return G.apply(this,arguments)}}()}};function J(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,l.aB)("no-auth-event")}}function Oe(){var a;return(null===(a=self?.location)||void 0===a?void 0:a.protocol)||null}function Re(a=(0,C.ZQ)()){return!("file:"!==Oe()&&"ionic:"!==Oe()&&"capacitor:"!==Oe()||!a.toLowerCase().match(/iphone|ipad|ipod|android/))}function he(){try{const a=self.localStorage,u=l.aN();if(a)return a.setItem(u,"1"),a.removeItem(u),!function Ce(a=(0,C.ZQ)()){return function de(){return(0,C.lT)()&&11===document?.documentMode}()||function we(a=(0,C.ZQ)()){return/Edge\/\d+/.test(a)}(a)}()||(0,C.zW)()}catch{return ye()&&(0,C.zW)()}return!1}function ye(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ee(){return(function Ze(){return"http:"===Oe()||"https:"===Oe()}()||(0,C.sr)()||Re())&&!function Te(){return(0,C.lV)()||(0,C.Ll)()}()&&he()&&!ye()}function Qe(){return Re()&&typeof document<"u"}function Xe(){return(Xe=(0,c.A)(function*(){return!!Qe()&&new Promise(a=>{const u=setTimeout(()=>{a(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),a(!0)})})})).apply(this,arguments)}const Ae={LOCAL:"local",NONE:"none",SESSION:"session"},Me=l.aC,Se="persistence";function et(a){return je.apply(this,arguments)}function je(){return(je=(0,c.A)(function*(a){yield a._initializationPromise;const u=$e(),s=l.aF(Se,a.config.apiKey,a.name);u&&u.setItem(s,a._getPersistence())})).apply(this,arguments)}function $e(){var a;try{return(null===(a=function He(){return typeof window<"u"?window:null}())||void 0===a?void 0:a.sessionStorage)||null}catch{return null}}const ze=l.aC;class Le{constructor(){this.browserResolver=l.aE(l.k),this.cordovaResolver=l.aE(M),this.underlyingResolver=null,this._redirectPersistence=l.a,this._completeRedirectFn=l.aG,this._overrideRedirectResult=l.aH}_initialize(u){var s=this;return(0,c.A)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,s,m,p){var h=this;return(0,c.A)(function*(){return yield h.selectUnderlyingResolver(),h.assertedUnderlyingResolver._openPopup(u,s,m,p)})()}_openRedirect(u,s,m,p){var h=this;return(0,c.A)(function*(){return yield h.selectUnderlyingResolver(),h.assertedUnderlyingResolver._openRedirect(u,s,m,p)})()}_isIframeWebStorageSupported(u,s){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,s)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return Qe()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ze(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,c.A)(function*(){if(u.underlyingResolver)return;const s=yield function at(){return Xe.apply(this,arguments)}();u.underlyingResolver=s?u.cordovaResolver:u.browserResolver})()}}function We(a){return a.unwrap()}function Ne(a){return ut(a)}function ut(a){const{_tokenResponse:u}=a instanceof C.g?a.customData:a;if(!u)return null;if(!(a instanceof C.g)&&"temporaryProof"in u&&"phoneNumber"in u)return l.P.credentialFromResult(a);const s=u.providerId;if(!s||s===l.p.PASSWORD)return null;let m;switch(s){case l.p.GOOGLE:m=l.X;break;case l.p.FACEBOOK:m=l.W;break;case l.p.GITHUB:m=l.Y;break;case l.p.TWITTER:m=l.$;break;default:const{oauthIdToken:p,oauthAccessToken:h,oauthTokenSecret:I,pendingToken:b,nonce:U}=u;return h||I||p||b?b?s.startsWith("saml.")?l.aQ._create(s,b):l.N._fromParams({providerId:s,signInMethod:s,pendingToken:b,idToken:p,accessToken:h}):new l.Z(s).credential({idToken:p,accessToken:h,rawNonce:U}):null}return a instanceof C.g?m.credentialFromError(a):m.credentialFromResult(a)}function fe(a,u){return u.catch(s=>{throw s instanceof C.g&&function nt(a,u){var s;const m=null===(s=u.customData)||void 0===s?void 0:s._tokenResponse;if("auth/multi-factor-auth-required"===u?.code)u.resolver=new ct(a,l.as(a,u));else if(m){const p=ut(u),h=u;p&&(h.credential=p,h.tenantId=m.tenantId||void 0,h.email=m.email||void 0,h.phoneNumber=m.phoneNumber||void 0)}}(a,s),s}).then(s=>{const p=s.user;return{operationType:s.operationType,credential:Ne(s),additionalUserInfo:l.aq(s),user:Pe.getOrCreate(p)}})}function qe(a,u){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,c.A)(function*(a,u){const s=yield u;return{verificationId:s.verificationId,confirm:m=>fe(a,s.confirm(m))}})).apply(this,arguments)}class ct{constructor(u,s){this.resolver=s,this.auth=function Ge(a){return a.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return fe(We(this.auth),this.resolver.resolveSignIn(u))}}class Pe{constructor(u){this._delegate=u,this.multiFactor=l.at(u)}static getOrCreate(u){return Pe.USER_MAP.has(u)||Pe.USER_MAP.set(u,new Pe(u)),Pe.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var s=this;return(0,c.A)(function*(){return fe(s.auth,l.a2(s._delegate,u))})()}linkWithPhoneNumber(u,s){var m=this;return(0,c.A)(function*(){return qe(m.auth,l.l(m._delegate,u,s))})()}linkWithPopup(u){var s=this;return(0,c.A)(function*(){return fe(s.auth,l.d(s._delegate,u,Le))})()}linkWithRedirect(u){var s=this;return(0,c.A)(function*(){return yield et(l.aJ(s.auth)),l.g(s._delegate,u,Le)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var s=this;return(0,c.A)(function*(){return fe(s.auth,l.a3(s._delegate,u))})()}reauthenticateWithPhoneNumber(u,s){return qe(this.auth,l.r(this._delegate,u,s))}reauthenticateWithPopup(u){return fe(this.auth,l.e(this._delegate,u,Le))}reauthenticateWithRedirect(u){var s=this;return(0,c.A)(function*(){return yield et(l.aJ(s.auth)),l.h(s._delegate,u,Le)})()}sendEmailVerification(u){return l.ag(this._delegate,u)}unlink(u){var s=this;return(0,c.A)(function*(){return yield l.ap(s._delegate,u),s})()}updateEmail(u){return l.al(this._delegate,u)}updatePassword(u){return l.am(this._delegate,u)}updatePhoneNumber(u){return l.u(this._delegate,u)}updateProfile(u){return l.ak(this._delegate,u)}verifyBeforeUpdateEmail(u,s){return l.ah(this._delegate,u,s)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Pe.USER_MAP=new WeakMap;const ke=l.aC;let Fe=(()=>{class a{constructor(s,m){if(this.app=s,m.isInitialized())return this._delegate=m.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:p}=s.options;ke(p,"invalid-api-key",{appName:s.name}),ke(p,"invalid-api-key",{appName:s.name});const h=typeof window<"u"?Le:void 0;this._delegate=m.initialize({options:{persistence:Ye(p,s.name),popupRedirectResolver:h}}),this._delegate._updateErrorMap(l.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Pe.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(s){this._delegate.languageCode=s}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(s){this._delegate.tenantId=s}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(s,m){l.K(this._delegate,s,m)}applyActionCode(s){return l.a7(this._delegate,s)}checkActionCode(s){return l.a8(this._delegate,s)}confirmPasswordReset(s,m){return l.a6(this._delegate,s,m)}createUserWithEmailAndPassword(s,m){var p=this;return(0,c.A)(function*(){return fe(p._delegate,l.aa(p._delegate,s,m))})()}fetchProvidersForEmail(s){return this.fetchSignInMethodsForEmail(s)}fetchSignInMethodsForEmail(s){return l.af(this._delegate,s)}isSignInWithEmailLink(s){return l.ad(this._delegate,s)}getRedirectResult(){var s=this;return(0,c.A)(function*(){ke(Ee(),s._delegate,"operation-not-supported-in-this-environment");const m=yield l.j(s._delegate,Le);return m?fe(s._delegate,Promise.resolve(m)):{credential:null,user:null}})()}addFrameworkForLogging(s){!function re(a,u){(0,l.aJ)(a)._logFramework(u)}(this._delegate,s)}onAuthStateChanged(s,m,p){const{next:h,error:I,complete:b}=rt(s,m,p);return this._delegate.onAuthStateChanged(h,I,b)}onIdTokenChanged(s,m,p){const{next:h,error:I,complete:b}=rt(s,m,p);return this._delegate.onIdTokenChanged(h,I,b)}sendSignInLinkToEmail(s,m){return l.ac(this._delegate,s,m)}sendPasswordResetEmail(s,m){return l.a5(this._delegate,s,m||void 0)}setPersistence(s){var m=this;return(0,c.A)(function*(){let p;switch(function Ke(a,u){Me(Object.values(Ae).includes(u),a,"invalid-persistence-type"),(0,C.lV)()?Me(u!==Ae.SESSION,a,"unsupported-persistence-type"):(0,C.Ll)()?Me(u===Ae.NONE,a,"unsupported-persistence-type"):ye()?Me(u===Ae.NONE||u===Ae.LOCAL&&(0,C.zW)(),a,"unsupported-persistence-type"):Me(u===Ae.NONE||he(),a,"unsupported-persistence-type")}(m._delegate,s),s){case Ae.SESSION:p=l.a;break;case Ae.LOCAL:p=(yield l.aE(l.i)._isAvailable())?l.i:l.b;break;case Ae.NONE:p=l.U;break;default:return l.ax("argument-error",{appName:m._delegate.name})}return m._delegate.setPersistence(p)})()}signInAndRetrieveDataWithCredential(s){return this.signInWithCredential(s)}signInAnonymously(){return fe(this._delegate,l.a0(this._delegate))}signInWithCredential(s){return fe(this._delegate,l.a1(this._delegate,s))}signInWithCustomToken(s){return fe(this._delegate,l.a4(this._delegate,s))}signInWithEmailAndPassword(s,m){return fe(this._delegate,l.ab(this._delegate,s,m))}signInWithEmailLink(s,m){return fe(this._delegate,l.ae(this._delegate,s,m))}signInWithPhoneNumber(s,m){return qe(this._delegate,l.s(this._delegate,s,m))}signInWithPopup(s){var m=this;return(0,c.A)(function*(){return ke(Ee(),m._delegate,"operation-not-supported-in-this-environment"),fe(m._delegate,l.c(m._delegate,s,Le))})()}signInWithRedirect(s){var m=this;return(0,c.A)(function*(){return ke(Ee(),m._delegate,"operation-not-supported-in-this-environment"),yield et(m._delegate),l.f(m._delegate,s,Le)})()}updateCurrentUser(s){return this._delegate.updateCurrentUser(s)}verifyPasswordResetCode(s){return l.a9(this._delegate,s)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return a.Persistence=Ae,a})();function rt(a,u,s){let m=a;"function"!=typeof a&&({next:m,error:u,complete:s}=a);const p=m;return{next:I=>p(I&&Pe.getOrCreate(I)),error:u,complete:s}}function Ye(a,u){const s=function tt(a,u){const s=$e();if(!s)return[];const m=l.aF(Se,a,u);switch(s.getItem(m)){case Ae.NONE:return[l.U];case Ae.LOCAL:return[l.i,l.a];case Ae.SESSION:return[l.a];default:return[]}}(a,u);if(typeof self<"u"&&!s.includes(l.i)&&s.push(l.i),typeof window<"u")for(const m of[l.b,l.a])s.includes(m)||s.push(m);return s.includes(l.U)||s.push(l.U),s}class it{constructor(){this.providerId="phone",this._delegate=new l.P(We(R.A.auth()))}static credential(u,s){return l.P.credential(u,s)}verifyPhoneNumber(u,s){return this._delegate.verifyPhoneNumber(u,s)}unwrap(){return this._delegate}}it.PHONE_SIGN_IN_METHOD=l.P.PHONE_SIGN_IN_METHOD,it.PROVIDER_ID=l.P.PROVIDER_ID;const lt=l.aC;class ht{constructor(u,s,m=R.A.app()){var p;lt(null===(p=m.options)||void 0===p?void 0:p.apiKey,"invalid-api-key",{appName:m.name}),this._delegate=new l.R(m.auth(),u,s),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function d(a){a.INTERNAL.registerComponent(new me.uA("auth-compat",u=>{const s=u.getProvider("app-compat").getImmediate(),m=u.getProvider("auth");return new Fe(s,m)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:l.A.EMAIL_SIGNIN,PASSWORD_RESET:l.A.PASSWORD_RESET,RECOVER_EMAIL:l.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:l.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:l.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:l.A.VERIFY_EMAIL}},EmailAuthProvider:l.V,FacebookAuthProvider:l.W,GithubAuthProvider:l.Y,GoogleAuthProvider:l.X,OAuthProvider:l.Z,SAMLAuthProvider:l._,PhoneAuthProvider:it,PhoneMultiFactorGenerator:l.m,RecaptchaVerifier:ht,TwitterAuthProvider:l.$,Auth:Fe,AuthCredential:l.L,Error:C.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),a.registerVersion("@firebase/auth-compat","0.5.5")}(R.A)},6749:(xe,pe,P)=>{P.d(pe,{MR:()=>H,P2:()=>Q});var c=P(467);const R=(y,_)=>_.some(x=>y instanceof x);let l,C;const me=new WeakMap,se=new WeakMap,oe=new WeakMap,E=new WeakMap,S=new WeakMap;let X={get(y,_,x){if(y instanceof IDBTransaction){if("done"===_)return se.get(y);if("objectStoreNames"===_)return y.objectStoreNames||oe.get(y);if("store"===_)return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return L(y[_])},set:(y,_,x)=>(y[_]=x,!0),has:(y,_)=>y instanceof IDBTransaction&&("done"===_||"store"===_)||_ in y};function ve(y){return"function"==typeof y?function ue(y){return y!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _e(){return C||(C=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(y)?function(..._){return y.apply(ee(this),_),L(me.get(this))}:function(..._){return L(y.apply(ee(this),_))}:function(_,...x){const q=y.call(ee(this),_,...x);return oe.set(q,_.sort?_.sort():[_]),L(q)}}(y):(y instanceof IDBTransaction&&function K(y){if(se.has(y))return;const _=new Promise((x,q)=>{const j=()=>{y.removeEventListener("complete",ce),y.removeEventListener("error",$),y.removeEventListener("abort",$)},ce=()=>{x(),j()},$=()=>{q(y.error||new DOMException("AbortError","AbortError")),j()};y.addEventListener("complete",ce),y.addEventListener("error",$),y.addEventListener("abort",$)});se.set(y,_)}(y),R(y,function B(){return l||(l=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(y,X):y)}function L(y){if(y instanceof IDBRequest)return function N(y){const _=new Promise((x,q)=>{const j=()=>{y.removeEventListener("success",ce),y.removeEventListener("error",$)},ce=()=>{x(L(y.result)),j()},$=()=>{q(y.error),j()};y.addEventListener("success",ce),y.addEventListener("error",$)});return _.then(x=>{x instanceof IDBCursor&&me.set(x,y)}).catch(()=>{}),S.set(_,y),_}(y);if(E.has(y))return E.get(y);const _=ve(y);return _!==y&&(E.set(y,_),S.set(_,y)),_}const ee=y=>S.get(y);function Q(y,_,{blocked:x,upgrade:q,blocking:j,terminated:ce}={}){const $=indexedDB.open(y,_),z=L($);return q&&$.addEventListener("upgradeneeded",D=>{q(L($.result),D.oldVersion,D.newVersion,L($.transaction),D)}),x&&$.addEventListener("blocked",D=>x(D.oldVersion,D.newVersion,D)),z.then(D=>{ce&&D.addEventListener("close",()=>ce()),j&&D.addEventListener("versionchange",k=>j(k.oldVersion,k.newVersion,k))}).catch(()=>{}),z}function H(y,{blocked:_}={}){const x=indexedDB.deleteDatabase(y);return _&&x.addEventListener("blocked",q=>_(q.oldVersion,q)),L(x).then(()=>{})}const Z=["get","getKey","getAll","getAllKeys","count"],ae=["put","add","delete","clear"],O=new Map;function A(y,_){if(!(y instanceof IDBDatabase)||_ in y||"string"!=typeof _)return;if(O.get(_))return O.get(_);const x=_.replace(/FromIndex$/,""),q=_!==x,j=ae.includes(x);if(!(x in(q?IDBIndex:IDBObjectStore).prototype)||!j&&!Z.includes(x))return;const ce=function(){var $=(0,c.A)(function*(z,...D){const k=this.transaction(z,j?"readwrite":"readonly");let M=k.store;return q&&(M=M.index(D.shift())),(yield Promise.all([M[x](...D),j&&k.done]))[0]});return function(D){return $.apply(this,arguments)}}();return O.set(_,ce),ce}!function ge(y){X=y(X)}(y=>({...y,get:(_,x,q)=>A(_,x)||y.get(_,x,q),has:(_,x)=>!!A(_,x)||y.has(_,x)}))}}]);