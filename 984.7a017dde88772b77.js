"use strict";(self.webpackChunkKaguraGithubPages=self.webpackChunkKaguraGithubPages||[]).push([[984],{5140:(Q,E,g)=>{g.d(E,{M:()=>P});var f=g(4496),w=g(6716);let P=(()=>{class e{after=new f._w7;constructor(){(0,w.qe)("AfterIfDirective")}ngAfterContentInit(){(0,w.qe)("AfterIfDirective.ngAfterContentInit()"),setTimeout(()=>this.after.next())}static \u0275fac=function(T){return new(T||e)};static \u0275dir=f.Sc5({type:e,selectors:[["","appAfterIf",""]],outputs:{after:"appAfterIf"}})}return e})()},984:(Q,E,g)=>{g.r(E),g.d(E,{GitweeModule:()=>yt});var f=g(1368),w=g(4192),P=g(1528),e=g(4496),d=g(9684),x=g(5657),T=g(6700),b=g(6040),X=g(3412),N=g(2700),A=g(800),Z=g(1496),U=g(3992),C=g(4704),k=g(8476),v=g(3616),F=g(4e3),ee=g(208);class K{entries;timelineUrl;navigationFrom="click"}class G extends K{urlLink;title;indexUrl;updated;updatedAt}class te extends G{}class j{key;urlKey;urlLink;monthPage;monthIndex;isSelected=!1;count;page$;isNationalHoliday$;nationalHoliday$}class ne extends G{urlPrefix;lastDays;firstWeekday;days;dayEntries={}}class ie{key;urlKey;urlLink;yearPage;yearIndex;count;page$}class ae extends G{urlPrefix;monthEntries=[]}class re{key;urlKey;urlLink;topPage;count;page$}class oe extends G{urlPrefix;yearEntries=[]}class se{ns;category;navigators;fragment}class le extends G{tagkey}var u=g(6716),O=g(6148),z=g(256),_=g(7368);function D(a,l,t="0"){const n=`${a}`;return n.length>=l?n:n.padStart(l,t)}function R(a){const l=+a;return Number.isNaN(l)?null:l}var B=g(7028);let I=(()=>{class a{dom;http;holidays={};isInitialized=!1;constructor(t,n){this.dom=t,this.http=n,(0,u.qe)("IndexService.constructor()")}initialized(){this.isInitialized=!0}getNavigationFrom(t){return t?t.isReload?"reload":"url":"click"}indexRepPrefix$(t){const i=this.dom.getBaseHref()+u.OU.GITWEE_DATA;return t.data?t.data.pipe((0,C.k)(r=>i+"/"+(r?.gitweeNamespace||""))):(0,N.of)(i)}buildConfigUrl$(t){return this.indexRepPrefix$(t).pipe((0,C.k)(n=>`${n}/config/main.json`))}buildTagIndex$(t,n){return this.indexRepPrefix$(t).pipe((0,C.k)(i=>i+"/tag/"+(n?`${n}/`:"")+"index.json"))}fetchConfig$(t){return this.buildConfigUrl$(t).pipe((0,_.G)(i=>this.http.fetchGhJson(i)))}readYearHoliday$(t){return this.http.fetchJson(`https://holidays-jp.github.io/api/v1/${t}/date.json`).pipe((0,C.k)(n=>{const i={};for(const r in n){const o=n[r],s={date:new Date(r),name:o};let c=i[s.date.getMonth()];if(c||(c={},i[s.date.getMonth()]=c),c[s.date.getDate()])throw new Error(`Not a valid date entry at ${s.date}`);c[s.date.getDate()]=s}return i}),(0,k.C)(1))}getNationalHoliday$(t){const n=t.getFullYear();let i=this.holidays[n];return i||(i=this.readYearHoliday$(n),this.holidays[n]=i),i.pipe((0,C.k)(r=>{if(!(t.getMonth()in r))return null;const o=r[t.getMonth()];return t.getDate()in o?o[t.getDate()].name:null}))}isNationalHoliday$(t){return this.getNationalHoliday$(t).pipe((0,C.k)(n=>null!==n))}buildIndex$(t,n,i,r){return this.indexRepPrefix$(t).pipe((0,C.k)(o=>o+"/date/"+(n?`${n}/`:"")+(i?`${i}/`:"")+(r?`${r}/`:"")+"index.json"))}fetchWeeklyIndex$(t){return this.http.fetchGhJson(t).pipe()}fetchTagIndexInternal$(t,n){return this.http.fetchGhJson(t).pipe((0,C.k)(i=>{const r=new le;return r.indexUrl=t,r.title=i.title,r.entries=i.defaultEntries,r.timelineUrl=i.fuzzyIndexUrl,r.tagkey=n.tagkey,r.urlLink=`tag/${n.tagkey}`,r.navigationFrom=this.getNavigationFrom(n),r.updated=i.updated,r}))}fetchTagIndex$(t,n){return this.buildTagIndex$(t,n.tagkey).pipe((0,_.G)(r=>this.fetchTagIndexInternal$(r,n)))}fetchTagListInternal$(t){return this.http.fetchGhJson(t).pipe()}fetchTagList$(t){return this.buildTagIndex$(t).pipe((0,_.G)(i=>this.fetchTagListInternal$(i)))}fetchIndexInternal$(t,n,i){return this.http.fetchGhJson(n).pipe((0,C.k)(r=>{const o=new oe;o.indexUrl=n,o.urlPrefix="timeline/",o.urlLink="",o.entries=r.defaultEntries,o.title=r.title,o.timelineUrl=r.fuzzyIndexUrl,o.navigationFrom=this.getNavigationFrom(i),o.updated=r.updated;for(const s in r.values){const c=Number(s),h=r.values[s],p=new re;p.key=c,p.topPage=o,p.urlKey=D(c,4),p.urlLink=`${o.urlPrefix}${p.urlKey}`,p.count=h.count,p.page$=null,i?.year===c&&(p.page$=this.openYearPage$(t,p,i)),o.yearEntries.unshift(p)}return o}))}fetchIndex$(t,n){return this.buildIndex$(t).pipe((0,_.G)(r=>this.fetchIndexInternal$(t,r,n)))}openYearPageInternal$(t,n,i,r){return this.http.fetchGhJson(n).pipe((0,C.k)(o=>{const s=new ae;s.urlLink=i.urlLink,s.urlPrefix=`${s.urlLink}/`,s.entries=o.defaultEntries,s.title=o.title,s.timelineUrl=o.fuzzyIndexUrl,s.navigationFrom=this.getNavigationFrom(r),s.updated=o.updated;for(const c in o.values){const h=Number(c),p=o.values[c],m=new ie;m.key=h,m.urlKey=D(h,2),m.urlLink=`${s.urlPrefix}${m.urlKey}`,m.yearPage=s,m.yearIndex=i,m.count=p.count,m.page$=null,r?.year===i.key&&r?.month===h&&(m.page$=this.openMonthPage$(t,m,r)),s.monthEntries.unshift(m)}return s}))}openYearPage$(t,n,i){return this.buildIndex$(t,n.urlKey).pipe((0,_.G)(o=>this.openYearPageInternal$(t,o,n,i)))}openMonthPageInternal$(t,n,i,r){const o=i.yearIndex;return this.http.fetchGhJson(n).pipe((0,C.k)(s=>{const c=new ne;c.indexUrl=n,c.urlLink=i.urlLink,c.urlPrefix=`${c.urlLink}/`,c.lastDays=s.lastMonthDays,c.firstWeekday=s.firstWeekday,c.days=s.days,c.entries=s.defaultEntries,c.title=s.title,c.timelineUrl=s.fuzzyIndexUrl,c.navigationFrom=this.getNavigationFrom(r),c.updated=s.updated;for(const h in s.values){const p=Number(h),m=s.values[h],y=new j,$=new Date(Number(o.key),Number(i.key)-1,p);y.key=p,y.urlKey=D(p,2),y.urlLink=`${c.urlPrefix}${y.urlKey}`,y.monthPage=c,y.monthIndex=i,y.isSelected=!1,y.count=m.count,y.page$=null,y.isNationalHoliday$=this.isNationalHoliday$($),y.nationalHoliday$=this.getNationalHoliday$($),r?.year===o.key&&r?.month===i.key&&r?.day===p&&(y.isSelected=!0,y.page$=this.openDayIndexPage$(t,y.monthIndex,y,r)),c.dayEntries[p]=y}return c}))}openMonthPage$(t,n,i){return this.buildIndex$(t,n.yearIndex.urlKey,n.urlKey).pipe((0,_.G)(s=>this.openMonthPageInternal$(t,s,n,i)))}openDayIndexPageInternal$(t,n,i){return this.http.fetchGhJson(t).pipe((0,C.k)(r=>{const o=new te;return o.indexUrl=t,o.urlLink=n.urlLink,o.title=r.title,o.entries=r.entries,o.navigationFrom=this.getNavigationFrom(i),o.updated=r.updated,o}))}openDayIndexPage$(t,n,i,r){return this.buildIndex$(t,n.yearIndex.urlKey,n.urlKey,i.urlKey).pipe((0,_.G)(s=>this.openDayIndexPageInternal$(s,i,r)))}static \u0275fac=function(n){return new(n||a)(e.CoB(O.O),e.CoB(B.hD))};static \u0275prov=e.wxM({token:a,factory:a.\u0275fac})}return a})();var ce=g(8164),ue=g(4848),M=g(5140),J=g(4680),ge=g(2392),he=g(288),L=g(6260),pe=g(1092);function me(a,l){1&a&&(e.SAx(0),e.OEk(1,","),e.k70())}function fe(a,l){if(1&a&&(e.SAx(0),e.I0R(1,"a",2),e.OEk(2),e.C$Y(),e.yuY(3,me,2,0,"ng-container",0),e.k70()),2&a){const t=l.$implicit,n=l.last;e.yG2(),e.CI5("routerLink","./tag/",t.tagkey,""),e.yG2(),e.cNF(t.title),e.yG2(),e.E7m("ngIf",!n)}}function ye(a,l){if(1&a&&(e.SAx(0),e.wR5(1,"hr"),e.I0R(2,"p"),e.OEk(3,"Tag: "),e.yuY(4,fe,4,3,"ng-container",1),e.C$Y(),e.k70()),2&a){const t=e.GaO();e.yG2(4),e.E7m("ngForOf",t.tags)}}let Ce=(()=>{class a{tags;constructor(){}ngOnInit(){(0,u.qe)("TagFooterComponent.OnInit()")}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=e.In1({type:a,selectors:[["gitwee-tag-footer"]],inputs:{tags:"tags"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"p-1",3,"routerLink"]],template:function(n,i){1&n&&e.yuY(0,ye,5,1,"ng-container",0),2&n&&e.E7m("ngIf",i.tags&&i.tags.length>0)},dependencies:[f.ay,f.u_,w.ER]})}return a})();function ve(a,l){if(1&a&&e.OEk(0),2&a){const t=e.GaO().$implicit;e.cNF(t.title)}}function we(a,l){if(1&a&&(e.I0R(0,"a",16),e.OEk(1),e.C$Y()),2&a){const t=e.GaO().$implicit;e.E7m("routerLink",t.anchorLink)("fragment",t.anchorId),e.yG2(),e.cNF(t.title)}}function _e(a,l){if(1&a){const t=e.KQA();e.I0R(0,"button",17),e.qCj("click",function(){e.usT(t);const i=e.GaO().$implicit,r=e.GaO();return e.CGJ(r.toggleCensored(i))}),e.wR5(1,"img",18),e.C$Y()}if(2&a){const t=e.GaO().$implicit;e.e0N("data-bs-target","#gitweeTimelineItem-",t.anchorId,"")("aria-controls","#gitweeTimelineItem-",t.anchorId,""),e.yG2(),e.m4B("transform",t.isOpened?"rotate(-90deg)":"none"),e.E7m("@censorButtonTrigger",t.isOpened)}}function xe(a,l){if(1&a){const t=e.KQA();e.I0R(0,"div",19,20),e.qCj("appAfterIf",function(){e.usT(t);const i=e.Gew(1);e.GaO();const r=e.Gew(1),o=e.GaO();return e.CGJ(o.computeBottomFade(r,i))}),e.I0R(2,"span",21)(3,"a",22),e.OEk(4,"\u7d9a\u304d\u3092\u8aad\u3080"),e.C$Y()()()}if(2&a){const t=e.GaO().$implicit;e.m4B("bottom",t.tags.length>0?140:80,"px"),e.yG2(3),e._6D("routerLink",t.anchorLink)}}function Ie(a,l){if(1&a&&e.wR5(0,"gitwee-tag-footer",23),2&a){const t=e.GaO().$implicit;e.E7m("tags",t.tags)}}function $e(a,l){if(1&a){const t=e.KQA();e.I0R(0,"div",2,3)(2,"div",4)(3,"div",5),e.yuY(4,ve,1,1,"ng-template",null,6,e.gJz)(6,we,2,3,"a",7),e.C$Y(),e.yuY(7,_e,2,5,"button",8),e.C$Y(),e.I0R(8,"div",9)(9,"app-page-path",10,11),e.qCj("loadPageBody",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.onPageBodyRetrieved())})("fatalError",function(i){const o=e.usT(t).$implicit,s=e.GaO();return e.CGJ(s.onFatalError(o,i))})("loadPageJson",function(i){const r=e.usT(t),o=r.$implicit,s=r.last,c=e.GaO();return e.CGJ(c.onLoaded(o,i,s))})("loadError",function(i){const o=e.usT(t).$implicit,s=e.GaO();return e.CGJ(s.onErrorDraw(o,i))}),e.C$Y(),e.yuY(11,xe,5,3,"div",12)(12,Ie,1,1,"gitwee-tag-footer",13),e.C$Y(),e.I0R(13,"div",14)(14,"small",15),e.OEk(15),e.wVc(16,"date"),e.C$Y()()()}if(2&a){const t=l.$implicit,n=e.Gew(5);e.E7m("@timelineEntryTrigger",void 0),e.yG2(3),e.CI5("id","gitweeTimelinePage-",t.anchorId,""),e.yG2(3),e.E7m("ngIf",t.anchorLink)("ngIfElse",n),e.yG2(),e.E7m("ngIf",t.isCensored),e.yG2(),e.CI5("id","gitweeTimelineItem-",t.anchorId,""),e.E7m("ngClass",t.isCensored?"collapse":"show"),e.yG2(),e.E7m("pagePath$",t.path$),e.yG2(2),e.E7m("ngIf",t.hasMain),e.yG2(),e.E7m("ngIf",t.tags),e.yG2(3),e.oRS("Updated: ",e.g7$(16,11,t.updated,"yyyy-MM-dd"),"")}}function Te(a,l){1&a&&(e.I0R(0,"div",28)(1,"div")(2,"strong"),e.OEk(3,"\u8aad\u307f\u8fbc\u307f\u5931\u6557"),e.C$Y()(),e.I0R(4,"div"),e.OEk(5,"\u6642\u9593\u3092\u958b\u3051\u3066\u304b\u3089\u518d\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002"),e.C$Y(),e.I0R(6,"button",29)(7,"span",30),e.OEk(8,"\xd7"),e.C$Y()()())}function be(a,l){1&a&&(e.I0R(0,"div"),e.wR5(1,"span",31),e.I0R(2,"span"),e.OEk(3,"Loading..."),e.C$Y()())}function ke(a,l){1&a&&(e.I0R(0,"div"),e.OEk(1,"\u3055\u3089\u306b\u8aad\u307f\u8fbc\u3080"),e.C$Y())}function Ge(a,l){if(1&a){const t=e.KQA();e.I0R(0,"div",24),e.yuY(1,Te,9,0,"div",25),e.I0R(2,"button",26),e.qCj("click",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.onClickTrackback(i.streamPrevUrl))}),e.yuY(3,be,4,0,"div",27)(4,ke,2,0,"div",27),e.C$Y()()}if(2&a){const t=e.GaO();e.yG2(),e.E7m("ngIf",t.isLoadingError),e.yG2(),e.E7m("disabled",t.isLoadingPrevious),e.yG2(),e.E7m("ngIf",t.isLoadingPrevious),e.yG2(),e.E7m("ngIf",!t.isLoadingPrevious)}}class Ee{path$;keyPath;pageRelPath;constructor(l,t,n){this.path$=l,this.keyPath=t,this.pageRelPath=n}title;anchorLink;anchorId;updated;isCensored;isOpened;hasMain;tags}class H{url;entries;constructor(l,t=[]){this.url=l,this.entries=t}reloadId;refreshEvent}class Pe{obj;key;lastAccessAt;createdAt;constructor(l,t){this.obj=l,this.key=t,this.lastAccessAt=Date.now(),this.createdAt=Date.now()}}let Ne=(()=>{class a{router;index;dom;reloader;naviEntries$;trackbackEntries$=new x.E;timeline=[];timelineEntryCache={};MaxCacheItem=200;CacheExpireMS=36e5;timelineIndices={};timelineIndicesOrdered=[];streamPrevUrl;isLoadingPrevious=!1;isLoadingError=!1;pendingAnchorNavi;backgroundFadeGradient$;destroy$=new x.E;updateTimeline(){const t=[],n=this.dom.getBaseHref();for(const i of this.timelineIndicesOrdered){const r=this.timelineIndices[i];for(const o of r.entries){const s=`${n}${u.OU.PAGE_DATA}/${o}`;let c=this.getTimelineCache(s);if(c){t.includes(c)||t.push(c);continue}const h=new he.C;h.jsonPath=s,c=new Ee((0,N.of)(h),h.jsonPath,o),t.push(c),this.putTimelineCache(c)}}this.timeline=t}constructor(t,n,i,r){this.router=t,this.index=n,this.dom=i,this.reloader=r}ngOnDestroy(){(0,u.qe)("TimelineComponent.OnDestroy()"),this.cleanupTimelineIndices(),this.destroy$.next()}ngOnInit(){(0,u.qe)("TimelineComponent.OnInit()"),this.naviEntries$.pipe((0,J.o)(500),(0,v.a)(this.destroy$)).subscribe(t=>{switch(t.navigationFrom){case"click":case"url":{this.cleanupTimelineIndices();const n=new H(null,t.entries);this.timelineIndices.default=n,this.timelineIndicesOrdered.push("default")}break;case"reload":this.timelineIndices.default.entries=t.entries;break;default:throw new Error(`Not supported navigationFrom ${t.navigationFrom}`)}this.updateTimeline(),this.timelineIndices[t.timelineUrl]||(this.streamPrevUrl=t.timelineUrl),this.isLoadingPrevious=!1}),this.trackbackEntries$.pipe((0,v.a)(this.destroy$)).subscribe(t=>{if("click"!==t.navigationFrom)throw new Error("Not a supported navigationFrom ${page.navigationFrom}");this.updateTimeline(),this.isLoadingPrevious=!1}),this.router.currentFragment$.pipe((0,v.a)(this.destroy$)).subscribe(t=>{this.pendingAnchorNavi=t})}rgb2hex(t){const n=t.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return n?`#${n.slice(1).map(r=>parseInt(r,10).toString(16).padStart(2,"0")).join("")}`:null}computeBaseColor(t){const n=window.getComputedStyle(t);return"background-color"in n?this.rgb2hex(n["background-color"])||((0,u.sJ)("Failed to parse background color for fade."),"#ffffff"):((0,u.sJ)("Failed to compute background color for fade."),"#ffffff")}computeBottomFade(t,n){(0,u.qe)("Computing fade color");const i=this.computeBaseColor(t);n.style.background=`linear-gradient(to top, ${i}ff, 90%, ${i}00)`}onFatalError(t,n){(0,u.qe)("TimelineComponent.onFatalError()",n)}onErrorDraw(t,n){(0,u.qe)("TimelineComponent.onErrorDraw()")}onLoaded(t,n,i){(0,u.qe)("TimelineComponent.onLoaded()",t,n,i),t.title=n.title,t.anchorLink=n.anchorLink,t.anchorId=n.anchorId,t.updated=new Date(n.updatedAt||n.updated),t.isCensored=!!n.isDefaultClosed,t.isOpened=!t.isCensored,t.hasMain=n.hasMain||!1,t.tags=n.tags}toggleCensored(t){t.isOpened=!t.isOpened}onPageBodyRetrieved(){this.pendingAnchorNavi&&this.dom.scrollIntoView(`gitweeTimelinePage-${this.pendingAnchorNavi}`)&&(this.pendingAnchorNavi=null)}cleanupIndexItem(t){t.reloadId&&(this.reloader.unregister(t.reloadId),delete t.reloadId),t.refreshEvent&&(t.refreshEvent.unsubscribe(),delete t.refreshEvent)}expireTimelineCache(){const t=Object.keys(this.timelineEntryCache),n=t.length;if(n<=this.MaxCacheItem)return;(0,u.rD)(`Cleaning up timeline cache size: ${n}`);const i=Date.now()-this.CacheExpireMS;let r=[];for(const h of t){const p=this.timelineEntryCache[h];p.lastAccessAt>i||r.push(p)}r=r.sort((h,p)=>h.lastAccessAt===p.lastAccessAt?0:h.lastAccessAt<p.lastAccessAt?-1:1),(0,u.qe)("Target to expire.",r);const o=n-this.MaxCacheItem;for(let h=0;h<o&&h<r.length;h++)delete this.timelineEntryCache[r[h].key];const c=Object.keys(this.timelineEntryCache).length;(0,u.rD)(`Cache was cleaned up size: ${n} -> ${c}`)}getTimelineCache(t){const n=this.timelineEntryCache[t];return n?(n.lastAccessAt=Date.now(),n.obj):null}putTimelineCache(t){let n=this.timelineEntryCache[t.keyPath];n?n.lastAccessAt=Date.now():(n=new Pe(t,t.keyPath),this.timelineEntryCache[t.keyPath]=n)}cleanupTimelineIndices(){if(this.timelineIndices)for(const t in this.timelineIndices)this.cleanupIndexItem(this.timelineIndices[t]);this.expireTimelineCache(),this.timelineIndices={},this.timelineIndicesOrdered=[]}refreshIndex(t,n){let i=this.timelineIndices[t];i||(i=new H(t),this.timelineIndices[t]=i),i.entries=n.entries,this.cleanupIndexItem(i);const r=this.reloader.registerWatcher(t,new Date(n.updatedAt));i.reloadId=r,i.refreshEvent=this.reloader.refreshEvent(r).pipe((0,_.G)(()=>this.index.fetchWeeklyIndex$(t)),(0,v.a)(this.destroy$)).subscribe(o=>{this.refreshIndex(t,o)}),this.timelineIndicesOrdered.includes(t)||this.timelineIndicesOrdered.push(t)}onClickTrackback(t){(0,u.qe)("TimelineComponent.onClickTrackback()",t),this.isLoadingPrevious=!0,this.isLoadingError=!1;const n=new T.g(t);n.pipe((0,_.G)(r=>(0,ge.E)((0,N.of)(r),this.index.fetchWeeklyIndex$(r))),(0,k.C)(1)).pipe((0,v.a)(this.destroy$)).subscribe({next:([r,o])=>{if(this.refreshIndex(r,o),this.streamPrevUrl=o.previousIndexUrl,o.entries.length>0){const s=new K;return s.entries=o.entries,s.timelineUrl=o.previousIndexUrl,s.navigationFrom="click",void this.trackbackEntries$.next(s)}o.previousIndexUrl&&((0,u.qe)(`Continue retrieving ${o.previousIndexUrl} since empty.`),n.next(o.previousIndexUrl))},complete:()=>{(0,u.qe)("Successfully completed auto trackback loader"),this.isLoadingPrevious=!1},error:r=>{this.isLoadingError=!0,this.isLoadingPrevious=!1}})}static \u0275fac=function(n){return new(n||a)(e.GI1(z.G),e.GI1(I),e.GI1(O.O),e.GI1(L.a))};static \u0275cmp=e.In1({type:a,selectors:[["gitwee-timeline"]],inputs:{naviEntries$:"naviEntries$"},decls:2,vars:2,consts:[["class","card shadow-lg rounded m-2 gitwee-timeline-item",4,"ngFor","ngForOf"],["class","p-5",4,"ngIf"],[1,"card","shadow-lg","rounded","m-2","gitwee-timeline-item"],["timelineItemDiv",""],[1,"card-header"],[1,"float-start",3,"id"],["justTitle",""],[3,"routerLink","fragment",4,"ngIf","ngIfElse"],["class","btn float-end collapsed","data-bs-toggle","collapse","aria-expanded","false",3,"click",4,"ngIf"],[1,"card-body",3,"id","ngClass"],[1,"m-3","p-3",3,"pagePath$","loadPageBody","fatalError","loadPageJson","loadError"],["pagePathComponent",""],["class","timeline-fadeout-entry",3,"bottom","appAfterIf",4,"ngIf"],[3,"tags",4,"ngIf"],[1,"card-footer"],[1,"float-end","text-muted"],[3,"routerLink","fragment"],["data-bs-toggle","collapse","aria-expanded","false",1,"btn","float-end","collapsed",3,"click"],["src","/assets/octicons/chevron-left.svg"],[1,"timeline-fadeout-entry",3,"appAfterIf"],["bottomFaderDiv",""],[2,"position","absolute","bottom","0px"],[3,"routerLink"],[3,"tags"],[1,"p-5"],["class","alert alert-warning alert-dismissible fade show","role","alert",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-block",2,"width","100%",3,"disabled","click"],[4,"ngIf"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close"],["aria-hidden","true"],["role","status","aria-hidden","true",1,"spinner-border","text-primary"]],template:function(n,i){1&n&&e.yuY(0,$e,17,14,"div",0)(1,Ge,5,4,"div",1),2&n&&(e.E7m("ngForOf",i.timeline),e.yG2(),e.E7m("ngIf",i.streamPrevUrl))},dependencies:[f.QF,f.ay,f.u_,w.ER,M.M,pe.G,Ce,f.y],styles:[".timeline-fadeout-entry[_ngcontent-%COMP%]{position:absolute;width:100%;height:30%;left:0%;padding:2%}"],data:{animation:[(0,d.gV)("timelineEntryTrigger",[(0,d.aK)(":enter",[(0,d.wb)({opacity:0,transform:"translateY(10px)"}),(0,d.Cs)("300ms 300ms ease-in-out",(0,d.wb)({transform:"none",opacity:1})),(0,d.Ql)()]),(0,d.aK)(":leave",[(0,d.Ql)(),(0,d.wb)({opacity:1,transform:"none"}),(0,d.Cs)("300ms ease-in-out",(0,d.wb)({opacity:0,transform:"translateY(-10px)"}))])]),(0,d.gV)("censorButtonTrigger",[(0,d.aK)("false => true",[(0,d.wb)({transform:"none"}),(0,d.Cs)("500ms ease-in-out",(0,d.wb)({transform:"rotate(-90deg)"}))]),(0,d.aK)("true => false",[(0,d.wb)({transform:"rotate(-90deg)"}),(0,d.Cs)("500ms ease-in-out",(0,d.wb)({transform:"none"}))])])]}})}return a})();function Oe(a,l){if(1&a&&(e.I0R(0,"th")(1,"div"),e.OEk(2),e.C$Y()()),2&a){const t=l.$implicit;e.yG2(),e.uQ9("",t.clz," text-center"),e.yG2(),e.cNF(t.name)}}function Me(a,l){if(1&a&&(e.I0R(0,"div"),e.OEk(1),e.C$Y()),2&a){const t=e.GaO(2).$implicit;e.yG2(),e.cNF(t.key)}}function Ye(a,l){if(1&a){const t=e.KQA();e.SAx(0,12),e.qCj("appAfterIf",function(){const r=e.usT(t).ngIf,o=e.GaO(3).$implicit,s=e.GaO(2);return e.CGJ(s.onPageRetrieved(o,r))}),e.k70()}}function Fe(a,l){if(1&a){const t=e.KQA();e.I0R(0,"div")(1,"a",9),e.qCj("click",function(i){e.usT(t);const r=e.GaO(2).$implicit,o=e.GaO(2);return e.CGJ(o.onClickDay(i,r))}),e.I0R(2,"span",10),e.OEk(3),e.C$Y()(),e.yuY(4,Ye,1,0,"ng-container",11),e.wVc(5,"async"),e.C$Y()}if(2&a){const t=e.GaO(2).$implicit,n=e.GaO(2);e.yG2(),e.CI5("title","",t.count," \u4ef6"),e.u6R("href","",n.urlPrefix,"/",t.urlLink,"",e.K6U),e.yG2(2),e.cNF(t.key),e.yG2(),e.E7m("ngIf",e.kDX(5,5,t.page$))}}const De=()=>["border-bottom","border-danger"],W=()=>[];function Re(a,l){if(1&a&&(e.I0R(0,"div",6),e.wVc(1,"async"),e.yuY(2,Me,2,1,"ng-template",null,7,e.gJz)(4,Fe,6,7,"div",8),e.C$Y()),2&a){const t=e.Gew(3),n=e.GaO().$implicit,i=e.GaO(2);e.E7m("ngClass",e.kDX(1,3,n.isNationalHoliday$)?e.q4q(5,De):e.q4q(6,W)),e.yG2(4),e.E7m("ngIf",i.isIndexedDay(n))("ngIfElse",t)}}const Le=()=>["border-primary"];function Se(a,l){if(1&a&&(e.I0R(0,"td",3)(1,"div",4),e.yuY(2,Re,5,7,"div",5),e.C$Y()()),2&a){const t=l.$implicit;e.yG2(),e.m4B("border-color",null!=t&&t.isSelected?void 0:"transparent!important"),e.E7m("ngClass",null!=t&&t.isSelected?e.q4q(4,Le):e.q4q(5,W)),e.yG2(),e.E7m("ngIf",null!==t)}}function Ae(a,l){if(1&a&&(e.I0R(0,"tr"),e.yuY(1,Se,3,6,"td",2),e.C$Y()),2&a){const t=l.$implicit;e.yG2(),e.E7m("ngForOf",t)}}class q{date;index;key;count=0;isSelected=!1;isNationalHoliday$;constructor(l,t){this.date=l,this.index=t,this.key=l.getDate(),this.isNationalHoliday$=this.index.isNationalHoliday$(l)}}let Ue=(()=>{class a{route;index;month;monthIndex;urlPrefix;selected=new e._w7;weekdays=[{name:"\u65e5",value:0,clz:"calendar-sunday"},{name:"\u6708",value:1},{name:"\u706b",value:2},{name:"\u6c34",value:3},{name:"\u6728",value:4},{name:"\u91d1",value:5},{name:"\u571f",value:6,clz:"calendar-saturday"}];monthWeeks;selectedDay;constructor(t,n){this.route=t,this.index=n}ngOnInit(){(0,u.qe)("CalendarPageComponent.OnInit()");const t=(this.month.firstWeekday+(this.month.days-1))%7,n=(0===this.month.firstWeekday?0:7-this.month.firstWeekday)+this.month.days+(6===t?0:7-t),i=[];for(let c=0;c<n/7;c++){const h=new Array(7);h.fill(null),i.push(h)}const r=this.month.firstWeekday,o=Number(this.monthIndex.yearIndex.key),s=Number(this.monthIndex.key)-1;for(let c=0,h=r;c<this.month.days;c++,h++){const p=c+1,m=new Date(o,s,p);let y=this.month.dayEntries[p];y||(y=new q(m,this.index)),i[Math.floor(h/7)][h%7]=y}this.monthWeeks=i}ngOnDestroy(){(0,u.qe)("CalendarPageComponent.OnDestroy()")}unselect(){this.selectedDay=null}onClickNothing(t){(0,u.qe)("onClickNothing()",t),t.preventDefault(),t.stopPropagation()}onClickDay(t,n){(0,u.qe)("onClickDay()",t,n),t.preventDefault(),t.stopPropagation(),n.page$=this.index.openDayIndexPage$(this.route,this.monthIndex,n)}onPageRetrieved(t,n){this.selectedDay&&(this.selectedDay.page$=null,this.selectedDay.isSelected=!1),t.isSelected=!0,this.selectedDay=t,this.selected.emit({index:t,page:n})}isIndexedDay(t){return t instanceof j}isEmptyDay(t){return t instanceof q}static \u0275fac=function(n){return new(n||a)(e.GI1(w.gV),e.GI1(I))};static \u0275cmp=e.In1({type:a,selectors:[["gitwee-calendar-page"]],inputs:{month:"month",monthIndex:"monthIndex",urlPrefix:"urlPrefix"},outputs:{selected:"selected"},decls:3,vars:2,consts:[[1,"shadow","border","border-info","my-2",3,"click"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngFor","ngForOf"],[1,"text-center"],[1,"border",3,"ngClass"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["justDay",""],[4,"ngIf","ngIfElse"],[3,"title","href","click"],[1,"gitwee-calendar-day"],[3,"appAfterIf",4,"ngIf"],[3,"appAfterIf"]],template:function(n,i){1&n&&(e.I0R(0,"table",0),e.qCj("click",function(o){return i.onClickNothing(o)}),e.yuY(1,Oe,3,4,"th",1)(2,Ae,2,1,"tr",1),e.C$Y()),2&n&&(e.yG2(),e.E7m("ngForOf",i.weekdays),e.yG2(),e.E7m("ngForOf",i.monthWeeks))},dependencies:[f.QF,f.ay,f.u_,M.M,f.a],styles:[".calendar-saturday[_ngcontent-%COMP%]{color:#00f}.calendar-sunday[_ngcontent-%COMP%]{color:red}",".gitwee-sidebar-node[_ngcontent-%COMP%]{transition:transform .5s}.gitwee-sidebar-node[_ngcontent-%COMP%]:hover{transform:scale(1.03);z-index:10000}.gitwee-navi-item[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;vertical-align:text-bottom}.gitwee-calendar-day[_ngcontent-%COMP%]{display:inline-block;white-space:nowrap}"],data:{animation:[]}})}return a})();function Ke(a,l){if(1&a){const t=e.KQA();e.I0R(0,"div",2),e.qCj("appAfterIf",function(){const r=e.usT(t).ngIf,o=e.GaO().$implicit,s=e.GaO(4);return e.CGJ(s.onMonthNodeExpanded(o,r))}),e.I0R(1,"gitwee-calendar-page",11),e.qCj("selected",function(i){e.usT(t);const r=e.GaO(5);return e.CGJ(r.onDaySelected(i))}),e.C$Y()()}if(2&a){const t=l.ngIf,n=e.GaO().$implicit,i=e.GaO(4);e.E7m("@slidedownTrigger",void 0),e.yG2(),e.E7m("urlPrefix",i.urlPrefix)("monthIndex",n)("month",t)}}function je(a,l){if(1&a){const t=e.KQA();e.I0R(0,"li",6),e.qCj("click",function(i){const o=e.usT(t).$implicit,s=e.GaO(4);return e.CGJ(s.onClickMonth(i,o))}),e.I0R(1,"a",7)(2,"span",8),e.OEk(3),e.C$Y()(),e.I0R(4,"span",9),e.OEk(5),e.C$Y(),e.yuY(6,Ke,2,4,"div",1),e.wVc(7,"async"),e.C$Y()}if(2&a){const t=l.$implicit,n=e.GaO(4);e.eAK("gitwee-sidebar-node",!n.selectedMonth||t!==n.selectedMonth),e.yG2(),e.u6R("href","",n.urlPrefix,"/",t.urlLink,"",e.K6U),e.yG2(2),e.oRS("",t.key," \u6708"),e.yG2(),e.eAK("bg-primary",t===n.selectedMonth)("bg-secondary",t!==n.selectedMonth),e.yG2(),e.cNF(t.count),e.yG2(),e.E7m("ngIf",e.kDX(7,11,t.page$))}}function ze(a,l){if(1&a){const t=e.KQA();e.I0R(0,"div",2),e.qCj("appAfterIf",function(){const r=e.usT(t).ngIf,o=e.GaO().$implicit,s=e.GaO(2);return e.CGJ(s.onYearNodeExpanded(o,r))}),e.I0R(1,"ul",10),e.yuY(2,je,8,13,"li",4),e.C$Y()()}if(2&a){const t=l.ngIf;e.E7m("@slidedownTrigger",void 0),e.yG2(2),e.E7m("ngForOf",t.monthEntries)}}function Be(a,l){if(1&a){const t=e.KQA();e.I0R(0,"li",6),e.qCj("click",function(i){const o=e.usT(t).$implicit,s=e.GaO(2);return e.CGJ(s.onClickYear(i,o))}),e.I0R(1,"a",7)(2,"span",8),e.OEk(3),e.C$Y()(),e.I0R(4,"span",9),e.OEk(5),e.C$Y(),e.yuY(6,ze,3,2,"div",1),e.wVc(7,"async"),e.C$Y()}if(2&a){const t=l.$implicit,n=e.GaO(2);e.eAK("gitwee-sidebar-node",!n.selectedYear||t!==n.selectedYear),e.E7m("@calendarNodeTrigger",void 0),e.yG2(),e.u6R("href","",n.urlPrefix,"/",t.urlLink,"",e.K6U),e.yG2(2),e.oRS("",t.key," \u5e74"),e.yG2(),e.eAK("bg-primary",t===n.selectedYear)("bg-secondary",t!==n.selectedYear),e.yG2(),e.cNF(t.count),e.yG2(),e.E7m("ngIf",e.kDX(7,12,t.page$))}}function Je(a,l){if(1&a){const t=e.KQA();e.I0R(0,"li",12),e.qCj("click",function(i){e.usT(t);const r=e.GaO(2);return e.CGJ(r.onClickYearToggler(i))}),e.I0R(1,"span"),e.OEk(2),e.C$Y()()}if(2&a){const t=e.GaO(2);e.E7m("@calendarNodeTrigger",void 0),e.yG2(2),e.cNF(t.yearShowAll?"\u6298\u308a\u305f\u305f\u3080":"\u8868\u793a\u3092\u5897\u3084\u3059")}}function He(a,l){if(1&a){const t=e.KQA();e.I0R(0,"div",2),e.qCj("appAfterIf",function(){const r=e.usT(t).ngIf,o=e.GaO();return e.CGJ(o.onTopNodeExpanded(r))}),e.I0R(1,"ul",3),e.yuY(2,Be,8,14,"li",4)(3,Je,3,2,"li",5),e.C$Y()()}if(2&a){const t=l.ngIf,n=e.GaO();e.E7m("@calendarListTrigger",void 0),e.yG2(2),e.E7m("ngForOf",t.yearEntries.slice(0,n.yearCount)),e.yG2(),e.E7m("ngIf",!n.showYearToggler)}}let We=(()=>{class a{route;index;reloader;index$;nodeExpanded=new e._w7;notFound=new e._w7;route$;urlPrefix;reload$=new x.E;reloadId;refreshSubscription;defaultYearCount=3;yearShowAll=!1;isNavigateDerived=!1;pendingFragment=null;destroy$=new x.E;selectedYear;selectedMonth;selectedDay;naviMatcher;allowYearToggler;constructor(t,n,i){this.route=t,this.index=n,this.reloader=i,(0,u.qe)("CalendarNaviComponent.constructor()");const r="^([0-9]{4})(?:/([0-9]{2})(?:/([0-9]{2})/?)?)?$";this.naviMatcher=new RegExp(r),(0,u.qe)("CalendarNaviComponent URL Matcher",r)}unselect(t){t||(this.isNavigateDerived=!1),this.index$||(this.index$=this.index.fetchIndex$(this.route)),this.selectedYear&&(this.selectedYear.page$=null),this.selectedYear=null,this.selectedMonth&&(this.selectedMonth.page$=null),this.yearShowAll=!1,this.selectedMonth=null,this.selectedDay=null}get showYearToggler(){return this.allowYearToggler&&!!this.selectedYear}get yearCount(){if(!this.yearShowAll)return this.defaultYearCount}onNodeExpanded(t){(0,u.qe)("CalendarNaviComponent.onNodeExpanded()",t),this.pendingFragment&&(t.urlLink=`${t.urlLink}#${this.pendingFragment}`,delete this.pendingFragment),this.nodeExpanded.emit(t)}onTopNodeExpanded(t){(0,u.qe)("CalendarNaviComponent.onTopNodeExpanded()",t,this.isNavigateDerived),this.startWatching(t),this.allowYearToggler=this.defaultYearCount<t.yearEntries.length;for(const n of t.yearEntries)if(n.page$)return;this.isNavigateDerived&&this.onNodeExpanded(t)}onYearNodeExpanded(t,n){(0,u.qe)("CalendarNaviComponent.onYearNodeExpanded()",t),this.selectedYear&&(this.selectedYear.page$=null),this.selectedYear=t;for(const i of n.monthEntries)if(i.page$)return;this.onNodeExpanded(n)}onMonthNodeExpanded(t,n){(0,u.qe)("CalendarNaviComponent.onMonthNodeExpanded()",t),this.selectedMonth&&(this.selectedMonth.page$=null),this.selectedMonth=t;for(const i in n.dayEntries)if(n.dayEntries[i].page$)return;this.onNodeExpanded(n)}ensureUnregisterWathing(){this.reloadId&&(this.reloader.unregister(this.reloadId),this.reloadId=null),this.refreshSubscription&&this.refreshSubscription.unsubscribe()}startWatching(t){this.ensureUnregisterWathing();const n=this.reloader.registerWatcher(t.indexUrl,t.updated);this.reloadId=n,this.refreshSubscription=this.reloader.refreshEvent(n).pipe((0,v.a)(this.destroy$)).subscribe(()=>{this.reload$.next()})}ngOnInit(){(0,u.qe)("CalendarNaviComponent.OnInit()"),this.route$.pipe((0,v.a)(this.destroy$)).subscribe(t=>{if(this.isNavigateDerived="Calendar"===t.category,!this.isNavigateDerived)return void this.unselect();if(!t.navigators)return this.index$=null,void this.unselect(!0);const n=t.navigators.match(this.naviMatcher);if(!n)return(0,u.sJ)("No route to",t),void this.unselect(!0);const i=R(n[1]),r=R(n[2]),o=R(n[3]);if(function de(a,l,t){if(a){if(a<1900||9999<a)return!1}else if(l||t)return!1;if(l){if(l<1||12<l)return!1}else if(t)return!1;const n=new Date(a,l,t);return!(n.getFullYear()!==a||n.getMonth()!==l-1||n.getDate()!==t)}(i,r,o))return(0,u.sJ)(`Invalidate Routing date ${i}-${r}-${o}`,t),void this.unselect(!0);(0,u.qe)(`CalendarNaviComponent detect routing ${i} ${r} ${o} ${t.fragment}`),this.pendingFragment=t.fragment;const s={year:i,month:r,day:o};this.yearShowAll=!!i,this.index$=this.index.fetchIndex$(this.route,s)}),this.reload$.pipe((0,v.a)(this.destroy$)).subscribe(()=>{const t={year:this.selectedYear?.key,month:this.selectedMonth?.key,day:this.selectedDay?.key,isReload:!0};(0,u.qe)("Reload is clicked on CalendarNaviComponent.",t),this.selectedDay=null,this.selectedMonth=null,this.selectedYear=null,this.index$=this.index.fetchIndex$(this.route,t)})}ngAfterViewInit(){(0,u.qe)("CalendarNaviComponent.AfterViewInit()")}ngOnDestroy(){(0,u.qe)("CalendarNaviComponent.OnDestroy()"),this.ensureUnregisterWathing(),this.destroy$.next()}onClickYearToggler(t){(0,u.qe)("CalendarNaviComponent.onClickYearToggler()",t),this.yearShowAll=!this.yearShowAll}onClickYear(t,n){if((0,u.qe)("CalendarNaviComponent.onClickYear()",t,n),t.preventDefault(),t.stopPropagation(),this.selectedMonth=null,this.selectedDay=null,this.selectedYear===n)return this.onNodeExpanded(n.topPage),n.page$=null,void(this.selectedYear=null);n.page$=this.index.openYearPage$(this.route,n)}onClickMonth(t,n){if((0,u.qe)("CalendarNaviComponent.onClickMonth()",t,n),t.preventDefault(),t.stopPropagation(),this.selectedDay=null,this.selectedMonth===n)return this.onNodeExpanded(n.yearPage),n.page$=null,void(this.selectedMonth=null);n.page$=this.index.openMonthPage$(this.route,n)}onDaySelected(t){(0,u.qe)("CalendarNaviComponent.onDaySelected()",t),this.selectedDay=t.index,this.onNodeExpanded(t.page)}static \u0275fac=function(n){return new(n||a)(e.GI1(w.gV),e.GI1(I),e.GI1(L.a))};static \u0275cmp=e.In1({type:a,selectors:[["gitwee-calendar-navi"]],inputs:{route$:"route$",urlPrefix:"urlPrefix"},outputs:{nodeExpanded:"nodeExpanded",notFound:"notFound"},decls:3,vars:3,consts:[["id","gitweeCalendarYearIndex"],[3,"appAfterIf",4,"ngIf"],[3,"appAfterIf"],[1,"list-group"],["class","list-group-item align-items-center row text-end shadow gitwee-listing-calendar",3,"gitwee-sidebar-node","click",4,"ngFor","ngForOf"],["id","gitweeCalendarNaviToggler","class","align-items-center row btn btn-secondary","role","button","tabindex","0",3,"click",4,"ngIf"],[1,"list-group-item","align-items-center","row","text-end","shadow","gitwee-listing-calendar",3,"click"],[1,"col-8",3,"href"],[1,"gitwee-navi-item"],[1,"badge","rounded-pill","col-4"],[1,"list-group","list-group-flush","my-2"],[3,"urlPrefix","monthIndex","month","selected"],["id","gitweeCalendarNaviToggler","role","button","tabindex","0",1,"align-items-center","row","btn","btn-secondary",3,"click"]],template:function(n,i){1&n&&(e.I0R(0,"div",0),e.yuY(1,He,4,3,"div",1),e.wVc(2,"async"),e.C$Y()),2&n&&(e.yG2(),e.E7m("ngIf",e.kDX(2,1,i.index$)))},dependencies:[f.ay,f.u_,M.M,Ue,f.a],styles:[".gitwee-listing-calendar[_ngcontent-%COMP%]{cursor:pointer}",".gitwee-sidebar-node[_ngcontent-%COMP%]{transition:transform .5s}.gitwee-sidebar-node[_ngcontent-%COMP%]:hover{transform:scale(1.03);z-index:10000}.gitwee-navi-item[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;vertical-align:text-bottom}.gitwee-calendar-day[_ngcontent-%COMP%]{display:inline-block;white-space:nowrap}"],data:{animation:[(0,d.gV)("calendarNodeTrigger",[(0,d.aK)(":enter",[(0,d.wb)({opacity:0,transform:"translateX(5px)"}),(0,d.Cs)("500ms ease-in-out",(0,d.wb)({opacity:1,transform:"none"}))]),(0,d.aK)(":leave",[(0,d.Cs)("500ms ease-in-out",(0,d.wb)({opacity:0,transform:"translateX(5px)"}))])]),(0,d.gV)("calendarListTrigger",[(0,d.aK)(":enter",[(0,d.wb)({opacity:0,transform:"translateX(5px)"}),(0,d.Cs)("500ms 200ms ease-in-out",(0,d.wb)({opacity:1,transform:"none"}))]),(0,d.aK)(":leave",[(0,d.wb)({position:"absolute",width:"100%"}),(0,d.Cs)("200ms ease-in-out",(0,d.wb)({opacity:0,transform:"translateX(5px)"}))])]),(0,d.gV)("slidedownTrigger",[(0,d.aK)(":enter",[(0,d.wb)({opacity:0,transform:"translateY(-5px)"}),(0,d.Cs)("500ms ease-in-out",(0,d.wb)({opacity:1,transform:"none"}))]),(0,d.aK)(":leave",[(0,d.Cs)("500ms ease-in-out",(0,d.wb)({opacity:0,transform:"translateY(-5px)"}))])])]}})}return a})();var qe=g(9460);function Ve(a,l){if(1&a){const t=e.KQA();e.I0R(0,"li",5),e.qCj("click",function(i){const o=e.usT(t).$implicit,s=e.GaO(2);return e.CGJ(s.onClickTag(i,o))}),e.I0R(1,"a",6)(2,"span",7),e.OEk(3),e.C$Y()(),e.I0R(4,"span",8),e.OEk(5),e.C$Y()()}if(2&a){const t=l.$implicit,n=e.GaO(2);e.u6R("title","",t.title,"",t.noteTooltip?": "+t.noteTooltip:"",""),e.yG2(),e.u6R("href","",n.urlPrefix,"/",t.urlLink,"",e.K6U),e.yG2(2),e.cNF(t.title),e.yG2(),e.eAK("bg-primary",(null==n.selectedPage?null:n.selectedPage.tagkey)===t.tagkey)("bg-secondary",(null==n.selectedPage?null:n.selectedPage.tagkey)!==t.tagkey),e.yG2(),e.cNF(t.count)}}function Qe(a,l){if(1&a){const t=e.KQA();e.I0R(0,"span",14),e.qCj("click",function(i){const o=e.usT(t).$implicit,s=e.GaO(3);return e.CGJ(s.onClickTag(i,o))}),e.OEk(1),e.C$Y()}if(2&a){const t=l.$implicit;e.u6R("title","",t.title,"",t.noteTooltip?": "+t.noteTooltip:"",""),e.yG2(),e.CAO("",t.title," ( ",t.count," )")}}function Xe(a,l){if(1&a&&(e.I0R(0,"li",9)(1,"div",10)(2,"button",11),e.OEk(3,"\u305d\u306e\u4ed6"),e.C$Y(),e.I0R(4,"div",12),e.yuY(5,Qe,2,4,"span",13),e.C$Y()()()),2&a){const t=e.GaO().ngIf,n=e.GaO();e.yG2(5),e.E7m("ngForOf",t.entries.slice(n.TagDefaultCount,n.TagMaxCount))}}function Ze(a,l){if(1&a&&(e.I0R(0,"div",1)(1,"div")(2,"ul",2),e.yuY(3,Ve,6,10,"li",3)(4,Xe,6,1,"li",4),e.C$Y()()()),2&a){const t=l.ngIf,n=e.GaO();e.E7m("@tagListTrigger",void 0),e.yG2(3),e.E7m("ngForOf",t.entries.slice(0,n.TagDefaultCount)),e.yG2(),e.E7m("ngIf",t.entries.length>n.TagDefaultCount)}}let et=(()=>{class a{route;index;reloader;index$;route$;urlPrefix;tagSelected=new e._w7;notFound=new e._w7;TagDefaultCount=10;TagMaxCount=30;isNavigateDerived=!1;destroy$=new x.E;indexSub=null;selectedPage=null;tagMatcher;reloadListId;refreshListSubscription=null;reloadId=null;refreshSubscription=null;constructor(t,n,i){this.route=t,this.index=n,this.reloader=i,(0,u.qe)("TagNaviComponent.constructor()");const r="^([-_a-zA-Z0-9]+)/?$";(0,u.qe)("TagNaviComponent URL Matcher",r),this.tagMatcher=new RegExp(r)}ngOnInit(){(0,u.qe)("TagNaviComponent.OnInit()"),this.index$=this.index.fetchTagList$(this.route),this.route$.pipe((0,v.a)(this.destroy$)).subscribe(t=>{if(this.isNavigateDerived="Tag"===t.category,!this.isNavigateDerived||!t.navigators)return void this.unselect(!0);const n=t.navigators.match(this.tagMatcher);if(!n)return void this.unselect(!0);const i=n[1];(0,u.qe)(`TagNaviComponent detect routing ${i}`),this.selectTag(i,!1)}),this.reloadListId=this.reloader.registerLoader(),this.refreshListSubscription=this.reloader.refreshEvent(this.reloadListId).pipe((0,v.a)(this.destroy$)).subscribe(()=>{(0,u.qe)("Reload is clicked on TagNaviComponent."),this.index$=this.index.fetchTagList$(this.route)})}ngOnDestroy(){this.refreshListSubscription&&(this.refreshListSubscription.unsubscribe(),this.refreshListSubscription=null),this.reloadListId&&this.reloader.unregister(this.reloadListId),this.ensureUnregisterTagWathing(),this.destroy$.next()}unselect(t){this.ensureUnregisterTagWathing(),t||(this.isNavigateDerived=!1),this.selectedPage=null,this.hideOtherDropdown()}selectTag(t,n,i){this.indexSub&&(this.indexSub.unsubscribe(),this.indexSub=null),this.indexSub=this.index.fetchTagIndex$(this.route,{tagkey:t,isReload:n,isClicked:i}).pipe((0,v.a)(this.destroy$)).subscribe(o=>{(0,u.qe)("TagNaviComponent Selected",o),this.startTagWatching(o),this.isNavigateDerived&&(this.selectedPage=o,this.tagSelected.emit(o))})}hideOtherDropdown(){const t=document.getElementById("gitweeTagNaviDropdownButton");t&&new qe.cS(t).hide()}onClickTag(t,n){(0,u.qe)("TagNaviComponent.onClickTag()",n),t.preventDefault(),t.stopPropagation(),this.hideOtherDropdown(),this.isNavigateDerived=!0,this.selectTag(n.tagkey,!1,!0)}ensureUnregisterTagWathing(){this.reloadId&&(this.reloader.unregister(this.reloadId),this.reloadId=null),this.refreshSubscription&&(this.refreshSubscription.unsubscribe(),this.refreshSubscription=null)}startTagWatching(t){this.ensureUnregisterTagWathing();const n=this.reloader.registerWatcher(t.indexUrl,t.updated);this.reloadId=n,this.refreshSubscription=this.reloader.refreshEvent(n).pipe((0,v.a)(this.destroy$)).subscribe(()=>{this.selectTag(t.tagkey,!0)})}static \u0275fac=function(n){return new(n||a)(e.GI1(w.gV),e.GI1(I),e.GI1(L.a))};static \u0275cmp=e.In1({type:a,selectors:[["gitwee-tag-navi"]],inputs:{route$:"route$",urlPrefix:"urlPrefix"},outputs:{tagSelected:"tagSelected",notFound:"notFound"},decls:2,vars:3,consts:[["id","gitweeTagNaviIndex",4,"ngIf"],["id","gitweeTagNaviIndex"],[1,"list-group"],["class","list-group-item align-items-center row text-end shadow row gitwee-listing-tag gitwee-sidebar-node",3,"title","click",4,"ngFor","ngForOf"],["class","list-group-item align-items-center row text-end shadow gitwee-listing-tag",4,"ngIf"],[1,"list-group-item","align-items-center","row","text-end","shadow","row","gitwee-listing-tag","gitwee-sidebar-node",3,"title","click"],[1,"col-8",3,"href"],[1,"gitwee-navi-item"],[1,"badge","rounded-pill","col-4"],[1,"list-group-item","align-items-center","row","text-end","shadow","gitwee-listing-tag"],[1,"btn-group","col-auto","dropdown"],["id","gitweeTagNaviDropdownButton","type","button","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],["id","gitweeTagNaviDropdownOthers",1,"dropdown-menu"],["class","dropdown-item","style","font-size: 0.7em;",3,"title","click",4,"ngFor","ngForOf"],[1,"dropdown-item",2,"font-size","0.7em",3,"title","click"]],template:function(n,i){1&n&&(e.yuY(0,Ze,5,3,"div",0),e.wVc(1,"async")),2&n&&e.E7m("ngIf",e.kDX(1,1,i.index$))},dependencies:[f.ay,f.u_,f.a],styles:[".gitwee-listing-tag[_ngcontent-%COMP%]{cursor:pointer}",".gitwee-sidebar-node[_ngcontent-%COMP%]{transition:transform .5s}.gitwee-sidebar-node[_ngcontent-%COMP%]:hover{transform:scale(1.03);z-index:10000}.gitwee-navi-item[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;vertical-align:text-bottom}.gitwee-calendar-day[_ngcontent-%COMP%]{display:inline-block;white-space:nowrap}"],data:{animation:[(0,d.gV)("tagListTrigger",[(0,d.aK)(":enter",[(0,d.wb)({opacity:0,transform:"translateX(5px)"}),(0,d.Cs)("500ms 200ms ease-in-out",(0,d.wb)({opacity:1,transform:"none"}))]),(0,d.aK)(":leave",[(0,d.wb)({position:"absolute",width:"100%"}),(0,d.Cs)("200ms ease-in-out",(0,d.wb)({opacity:0,transform:"translateX(5px)"}))])])]}})}return a})();var tt=g(4548),nt=g(4476);function it(a,l){1&a&&e.wR5(0,"div",5),2&a&&e.E7m("innerHTML",l.$implicit,e.E3n)}function at(a,l){if(1&a){const t=e.KQA();e.I0R(0,"div")(1,"button",1),e.qCj("click",function(i){e.usT(t);const r=e.Gew(4),o=e.GaO();return e.CGJ(o.onClickToggle(i,r))}),e.OEk(2,"\u5916\u90e8\u30b5\u30a4\u30c8 (Banner)"),e.C$Y(),e.I0R(3,"div",2,3),e.yuY(5,it,1,1,"div",4),e.C$Y()()}if(2&a){const t=e.GaO();e.yG2(3),e.m4B("display","none"==t.shownState?"none":"block"),e.E7m("@displayTrigger",t.shownState),e.yG2(2),e.E7m("ngForOf",t.bannerList)}}let rt=(()=>{class a{http;sanitizer;dom;shownState="none";destroy$=new x.E;trustedScript$;refreshEvent$=new T.g(void 0);banners$;bannerList=[];isShown=!1;scriptIdList=[];constructor(t,n,i){this.http=t,this.sanitizer=n,this.dom=i}ngOnDestroy(){this.purgeDynamicScripts(),this.destroy$.next()}ngOnInit(){this.trustedScript$=this.http.fetchGhJson("/UserData/trusted-script.json").pipe((0,C.k)(n=>{const i={};for(const r of n.scripts)i[r.href]=r;return i}),(0,k.C)(1));const t=this.refreshEvent$.pipe((0,J.o)(500));this.banners$=t.pipe((0,_.G)(()=>this.http.fetchGhJson("/UserData/banner.json").pipe((0,k.C)(1)))),(0,b.E)([this.banners$,this.trustedScript$]).pipe((0,v.a)(this.destroy$)).subscribe(([n,i])=>{const r=[];this.purgeDynamicScripts();for(const o of n.banners)if(r.push(this.sanitizer.bypassSecurityTrustHtml(o.bodyHtml)),o.scripts)for(const s of o.scripts){if(!(s in i)){(0,u.sJ)(`Unable load insecure script from ${s}`);continue}const c=this.dom.ensureDynamicScript(s);this.scriptIdList.includes(c)||this.scriptIdList.push(c)}this.bannerList=r})}purgeDynamicScripts(){for(;this.scriptIdList.length>0;)this.dom.removeDynamicScript(this.scriptIdList[0]),this.scriptIdList.splice(0,1)}hackIFrame(t){const n=t.querySelectorAll("iframe");for(let i=0;i<n.length;i++)n[i].width="100%",i++}lazyCall(t,n){(0,tt.k)(t).pipe((0,U.U)(1)).subscribe(i=>{n()})}onClickToggle(t,n){this.isShown=!this.isShown,this.shownState="animating",this.lazyCall(400,this.isShown?()=>this.shownState="visible":()=>this.shownState="none"),this.isShown?this.hackIFrame(n):this.refreshEvent$.next()}static \u0275fac=function(n){return new(n||a)(e.GI1(B.hD),e.GI1(nt.mI),e.GI1(O.O))};static \u0275cmp=e.In1({type:a,selectors:[["app-external-banner"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"btn","btn-secondary",2,"width","100%",3,"click"],[1,"app-external-banner-body","m-2"],["bodyNode",""],["class","m-1",3,"innerHTML",4,"ngFor","ngForOf"],[1,"m-1",3,"innerHTML"]],template:function(n,i){1&n&&e.yuY(0,at,6,4,"div",0),2&n&&e.E7m("ngIf",i.bannerList&&i.bannerList.length>0)},dependencies:[f.ay,f.u_],styles:[".gitwee-sidebar-node[_ngcontent-%COMP%]{transition:transform .5s}.gitwee-sidebar-node[_ngcontent-%COMP%]:hover{transform:scale(1.03);z-index:10000}.gitwee-navi-item[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;vertical-align:text-bottom}.gitwee-calendar-day[_ngcontent-%COMP%]{display:inline-block;white-space:nowrap}"],data:{animation:[(0,d.gV)("displayTrigger",[(0,d.aK)("none => animating",[(0,d.wb)({opacity:0,transform:"translateY(-5px)"}),(0,d.Cs)("500ms ease-in-out",(0,d.wb)({opacity:1,transform:"none"}))]),(0,d.aK)("visible => animating",[(0,d.wb)({opacity:1,transform:"none"}),(0,d.Cs)("500ms ease-in-out",(0,d.wb)({opacity:0,transform:"translateY(-5px)"}))])])]}})}return a})();const ot=["tagNavi"],st=["sideNavigator"],lt=["gitweeFireGitweeContainer"];function dt(a,l){if(1&a){const t=e.KQA();e.I0R(0,"div",16,17),e.qCj("appAfterIf",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.activatedFireGitwee())}),e.C$Y()}}function ct(a,l){if(1&a){const t=e.KQA();e.I0R(0,"div",18),e.qCj("click",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.doUnmask())}),e.I0R(1,"div",19),e.S2Z(),e.I0R(2,"svg",20)(3,"defs")(4,"linearGradient",21),e.wR5(5,"stop",22)(6,"stop",23)(7,"stop",24),e.C$Y()(),e.I0R(8,"circle",25),e.wR5(9,"animateTransform",26),e.C$Y(),e.I0R(10,"text",27)(11,"tspan",28),e.OEk(12,"G"),e.wR5(13,"animate",29),e.C$Y(),e.I0R(14,"tspan",30),e.OEk(15,"i"),e.wR5(16,"animate",31),e.C$Y(),e.I0R(17,"tspan",32),e.OEk(18,"t"),e.wR5(19,"animate",33),e.C$Y(),e.I0R(20,"tspan",34),e.OEk(21,"w"),e.wR5(22,"animate",35),e.C$Y(),e.I0R(23,"tspan",36),e.OEk(24,"e"),e.wR5(25,"animate",37),e.C$Y(),e.I0R(26,"tspan",38),e.OEk(27,"e"),e.wR5(28,"animate",39),e.C$Y()()()()()}2&a&&e.E7m("@loadingTrigger",void 0)}let ut=(()=>{class a{dom;route;router;index;loader;localSession;targetTimeline$=new x.E;destroy$=new x.E;isLoading;gitweeRoute$;defaultTopPage$;gitweeUrlPrefix;eventShowFireGitwee$;overrideStyleClass;selectedNavigator;tagNavi;sideNavigator;sidebarStickyTop$=new T.g(null);constructor(t,n,i,r,o,s){this.dom=t,this.route=n,this.router=i,this.index=r,this.loader=o,this.localSession=s,this.isLoading=!this.index.isInitialized}extractGitweePath(t){const n=this.gitweeUrlPrefix;if(t!==n&&!t.startsWith(`${n}/`))throw new Error(`Unable parse a GitweePath URL: ${t}`);let i=t.substring(n.length);if(i.startsWith("/")&&(i=i.substring(1)),""===i)return["Calendar",null];const r=i.match(/^timeline(?:\/(.*))?$/);if(r)return["Calendar",r[1]];const o=i.match(/^tag(?:\/(.*))?$/);if(o)return["Tag",o[1]];throw new Error(`Unsupported Path of the Gitwee ${i}`)}ngOnInit(){(0,u.qe)("Gitwee.MainComponent.OnInit()",this.route,this.route.pathFromRoot),this.gitweeUrlPrefix="/"+this.route.pathFromRoot.reduce((h,p)=>p.routeConfig?.path?[p.routeConfig?.path,...h]:h,[]).join("/");const t=this.route.data.pipe((0,U.U)(1));this.gitweeRoute$=(0,b.E)([t,this.router.urlNavigation$]).pipe((0,C.k)(([h,p])=>{(0,u.qe)("MainComponent detect urlNavigation$",h,p);const m=new se;return m.ns=h.gitweeNamespace,[m.category,m.navigators]=this.extractGitweePath(p.path),m.fragment=p.fragment,m}),(0,k.C)(1)),this.index.fetchConfig$(this.route).pipe((0,v.a)(this.destroy$)).subscribe(h=>{h.styles&&(this.overrideStyleClass=this.dom.overrideBasicStyle(h.styles))});const n=(0,X.U)((0,N.of)(window.innerHeight),(0,A.w)(window,"resize").pipe((0,C.k)(h=>window.innerHeight),(0,F.a)())),i=(0,A.w)(window,"scroll").pipe((0,C.k)(h=>window.scrollY),(0,ee.K)((h,p)=>[p,h[0],h[1]],[0,null,null])),r=(0,Z.I)(300).pipe((0,C.k)(h=>this.sidebarElemenet?.clientHeight),(0,F.a)());(0,b.E)([n,r]);let s=0,c=0;(0,b.E)([i,n,r]).pipe((0,v.a)(this.destroy$)).subscribe(([[h,p,m],y,$])=>{const Ct=s-h,V=y-$,vt=V>=60?60:Math.min(V,0),Y=Math.max(Math.min(Ct+c,60),vt);p<h?(m>p&&(s=h,c=Y),this.sidebarStickyTop$.next(Y)):p===h||(m<p&&(s=h,c=Y),this.sidebarStickyTop$.next(Y))}),this.eventShowFireGitwee$=(0,b.E)([this.localSession.loginStateChanged$,t,this.router.currentUrl$]).pipe((0,C.k)(([h,p,m])=>{if(!h)return!1;const[y,$]=this.extractGitweePath(m);return!($||"diary"!==p.gitweeNamespace||"Calendar"!==y)}),(0,F.a)(),(0,v.a)(this.destroy$))}ngOnDestroy(){(0,u.qe)("MainComponent.OnDestroy()"),this.dom.cleanupOverrideStyle(this.overrideStyleClass),this.destroy$.next()}ngAfterViewInit(){(0,u.qe)("MainComponent.AfterViewInit()")}activatedFireGitwee(){var t=this;return(0,P.c)(function*(){yield t.doLazyLoadFireGitwee()})()}gitweeFireGitweeContainer;get sidebarElemenet(){return this.sideNavigator?.element.nativeElement}doLazyLoadFireGitwee(){var t=this;return(0,P.c)(function*(){t.gitweeFireGitweeContainer.element.nativeElement.innerHTML="",t.gitweeFireGitweeContainer.clear();const{FireGitweeModule:n}=yield Promise.all([g.e(331),g.e(472),g.e(980)]).then(g.bind(g,7360)),{FireGitweeComponent:i}=yield Promise.all([g.e(331),g.e(472),g.e(372)]).then(g.bind(g,3372));t.loader.appendComponent(t.gitweeFireGitweeContainer,n,i)})()}entriesSelected(t,n){(0,u.qe)("MainComponent.entriesSelected()",t,n),this.dom.setTitle(`Gitwee Blog: ${n.title}`),this.targetTimeline$.next(n),this.selectedNavigator&&this.selectedNavigator!==t&&(this.selectedNavigator.unselect(),this.selectedNavigator=null),this.selectedNavigator=t,this.router.replaceJustUrl(`${this.gitweeUrlPrefix}/${n.urlLink}`),this.isLoading&&setTimeout(()=>this.doUnmask(),3e3)}entriesNotFound(t){(0,u.qe)("MainComponent.entriesNotFound()",t),this.router.navigateByUrl(this.gitweeUrlPrefix)}doUnmask(){this.index.initialized(),this.isLoading=!1}static \u0275fac=function(n){return new(n||a)(e.GI1(O.O),e.GI1(w.gV),e.GI1(z.G),e.GI1(I),e.GI1(ce.g),e.GI1(ue.U))};static \u0275cmp=e.In1({type:a,selectors:[["ng-component"]],viewQuery:function(n,i){if(1&n&&(e.CC$(ot,5),e.CC$(st,5,e.y8U),e.CC$(lt,5,e.y8U)),2&n){let r;e.wto(r=e.Gqi())&&(i.tagNavi=r.first),e.wto(r=e.Gqi())&&(i.sideNavigator=r.first),e.wto(r=e.Gqi())&&(i.gitweeFireGitweeContainer=r.first)}},decls:18,vars:14,consts:[[1,"container-fluid"],["id","gitweeMainContainer",1,"row","flex-xl-nowrap"],["id","gitweeSidebarNavContainer",1,"col-12","col-md-4","col-xl-3","navbar-dark","rounded"],["type","button","data-bs-toggle","collapse","data-bs-target","#gitweeSidebarNavBody","aria-expanded","true","aria-label","Toggle docs navigation",1,"navbar-toggler","d-md-none","collapsed"],[1,"navbar-toggler-icon"],["id","gitweeSidebarNavBody",1,"collapse",2,"position","sticky"],["sideNavigator",""],[1,"m-1",3,"route$","urlPrefix","tagSelected","notFound"],["tagNavi",""],[1,"m-1",3,"route$","urlPrefix","nodeExpanded","notFound"],["calendarNavi",""],[1,"m-1"],["id","gitweeTimelineContainer",1,"col-12","col-md-8","col-xl-9"],["id","gitweeFireGitweeContainer",3,"appAfterIf",4,"ngIf"],[3,"naviEntries$"],["id","gitweeLoadingLogoMask",3,"click",4,"ngIf"],["id","gitweeFireGitweeContainer",3,"appAfterIf"],["gitweeFireGitweeContainer",""],["id","gitweeLoadingLogoMask",3,"click"],["id","gitweeLogoMask"],["xmlns","http://www.w3.org/2000/svg","width","45vw","height","45vw"],["id","gitweeSvgGradient1"],["offset","0%","stop-color","#31b271",1,"stop1"],["offset","50%","stop-color","#eb6ba4","stop-opacity","0.8",1,"stop2"],["offset","100%","stop-color","#1db8ee",1,"stop3"],["id","gitweeLoadingCircle","fill","none","transform-origin","center","stroke","url(#gitweeSvgGradient1)","stroke-width","1.5%","cx","50%","cy","50%","r","30%"],["attributeName","transform","attributeType","XML","keyTimes","0;1","calcMode","spline","keySplines","0.42 0.0 0.58 1.0","type","rotate","from","0","to","-2160","dur","3s","additive","replace","fill","freeze","repeatCount","indefinite"],["id","gitweeLogoText","x","28% 38% 43% 54% 65% 75% 86%","stroke","none","font-size","8vw","lengthAdjust","spacing","textLength","100%","text-anchor","middle","font-family","Verdana","y","55% 55% 55% 55% 55% 55%"],["id","gitwee-char1","fill","#eb6ba4",1,"gitwee-char"],["attributeType","XML","attributeName","dy","dur","3s","values","-15%; 0    ; -8% ; 0    ; -4% ; 0   ; -1.5% ; 0   ; 0","keyTimes","0 ; 0.03 ; 0.05 ; 0.07 ; 0.09; 0.12; 0.14; 0.16; 1","begin","1.0s;","repeatCount","indefinite"],["id","gitwee-char2","fill","#31b271",1,"gitwee-char"],["attributeType","XML","attributeName","dy","dur","3s","values","-15%; 0    ; -8% ; 0    ; -4% ; 0   ; -1.5% ; 0   ; 0","keyTimes","0 ; 0.03 ; 0.05 ; 0.07 ; 0.09; 0.12; 0.14; 0.16; 1","begin","1.8s;","repeatCount","indefinite"],["id","gitwee-char3","fill","#1db8ee",1,"gitwee-char"],["attributeType","XML","attributeName","dy","dur","3s","values","-15%; 0    ; -8% ; 0    ; -4% ; 0   ; -1.5% ; 0   ; 0","keyTimes","0 ; 0.03 ; 0.05 ; 0.07 ; 0.09; 0.12; 0.14; 0.16; 1","begin","2.6s;","repeatCount","indefinite"],["id","gitwee-char4","fill","#fff562",1,"gitwee-char"],["attributeType","XML","attributeName","dy","dur","3s","values","-15%; 0    ; -8% ; 0    ; -4% ; 0   ; -1.5% ; 0   ; 0","keyTimes","0 ; 0.03 ; 0.05 ; 0.07 ; 0.09; 0.12; 0.14; 0.16; 1","begin","1.4s;","repeatCount","indefinite"],["id","gitwee-char5","fill","#24b6b3",1,"gitwee-char"],["attributeType","XML","attributeName","dy","dur","3s","values","-15%; 0    ; -8% ; 0    ; -4% ; 0   ; -1.5% ; 0   ; 0","keyTimes","0 ; 0.03 ; 0.05 ; 0.07 ; 0.09; 0.12; 0.14; 0.16; 1","begin","2.2s;","repeatCount","indefinite"],["id","gitwee-char6","fill","#6357a3",1,"gitwee-char"],["attributeType","XML","attributeName","dy","dur","3s","values","-15%; 0    ; -8% ; 0    ; -4% ; 0   ; -1.5% ; 0   ; 0","keyTimes","0 ; 0.03 ; 0.05 ; 0.07 ; 0.09; 0.12; 0.14; 0.16; 1","begin","3.0s;","repeatCount","indefinite"]],template:function(n,i){if(1&n){const r=e.KQA();e.I0R(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.wR5(4,"span",4),e.C$Y(),e.I0R(5,"div",5,6),e.wVc(7,"async"),e.I0R(8,"gitwee-tag-navi",7,8),e.qCj("tagSelected",function(s){e.usT(r);const c=e.Gew(9);return e.CGJ(i.entriesSelected(c,s))})("notFound",function(){e.usT(r);const s=e.Gew(9);return e.CGJ(i.entriesNotFound(s))}),e.C$Y(),e.I0R(10,"gitwee-calendar-navi",9,10),e.qCj("nodeExpanded",function(s){e.usT(r);const c=e.Gew(11);return e.CGJ(i.entriesSelected(c,s))})("notFound",function(){e.usT(r);const s=e.Gew(11);return e.CGJ(i.entriesNotFound(s))}),e.C$Y(),e.wR5(12,"app-external-banner",11),e.C$Y()(),e.I0R(13,"div",12),e.yuY(14,dt,2,0,"div",13),e.wVc(15,"async"),e.wR5(16,"gitwee-timeline",14),e.C$Y()()(),e.yuY(17,ct,29,1,"div",15)}2&n&&(e.E7m("@animationTrigger",void 0),e.yG2(5),e.m4B("top",e.kDX(7,10,i.sidebarStickyTop$),"px"),e.yG2(3),e.E7m("route$",i.gitweeRoute$)("urlPrefix",i.gitweeUrlPrefix),e.yG2(2),e.E7m("route$",i.gitweeRoute$)("urlPrefix",i.gitweeUrlPrefix),e.yG2(4),e.E7m("ngIf",e.kDX(15,12,i.eventShowFireGitwee$)),e.yG2(2),e.E7m("naviEntries$",i.targetTimeline$),e.yG2(),e.E7m("ngIf",i.isLoading))},dependencies:[f.u_,M.M,Ne,We,et,rt,f.a],styles:["#gitweeMainContainer[_ngcontent-%COMP%]{flex-direction:row-reverse}@media (min-width: 768px){#gitweeSidebarNavBody[_ngcontent-%COMP%]{display:block}}@media not screen and (min-width: 768px){#gitweeSidebarNavContainer[_ngcontent-%COMP%]{background-color:#cfdee7}}#gitweeSidebarNavContainer[_ngcontent-%COMP%]{text-align:left;z-index:10}#gitweeLoadingLogoMask[_ngcontent-%COMP%]{left:0%;top:0%;position:fixed;background:#8b7355;opacity:.75;width:100%;height:100%;text-align:center;z-index:99999999}#gitweeLogoMask[_ngcontent-%COMP%]{top:20%;position:relative}"],data:{animation:[(0,d.gV)("animationTrigger",[(0,d.aK)(":enter",[(0,d.wb)({opacity:0}),(0,d.Cs)("800ms ease-in-out",(0,d.wb)({opacity:1}))])]),(0,d.gV)("loadingTrigger",[(0,d.aK)(":enter",[(0,d.wb)({transform:"translateY(-100%)",opacity:0}),(0,d.Cs)("800ms ease-in-out",(0,d.wb)({transform:"none",opacity:"*"}))]),(0,d.aK)(":leave",[(0,d.Cs)("800ms ease-in-out",(0,d.wb)({transform:"translateY(-100%)",opacity:0}))])])]}})}return a})();const ht=[{path:"index.htm",redirectTo:""},{path:"jump/**",component:g(2532).k},{path:"",component:ut,children:[{path:"timeline",children:[{path:"index.htm",redirectTo:""}]},{path:"timeline/:year",children:[{path:"index.htm",redirectTo:""}]},{path:"timeline/:year/:month",children:[{path:"index.htm",redirectTo:""}]},{path:"timeline/:year/:month/:day",children:[{path:"index.htm",redirectTo:""}]},{path:"tag/:tagkey",children:[{path:"index.htm",redirectTo:""}]},{path:"**",redirectTo:""}]}];let pt=(()=>{class a{static \u0275fac=function(n){return new(n||a)};static \u0275mod=e.a4G({type:a});static \u0275inj=e.s3X({imports:[w.qQ.forChild(ht),w.qQ]})}return a})();var mt=g(4576),ft=g(9836);let yt=(()=>{class a{constructor(){(0,u.rD)("Dynamically loaded GitweeModule")}static \u0275fac=function(n){return new(n||a)};static \u0275mod=e.a4G({type:a});static \u0275inj=e.s3X({providers:[I],imports:[f.MD,pt,mt.w,ft.y]})}return a})()}}]);