"use strict";(self.webpackChunkKaguraGithubPages=self.webpackChunkKaguraGithubPages||[]).push([[420],{7420:(Ht,v,c)=>{c.r(v),c.d(v,{CommentEntryComponent:()=>Ot});var _=c(467),D=c(9568),m=c(5312),t=c(4438),l=c(1474),$=c(1637),C=c(4871),E=c(7055),g=c(5794),p=c(177),f=c(4416),x=c(2275),G=c(6977),B=c(5558),F=c(6354),b=c(1413),I=c(7673),h=c(9243),y=c(681),d=c(9417),A=c(5964),T=c(896);function R(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",9)(1,"button",10),t.bIt("click",function(){t.eBV(n);const i=t.XpG();return t.Njj(i.onClickDismiss())}),t.j41(2,"span",11),t.EFF(3,"\xd7"),t.k0s()()()}}function j(e,s){1&e&&(t.j41(0,"div",12),t.EFF(1,"OK!"),t.k0s())}function w(e,s){1&e&&(t.j41(0,"div",14),t.EFF(1,"\u5165\u529b\u5fc5\u9808\u3067\u3059\u3002"),t.k0s())}function L(e,s){1&e&&(t.j41(0,"div",14),t.EFF(1,"\u9577\u3059\u304e\u307e\u3059\u3002"),t.k0s())}function X(e,s){1&e&&(t.j41(0,"div",14),t.EFF(1,"\u77ed\u3059\u304e\u307e\u3059\u3002"),t.k0s())}function M(e,s){if(1&e&&(t.qex(0),t.DNE(1,w,2,0,"div",13)(2,L,2,0,"div",13)(3,X,2,0,"div",13),t.bVm()),2&e){const n=t.XpG();t.R7$(),t.Y8G("ngIf",null==n.textareaControl.errors?null:n.textareaControl.errors.required),t.R7$(),t.Y8G("ngIf",null==n.textareaControl.errors?null:n.textareaControl.errors.maxlength),t.R7$(),t.Y8G("ngIf",null==n.textareaControl.errors?null:n.textareaControl.errors.minlength)}}let k=(()=>{class e{user;auth;toastr;funcs;tos;editModel;pageId;showDismiss=!1;replyId;requestSent=new t.bkB;editDismiss=new t.bkB;inputForm;constructor(n,o,i,u,r){this.user=n,this.auth=o,this.toastr=i,this.funcs=u,this.tos=r}get textareaControl(){return this.inputForm.get("commentText")}ngOnInit(){(0,m.Oi)("CommentEditorComponent.OnInit()"),this.inputForm=new d.gE({}),this.inputForm.addControl("commentText",new d.MJ(this.editModel?this.editModel.message:null,[d.k0.required]))}onClickDismiss(){(0,m.Oi)("CommentEditorComponent.onClickDismiss()"),this.editDismiss.emit()}doNewPost(){var n=this;return(0,_.A)(function*(){const o={message:n.textareaControl.value,pageId:n.pageId,replyId:n.replyId};return yield n.funcs.call("postComment",o)})()}doUpdatePost(n){var o=this;return(0,_.A)(function*(){const i={pageId:o.pageId,commentId:n.id,message:o.textareaControl.value};return yield o.funcs.call("editComment",i)})()}onClickPostComment(){var n=this;(0,m.Oi)("CommentEditorComponent.onClickPostComment()"),!this.inputForm.invalid&&(this.textareaControl.invalid||this.tos.confirmTos$(`${this.auth.myUid}/commentAgreement`,m.cA.CommentServiceTosUrl).pipe((0,A.p)(o=>o)).subscribe(function(){var o=(0,_.A)(function*(i){n.inputForm.disable();try{n.editModel?yield n.doUpdatePost(n.editModel):yield n.doNewPost(),n.toastr.info("\u6295\u7a3f\u3057\u307e\u3057\u305f\u3002(\u627f\u8a8d\u3055\u308c\u308b\u307e\u3067\u4ed6\u306e\u4eba\u306b\u306f\u8868\u793a\u3055\u308c\u307e\u305b\u3093\u3002)"),n.textareaControl.setValue(""),n.inputForm.markAsPristine(),n.inputForm.markAsUntouched(),n.requestSent.emit()}catch(u){n.toastr.error("message"in u?`\u6295\u7a3f\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002( ${u.message} )`:"\u6295\u7a3f\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")}finally{n.inputForm.enable()}});return function(i){return o.apply(this,arguments)}}()))}static \u0275fac=function(o){return new(o||e)(t.rXU(h.D),t.rXU(l.u),t.rXU(g.tw),t.rXU(C.Y),t.rXU(T.u))};static \u0275cmp=t.VBU({type:e,selectors:[["gitfire-comment-editor"]],inputs:{editModel:"editModel",pageId:"pageId",showDismiss:"showDismiss",replyId:"replyId"},outputs:{requestSent:"requestSent",editDismiss:"editDismiss"},decls:16,vars:14,consts:[["class","text-end",4,"ngIf"],[1,"input-group",3,"formGroup"],["title","\u3053\u306e\u540d\u524d\u3067\u6295\u7a3f\u306f\u8868\u793a\u3055\u308c\u307e\u3059\u3002","src","/assets/octicons/question.svg",1,"m-1","octicon-info","help-icon"],["disabled","",1,"m-3",3,"value"],[1,"m-3"],["autofocus","","name","commentText","formControlName","commentText","placeholder","\u6295\u7a3f\u3059\u308b\u30b3\u30e1\u30f3\u30c8\u3092\u3053\u3053\u306b\u66f8\u3044\u3066\u304f\u3060\u3055\u3044\u3002","required","","minlength","5","maxlength","65536",1,"p-3","form-control"],["class","valid-feedback",4,"ngIf"],[4,"ngIf"],["title","\u30b3\u30e1\u30f3\u30c8\u5185\u5bb9\u306f\u627f\u8a8d\u5f8c\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002",1,"btn","btn-primary","m-2",3,"click","disabled"],[1,"text-end"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["aria-hidden","true"],[1,"valid-feedback"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"]],template:function(o,i){1&o&&(t.DNE(0,R,4,0,"div",0),t.j41(1,"div",1)(2,"div")(3,"label"),t.EFF(4,"\u540d\u524d"),t.nrm(5,"img",2),t.EFF(6,": "),t.k0s(),t.nrm(7,"input",3),t.nI1(8,"async"),t.k0s(),t.j41(9,"div",4),t.nrm(10,"textarea",5),t.DNE(11,j,2,0,"div",6)(12,M,4,3,"ng-container",7),t.k0s(),t.j41(13,"div")(14,"button",8),t.bIt("click",function(){return i.onClickPostComment()}),t.EFF(15,"\u6295\u7a3f\u3059\u308b"),t.k0s()()()),2&o&&(t.Y8G("ngIf",i.showDismiss),t.R7$(),t.AVh("was-validated",i.textareaControl.dirty||i.textareaControl.touched),t.Y8G("formGroup",i.inputForm),t.R7$(6),t.FS9("value",t.bMT(8,12,i.user.myNickname$())),t.R7$(2),t.xc7("width",100,"%"),t.R7$(),t.xc7("height",8,"rem"),t.R7$(),t.Y8G("ngIf",!i.textareaControl.invalid),t.R7$(),t.Y8G("ngIf",i.textareaControl.invalid),t.R7$(2),t.Y8G("disabled",i.textareaControl.invalid||i.inputForm.disabled))},dependencies:[p.bT,d.me,d.BC,d.cb,d.YS,d.xh,d.tU,d.j4,d.JD,p.Jj]})}return e})();function Y(e,s){1&e&&t.nrm(0,"span",3)}function P(e,s){if(1&e&&(t.j41(0,"span",21)(1,"small",7),t.nI1(2,"date"),t.EFF(3),t.nI1(4,"date"),t.k0s()()),2&e){const n=t.XpG().$implicit;t.R7$(),t.FS9("title",t.i5U(2,2,n.updatedAt,"yyyy-MM-dd HH:mm")),t.R7$(2),t.SpI("\u66f4\u65b0\u65e5: ",t.i5U(4,5,n.updatedAt,"yyyy-MM-dd"),"")}}function N(e,s){if(1&e&&(t.j41(0,"span",21)(1,"small"),t.EFF(2),t.nI1(3,"date"),t.k0s()()),2&e){const n=t.XpG().$implicit;t.R7$(2),t.SpI("\u627f\u8a8d\u65e5: ",t.i5U(3,1,n.decisionAt,"yyyy-MM-dd"),"")}}function V(e,s){if(1&e){const n=t.RV6();t.j41(0,"a",33),t.bIt("click",function(i){t.eBV(n);const u=t.XpG(2).$implicit,r=t.XpG(2);return t.Njj(r.onClickApprove(i,u))}),t.EFF(1,"\u627f\u8a8d"),t.k0s()}}function U(e,s){if(1&e){const n=t.RV6();t.j41(0,"a",34),t.bIt("click",function(i){t.eBV(n);const u=t.XpG(2).$implicit,r=t.XpG(2);return t.Njj(r.onClickApprove(i,u))}),t.EFF(1,"\u7de8\u96c6\u627f\u8a8d"),t.k0s()}}function S(e,s){if(1&e){const n=t.RV6();t.j41(0,"a",35),t.bIt("click",function(i){t.eBV(n);const u=t.XpG(2).$implicit,r=t.XpG(2);return t.Njj(r.onClickApprove(i,u))}),t.EFF(1,"\u524a\u9664\u627f\u8a8d"),t.k0s()}}function O(e,s){if(1&e){const n=t.RV6();t.j41(0,"a",36),t.bIt("click",function(i){t.eBV(n);const u=t.XpG(2).$implicit,r=t.XpG(2);return t.Njj(r.onClickReject(i,u))}),t.EFF(1,"\u62d2\u5426"),t.k0s()}}function H(e,s){if(1&e){const n=t.RV6();t.j41(0,"a",37),t.bIt("click",function(i){t.eBV(n);const u=t.XpG(2).$implicit,r=t.XpG(2);return t.Njj(r.onClickReject(i,u))}),t.EFF(1,"\u7de8\u96c6\u62d2\u5426"),t.k0s()}}function q(e,s){if(1&e){const n=t.RV6();t.j41(0,"a",38),t.bIt("click",function(i){t.eBV(n);const u=t.XpG(2).$implicit,r=t.XpG(2);return t.Njj(r.onClickReject(i,u))}),t.EFF(1,"\u7de8\u96c6\u62d2\u5426"),t.k0s()}}function J(e,s){if(1&e){const n=t.RV6();t.j41(0,"a",39),t.bIt("click",function(i){t.eBV(n);const u=t.XpG(2).$implicit,r=t.XpG(2);return t.Njj(r.onClickProtect(i,u))}),t.EFF(1,"\u4fdd\u8b77"),t.k0s()}}function W(e,s){if(1&e){const n=t.RV6();t.j41(0,"a",40),t.bIt("click",function(i){t.eBV(n);const u=t.XpG(2).$implicit,r=t.XpG(2);return t.Njj(r.onClickUnProtect(i,u))}),t.EFF(1,"\u4fdd\u8b77\u89e3\u9664"),t.k0s()}}function K(e,s){if(1&e&&(t.j41(0,"span",22)(1,"span",23),t.EFF(2,"\ufe19"),t.k0s(),t.j41(3,"div",24),t.DNE(4,V,2,0,"a",25)(5,U,2,0,"a",26)(6,S,2,0,"a",27)(7,O,2,0,"a",28)(8,H,2,0,"a",29)(9,q,2,0,"a",30)(10,J,2,0,"a",31)(11,W,2,0,"a",32),t.k0s()()),2&e){const n=t.XpG().$implicit;t.R7$(4),t.Y8G("ngIf","pending"===n.store.state),t.R7$(),t.Y8G("ngIf","approved"===n.store.state&&"edit-request"===n.store.editedState),t.R7$(),t.Y8G("ngIf","approved"===n.store.state&&"delete-request"===n.store.editedState),t.R7$(),t.Y8G("ngIf","pending"===n.store.state),t.R7$(),t.Y8G("ngIf","approved"===n.store.state&&"edit-request"===n.store.editedState),t.R7$(),t.Y8G("ngIf","approved"===n.store.state&&"delete-request"===n.store.editedState),t.R7$(),t.Y8G("ngIf","approved"===n.store.state&&!n.store.isAdminEdit),t.R7$(),t.Y8G("ngIf","approved"===n.store.state&&n.store.isAdminEdit)}}function Q(e,s){1&e&&t.nrm(0,"gitfire-user-box",41),2&e&&t.Y8G("userPublic",s.$implicit)}function z(e,s){1&e&&(t.j41(0,"span",42),t.EFF(1,"\u7ba1\u7406\u4eba\u306b\u3088\u308b\u4fdd\u8b77"),t.k0s())}function Z(e,s){1&e&&(t.j41(0,"span",43),t.EFF(1,"\u5374\u4e0b\u3055\u308c\u305f\u30b3\u30e1\u30f3\u30c8\u3067\u3059\u3002"),t.k0s())}function tt(e,s){1&e&&(t.j41(0,"span",44),t.EFF(1,"\u627f\u8a8d\u5f85\u3061\u306e\u30b3\u30e1\u30f3\u30c8\u3067\u3059\u3002"),t.k0s())}function nt(e,s){1&e&&(t.j41(0,"span",44),t.EFF(1,"\u524a\u9664\u3055\u308c\u307e\u3057\u305f\u3002"),t.k0s())}function et(e,s){1&e&&(t.j41(0,"span",43),t.EFF(1,"\u7de8\u96c6\u7533\u8acb\u304c\u5374\u4e0b\u3055\u308c\u307e\u3057\u305f\u3002"),t.k0s())}function it(e,s){1&e&&(t.j41(0,"span",43),t.EFF(1,"\u524a\u9664\u7533\u8acb\u304c\u5374\u4e0b\u3055\u308c\u307e\u3057\u305f\u3002"),t.k0s())}function ot(e,s){1&e&&(t.j41(0,"span",43),t.EFF(1,"\u524a\u9664\u7533\u8acb\u4e2d\u3067\u3059\u3002"),t.k0s())}function ut(e,s){1&e&&(t.j41(0,"span",44),t.EFF(1,"\u7de8\u96c6\u7533\u8acb\u4e2d\u3067\u3059\u3002"),t.k0s())}function st(e,s){if(1&e&&(t.qex(0)(1,14),t.DNE(2,et,2,0,"span",15)(3,it,2,0,"span",15)(4,ot,2,0,"span",15)(5,ut,2,0,"span",16),t.bVm()()),2&e){const n=t.XpG().$implicit;t.R7$(),t.Y8G("ngSwitch",n.store.editedState),t.R7$(),t.Y8G("ngSwitchCase","edit-rejected"),t.R7$(),t.Y8G("ngSwitchCase","delete-rejected"),t.R7$(),t.Y8G("ngSwitchCase","delete-request"),t.R7$(),t.Y8G("ngSwitchCase","edit-request")}}function rt(e,s){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"gitfire-comment-editor",46),t.bIt("requestSent",function(){t.eBV(n);const i=t.XpG(3).$implicit,u=t.XpG(2);return t.Njj(u.onEditRequested(i))})("editDismiss",function(){t.eBV(n);const i=t.XpG(3).$implicit,u=t.XpG(2);return t.Njj(u.onEditDismissed(i))}),t.k0s(),t.bVm()}if(2&e){const n=s.$implicit,o=t.XpG(5);t.R7$(),t.Y8G("pageId",o.pageId)("editModel",n)("showDismiss",!0)}}function mt(e,s){if(1&e&&(t.qex(0),t.DNE(1,rt,2,3,"ng-container",2),t.nI1(2,"async"),t.bVm()),2&e){const n=t.XpG(2).$implicit;t.R7$(),t.Y8G("ngIf",t.bMT(2,1,n.editor$))}}function ct(e,s){if(1&e&&t.nrm(0,"div",47),2&e){const n=t.XpG(2).$implicit;t.Y8G("innerHTML",n.store.messageHtml,t.npT)}}function at(e,s){if(1&e&&(t.j41(0,"div"),t.DNE(1,mt,3,3,"ng-container",2)(2,ct,1,1,"div",45),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",n.isEditing),t.R7$(),t.Y8G("ngIf","approved"===n.store.state&&!n.isEditing)}}function _t(e,s){if(1&e&&t.nrm(0,"div",47),2&e){const n=t.XpG(2).$implicit;t.Y8G("innerHTML",n.store.messageHtml,t.npT)}}function dt(e,s){if(1&e&&(t.qex(0),t.DNE(1,_t,1,1,"div",45),t.bVm()),2&e){const n=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf","approved"===n.store.state)}}function pt(e,s){1&e&&t.nrm(0,"span",3)}function lt(e,s){1&e&&t.nrm(0,"div",53),2&e&&t.Y8G("innerHTML",s.$implicit.messageHtml,t.npT)}function Ct(e,s){if(1&e&&(t.j41(0,"div",51)(1,"span",44),t.EFF(2,"\u7533\u8acb\u4e2d\u306e\u30e1\u30c3\u30bb\u30fc\u30b8"),t.k0s(),t.DNE(3,lt,1,1,"div",52),t.nI1(4,"async"),t.k0s()),2&e){t.XpG();const n=t.sdS(2),o=t.XpG().$implicit;t.R7$(3),t.Y8G("ngIf",t.bMT(4,2,o.privateMessage$))("ngIfElse",n)}}function gt(e,s){1&e&&t.nrm(0,"div",53),2&e&&t.Y8G("innerHTML",s.$implicit.messageHtml,t.npT)}function ft(e,s){if(1&e&&(t.j41(0,"div",54)(1,"span",43),t.EFF(2,"\u5374\u4e0b\u3055\u308c\u305f\u30e1\u30c3\u30bb\u30fc\u30b8"),t.k0s(),t.DNE(3,gt,1,1,"div",52),t.nI1(4,"async"),t.k0s()),2&e){t.XpG();const n=t.sdS(2),o=t.XpG().$implicit;t.R7$(3),t.Y8G("ngIf",t.bMT(4,2,o.privateMessage$))("ngIfElse",n)}}function vt(e,s){1&e&&t.nrm(0,"div",53),2&e&&t.Y8G("innerHTML",s.$implicit.messageHtml,t.npT)}function Et(e,s){if(1&e&&(t.j41(0,"div",51)(1,"span",44),t.EFF(2,"\u7de8\u96c6\u7533\u8acb\u4e2d\u306e\u30e1\u30c3\u30bb\u30fc\u30b8"),t.k0s(),t.DNE(3,vt,1,1,"div",52),t.nI1(4,"async"),t.k0s()),2&e){t.XpG(2);const n=t.sdS(2),o=t.XpG().$implicit;t.R7$(3),t.Y8G("ngIf",t.bMT(4,2,o.privateMessage$))("ngIfElse",n)}}function Ft(e,s){1&e&&t.nrm(0,"div",53),2&e&&t.Y8G("innerHTML",s.$implicit.messageHtml,t.npT)}function It(e,s){if(1&e&&(t.j41(0,"div",54)(1,"span",43),t.EFF(2,"\u7de8\u96c6\u7533\u8acb\u304c\u5374\u4e0b\u3055\u308c\u305f\u30e1\u30c3\u30bb\u30fc\u30b8"),t.k0s(),t.DNE(3,Ft,1,1,"div",52),t.nI1(4,"async"),t.k0s()),2&e){t.XpG(2);const n=t.sdS(2),o=t.XpG().$implicit;t.R7$(3),t.Y8G("ngIf",t.bMT(4,2,o.privateMessage$))("ngIfElse",n)}}function ht(e,s){if(1&e&&(t.j41(0,"div"),t.DNE(1,Et,5,4,"div",49)(2,It,5,4,"div",50),t.k0s()),2&e){const n=t.XpG(2).$implicit;t.R7$(),t.Y8G("ngIf","edit-request"===n.store.editedState),t.R7$(),t.Y8G("ngIf","edit-rejected"===n.store.editedState)}}function kt(e,s){if(1&e&&(t.j41(0,"div",48),t.DNE(1,pt,1,0,"ng-template",null,0,t.C5r)(3,Ct,5,4,"div",49)(4,ft,5,4,"div",50)(5,ht,3,2,"div",2),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(3),t.Y8G("ngIf","pending"===n.store.state),t.R7$(),t.Y8G("ngIf","rejected"===n.store.state),t.R7$(),t.Y8G("ngIf","approved"===n.store.state)}}function Dt(e,s){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"button",55),t.bIt("click",function(i){t.eBV(n);const u=t.XpG().$implicit,r=t.XpG(2);return t.Njj(r.onClickReply(i,u))}),t.EFF(2,"\u8fd4\u4fe1"),t.k0s(),t.bVm()}}function $t(e,s){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"button",56),t.bIt("click",function(i){t.eBV(n);const u=t.XpG().$implicit,r=t.XpG(2);return t.Njj(r.onClickDelete(i,u))}),t.EFF(2,"\u524a\u9664"),t.k0s(),t.j41(3,"button",57),t.bIt("click",function(i){t.eBV(n);const u=t.XpG().$implicit,r=t.XpG(2);return t.Njj(r.onClickEdit(i,u))}),t.EFF(4,"\u7de8\u96c6"),t.k0s(),t.bVm()}}function xt(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",19)(1,"gitfire-comment-editor",58),t.bIt("requestSent",function(){t.eBV(n);const i=t.XpG().$implicit,u=t.XpG(2);return t.Njj(u.onReplyRequested(i))})("editDismiss",function(){t.eBV(n);const i=t.XpG().$implicit,u=t.XpG(2);return t.Njj(u.onReplyDismissed(i))}),t.k0s()()}if(2&e){const n=t.XpG().$implicit,o=t.XpG(2);t.R7$(),t.Y8G("showDismiss",!0)("replyId",n.store.id)("pageId",o.pageId)}}function Gt(e,s){if(1&e&&(t.j41(0,"div",6)(1,"div")(2,"div")(3,"span",7),t.nI1(4,"date"),t.EFF(5),t.nI1(6,"date"),t.k0s(),t.DNE(7,P,5,8,"span",8)(8,N,4,4,"span",8)(9,K,12,8,"span",9),t.k0s(),t.j41(10,"div",10),t.EFF(11,"\u30e6\u30fc\u30b6: "),t.DNE(12,Q,1,1,"gitfire-user-box",11),t.nI1(13,"async"),t.k0s()(),t.j41(14,"div",12)(15,"div"),t.DNE(16,z,2,0,"span",13),t.qex(17,14),t.DNE(18,Z,2,0,"span",15)(19,tt,2,0,"span",16)(20,nt,2,0,"span",16)(21,st,6,5,"ng-container",17),t.bVm(),t.k0s(),t.j41(22,"div"),t.DNE(23,at,3,2,"div",2)(24,dt,2,1,"ng-container",2),t.k0s(),t.DNE(25,kt,6,3,"div",18),t.k0s(),t.j41(26,"div",19),t.DNE(27,Dt,3,0,"ng-container",2)(28,$t,5,0,"ng-container",2),t.k0s(),t.DNE(29,xt,2,3,"div",20),t.k0s()),2&e){const n=s.$implicit,o=s.odd,i=t.XpG(2);t.xc7("background",o?i.ACCENT_COLOR:null),t.Mz_("id","appGitfireComment-",n.store.id,""),t.R7$(3),t.FS9("title",t.i5U(4,22,n.publishAt,"yyyy-MM-dd HH:mm")),t.R7$(2),t.SpI("\u6295\u7a3f\u65e5\u6642: ",t.i5U(6,25,n.publishAt,"yyyy-MM-dd HH:mm"),""),t.R7$(2),t.Y8G("ngIf",n.isEdited),t.R7$(),t.Y8G("ngIf",n.decisionAt),t.R7$(),t.Y8G("ngIf",n.isDisplayAdmin),t.R7$(3),t.Y8G("ngIf",t.bMT(13,28,n.user$)),t.R7$(4),t.Y8G("ngIf",n.store.isAdminEdit),t.R7$(),t.Y8G("ngSwitch",n.store.state),t.R7$(),t.Y8G("ngSwitchCase","rejected"),t.R7$(),t.Y8G("ngSwitchCase","pending"),t.R7$(),t.Y8G("ngSwitchCase","deleted"),t.R7$(),t.Y8G("ngSwitchCase","approved"),t.R7$(2),t.Y8G("ngIf",n.isOwn),t.R7$(),t.Y8G("ngIf",!n.isOwn),t.R7$(),t.Y8G("ngIf",n.isOwn||n.isDisplayAdmin),t.R7$(2),t.Y8G("ngIf",n.canReply),t.R7$(),t.Y8G("ngIf",n.canChange),t.R7$(),t.Y8G("ngIf",n.isReplying)}}function Bt(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",59),t.bIt("click",function(i){t.eBV(n);const u=t.XpG(2);return t.Njj(u.onClickMoreComment(i))}),t.EFF(1,"\u3055\u3089\u306b\u8aad\u307f\u8fbc\u3080"),t.k0s()}}function bt(e,s){if(1&e&&(t.j41(0,"div"),t.DNE(1,Gt,30,30,"div",4)(2,Bt,2,0,"button",5),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.Y8G("ngForOf",n.comments),t.R7$(),t.Y8G("ngIf",n.maybeMoreComment)}}class yt{store;updatedAt;publishAt;decisionAt;isEdited;privateMessage$;editor$;user$;isEditing;isReplying;isDisplayAdmin;canReply;canChange;isOwn}let At=(()=>{class e{auth;user;dialog;store;funcs;toastr;ACCENT_COLOR=m.cA.themaColor.EVEN;destroy$=new b.B;pageId;isPageProtect=!1;comments$;comments=[];commentData={};maybeMoreComment=!1;isLoading=!0;constructor(n,o,i,u,r,a){this.auth=n,this.user=o,this.dialog=i,this.store=u,this.funcs=r,this.toastr=a}ngOnDestroy(){(0,m.Oi)("CommentListComponent.OnDestroy()"),this.destroy$.next()}ngOnInit(){(0,m.Oi)("CommentListComponent.OnInit()"),this.comments$=this.store.doc(`/comment/v1/page/${this.pageId}`).collection("public",n=>n.orderBy("publishAt","desc").limit(30)).valueChanges({idField:"id"}),this.comments$.pipe((0,G.Q)(this.destroy$)).subscribe(n=>{for(let o of n){let i=this.commentData[o.id];i||(i=new yt,this.comments.push(i)),i.publishAt=o.publishAt.toDate(),i.updatedAt=o.updatedAt.toDate();const u=i.updatedAt.getTime()-i.publishAt.getTime();i.isEdited="none"!==o.editedState&&Math.abs(u)>5,o.decisionAt&&(i.decisionAt=o.decisionAt.toDate()),i.user$=this.user.user$(o.owner),i.store=o,this.auth.myUid===o.owner||this.auth.isAdmin?i.privateMessage$||(i.privateMessage$=(0,I.of)({pageId:this.pageId,commentId:o.id}).pipe((0,B.n)(a=>this.funcs.call("readPrivateComment",a)),(0,F.T)(a=>a)),i.editor$=i.privateMessage$.pipe((0,F.T)(a=>({id:a.id,message:a.message,images:a.images})))):i.editor$=(0,I.of)({id:o.id,message:o.message,images:o.images}),i.isDisplayAdmin=this.auth.isAdmin,i.isOwn=o.owner===this.auth.myUid,i.canReply=!this.isPageProtect&&!i.isOwn&&"approved"==o.state&&!o.isProtect,i.canChange=i.isOwn&&!o.isAdminEdit&&!o.isProtect&&"approved"===o.state,this.commentData[o.id]=i}this.comments=this.comments.sort((o,i)=>i.publishAt.getTime()-o.publishAt.getTime()),this.isLoading=!1})}onClickEdit(n,o){(0,m.Oi)("CommentListComponent.onClickEdit()"),o.isEditing=!0}doDeleteRequest(n){var o=this;return(0,_.A)(function*(){const i={pageId:o.pageId,commentId:n.store.id};try{yield o.funcs.call("deleteComment",i),o.toastr.info("\u524a\u9664\u7533\u8acb\u3057\u307e\u3057\u305f\u3002\u627f\u8a8d\u5f8c\u306b\u524a\u9664\u3055\u308c\u307e\u3059\u3002")}catch(u){(0,m.sJ)("Error while delete request",u);const r=u instanceof Error?u.message:"Unknown error";o.toastr.error(`\u524a\u9664\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002 ( ${r} )`)}})()}onClickDelete(n,o){var i=this;return(0,_.A)(function*(){(0,m.Oi)("onClickDelete()",n,o);const u=i.dialog.createHtmlBuilder(),r=new x.tt("\n<div>\n\u7ba1\u7406\u4eba\u306b\u627f\u8a8d\u3055\u308c\u305f\u5f8c\u3067\u524a\u9664\u3055\u308c\u307e\u3059\u3002\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f\n</div>\n");u.setMessage(r).setType(f.hs.Warn).setSize(f.EV.Default).setTitle("\u78ba\u8a8d").okButton((0,_.A)(function*(){yield i.doDeleteRequest(o)})).cancelButton(()=>{}).open()})()}onClickReply(n,o){(0,m.Oi)("CommentListComponent.onClickReply()",n,o),o.isReplying=!0}onEditDismissed(n){(0,m.Oi)("CommentListComponent.onEditDismissed()"),n.isEditing=!1}onEditRequested(n){(0,m.Oi)("CommentListComponent.onEditRequested()"),n.isEditing=!1}onReplyRequested(n){(0,m.Oi)("CommentListComponent.onReplyRequested()"),n.isReplying=!1}onReplyDismissed(n){(0,m.Oi)("CommentListComponent.onReplyDismissed()"),n.isReplying=!1}onClickMoreComment(n){(0,m.Oi)("CommentListComponent.onClickMoreComment()")}onClickApprove(n,o){var i=this;return(0,_.A)(function*(){(0,m.Oi)("CommentListComponent.onClickApprove()");const u={pageId:i.pageId,commentId:o.store.id};try{yield i.funcs.call("approveComment",u),i.toastr.info("\u627f\u8a8d\u3057\u307e\u3057\u305f\u3002")}catch(r){(0,m.sJ)("Error while approve",r);const a=r instanceof Error?r.message:"Unknown error";i.toastr.error(`\u627f\u8a8d\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002 ( ${a} )`)}})()}onClickReject(n,o){var i=this;return(0,_.A)(function*(){(0,m.Oi)("CommentListComponent.onClickReject()");const u={pageId:i.pageId,commentId:o.store.id};try{yield i.funcs.call("rejectComment",u),i.toastr.info("\u5374\u4e0b\u3057\u307e\u3057\u305f\u3002")}catch(r){(0,m.sJ)("Error while reject",r);const a=r instanceof Error?r.message:"Unknown error";i.toastr.error(`\u5374\u4e0b\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002 ( ${a} )`)}})()}onClickProtect(n,o){var i=this;return(0,_.A)(function*(){(0,m.Oi)("CommentListComponent.onClickProtect()");const u={pageId:i.pageId,commentId:o.store.id};try{yield i.funcs.call("protectComment",u),i.toastr.info("\u4fdd\u8b77\u3057\u307e\u3057\u305f\u3002")}catch(r){(0,m.sJ)("Error while protect",r);const a=r instanceof Error?r.message:"Unknown error";i.toastr.error(`\u4fdd\u8b77\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002 ( ${a} )`)}})()}onClickUnProtect(n,o){var i=this;return(0,_.A)(function*(){(0,m.Oi)("CommentListComponent.onClickUnProtect()");const u={pageId:i.pageId,commentId:o.store.id,unprotect:!0};try{yield i.funcs.call("protectComment",u),i.toastr.info("\u4fdd\u8b77\u89e3\u9664\u3057\u307e\u3057\u305f\u3002")}catch(r){(0,m.sJ)("Error while unprotect",r);const a=r instanceof Error?r.message:"Unknown error";i.toastr.error(`\u4fdd\u8b77\u89e3\u9664\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002 ( ${a} )`)}})()}static \u0275fac=function(o){return new(o||e)(t.rXU(l.u),t.rXU(h.D),t.rXU(f.o3),t.rXU(E.Qe),t.rXU(C.Y),t.rXU(g.tw))};static \u0275cmp=t.VBU({type:e,selectors:[["gitfire-comment-list"]],inputs:{pageId:"pageId",isPageProtect:"isPageProtect"},decls:2,vars:2,consts:[["loadingMessage",""],["class","spinner-border text-primary","role","status",4,"ngIf"],[4,"ngIf"],["role","status",1,"spinner-border","text-primary"],[3,"id","background",4,"ngFor","ngForOf"],["class","btn btn-primary","title","\u53e4\u3044\u6295\u7a3f\u3092\u3055\u3089\u306b\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002",3,"click",4,"ngIf"],[3,"id"],[3,"title"],["class","mx-1",4,"ngIf"],["class","mx-2","style","position: absolute; right: 0px;","data-bs-toggle","dropdown",4,"ngIf"],[2,"height","2rem"],[3,"userPublic",4,"ngIf"],[1,"m-1"],["class","border border-danger text-danger m-1 p-1",4,"ngIf"],[3,"ngSwitch"],["class","text-warning",4,"ngSwitchCase"],["class","text-info",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","p-2",4,"ngIf"],[1,"m-2"],["class","m-2",4,"ngIf"],[1,"mx-1"],["data-bs-toggle","dropdown",1,"mx-2",2,"position","absolute","right","0px"],[1,"gitweeMenuItem"],[1,"dropdown-menu"],["class","text-info dropdown-item gitweeMenuItem","title","\u4fdd\u7559\u72b6\u614b\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u627f\u8a8d\u3057\u307e\u3059\u3002",3,"click",4,"ngIf"],["class","text-info dropdown-item gitweeMenuItem","title","\u7de8\u96c6\u7533\u8acb\u3055\u308c\u305f\u30b3\u30e1\u30f3\u30c8\u3092\u627f\u8a8d\u3057\u307e\u3059\u3002",3,"click",4,"ngIf"],["class","text-info dropdown-item gitweeMenuItem","title","\u524a\u9664\u7533\u8acb\u3055\u308c\u305f\u30b3\u30e1\u30f3\u30c8\u3092\u627f\u8a8d\u3057\u307e\u3059\u3002",3,"click",4,"ngIf"],["class","text-warning dropdown-item gitweeMenuItem","title","\u4fdd\u7559\u72b6\u614b\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u62d2\u5426\u3057\u307e\u3059\u3002",3,"click",4,"ngIf"],["class","text-warning dropdown-item gitweeMenuItem","title","\u7de8\u96c6\u7533\u8acb\u3055\u308c\u305f\u30b3\u30e1\u30f3\u30c8\u3092\u62d2\u5426\u3057\u307e\u3059\u3002",3,"click",4,"ngIf"],["class","text-warning dropdown-item gitweeMenuItem","title","\u524a\u9664\u7533\u8acb\u3055\u308c\u305f\u30b3\u30e1\u30f3\u30c8\u3092\u62d2\u5426\u3057\u307e\u3059\u3002",3,"click",4,"ngIf"],["class","text-danger dropdown-item gitweeMenuItem","title","\u30b3\u30e1\u30f3\u30c8\u3092\u4fdd\u8b77\u3057\u307e\u3059\u3002",3,"click",4,"ngIf"],["class","text-danger dropdown-item gitweeMenuItem","title","\u30b3\u30e1\u30f3\u30c8\u4fdd\u8b77\u3092\u89e3\u9664\u3057\u307e\u3059\u3002",3,"click",4,"ngIf"],["title","\u4fdd\u7559\u72b6\u614b\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u627f\u8a8d\u3057\u307e\u3059\u3002",1,"text-info","dropdown-item","gitweeMenuItem",3,"click"],["title","\u7de8\u96c6\u7533\u8acb\u3055\u308c\u305f\u30b3\u30e1\u30f3\u30c8\u3092\u627f\u8a8d\u3057\u307e\u3059\u3002",1,"text-info","dropdown-item","gitweeMenuItem",3,"click"],["title","\u524a\u9664\u7533\u8acb\u3055\u308c\u305f\u30b3\u30e1\u30f3\u30c8\u3092\u627f\u8a8d\u3057\u307e\u3059\u3002",1,"text-info","dropdown-item","gitweeMenuItem",3,"click"],["title","\u4fdd\u7559\u72b6\u614b\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u62d2\u5426\u3057\u307e\u3059\u3002",1,"text-warning","dropdown-item","gitweeMenuItem",3,"click"],["title","\u7de8\u96c6\u7533\u8acb\u3055\u308c\u305f\u30b3\u30e1\u30f3\u30c8\u3092\u62d2\u5426\u3057\u307e\u3059\u3002",1,"text-warning","dropdown-item","gitweeMenuItem",3,"click"],["title","\u524a\u9664\u7533\u8acb\u3055\u308c\u305f\u30b3\u30e1\u30f3\u30c8\u3092\u62d2\u5426\u3057\u307e\u3059\u3002",1,"text-warning","dropdown-item","gitweeMenuItem",3,"click"],["title","\u30b3\u30e1\u30f3\u30c8\u3092\u4fdd\u8b77\u3057\u307e\u3059\u3002",1,"text-danger","dropdown-item","gitweeMenuItem",3,"click"],["title","\u30b3\u30e1\u30f3\u30c8\u4fdd\u8b77\u3092\u89e3\u9664\u3057\u307e\u3059\u3002",1,"text-danger","dropdown-item","gitweeMenuItem",3,"click"],[3,"userPublic"],[1,"border","border-danger","text-danger","m-1","p-1"],[1,"text-warning"],[1,"text-info"],["class","p-2",3,"innerHTML",4,"ngIf"],[3,"requestSent","editDismiss","pageId","editModel","showDismiss"],[1,"p-2",3,"innerHTML"],[1,"p-2"],["class","border border-info",4,"ngIf"],["class","border border-warning",4,"ngIf"],[1,"border","border-info"],[3,"innerHTML",4,"ngIf","ngIfElse"],[3,"innerHTML"],[1,"border","border-warning"],["title","\u3053\u306e\u30b3\u30e1\u30f3\u30c8\u3078\u8fd4\u4fe1\u3057\u307e\u3059\u3002",1,"btn","btn-primary","m-1",3,"click"],["title","\u6295\u7a3f\u306e\u524a\u9664\u3092\u7533\u8acb\u3057\u307e\u3059\u3002",1,"btn","btn-warning","m-1",3,"click"],["title","\u30b3\u30e1\u30f3\u30c8\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002",1,"btn","btn-secondary","m-1",3,"click"],[3,"requestSent","editDismiss","showDismiss","replyId","pageId"],["title","\u53e4\u3044\u6295\u7a3f\u3092\u3055\u3089\u306b\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002",1,"btn","btn-primary",3,"click"]],template:function(o,i){1&o&&t.DNE(0,Y,1,0,"span",1)(1,bt,3,2,"div",2),2&o&&(t.Y8G("ngIf",i.isLoading),t.R7$(),t.Y8G("ngIf",i.comments))},dependencies:[p.Sq,p.bT,p.ux,p.e1,y.g,k,p.Jj,p.vh],styles:[".gitweeMenuItem[_ngcontent-%COMP%]{cursor:pointer}"]})}return e})();function Tt(e,s){1&e&&t.nrm(0,"span",3)}function Rt(e,s){1&e&&(t.j41(0,"div",7),t.EFF(1,"\u30b3\u30e1\u30f3\u30c8\u306f\u3042\u308a\u307e\u305b\u3093"),t.k0s())}function jt(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",11),t.bIt("click",function(){t.eBV(n);const i=t.XpG(4);return t.Njj(i.onClickProtect())}),t.EFF(1,"\u30da\u30fc\u30b8\u3092\u4fdd\u8b77"),t.k0s()}}function wt(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",12),t.bIt("click",function(){t.eBV(n);const i=t.XpG(4);return t.Njj(i.onClickUnProtect())}),t.EFF(1,"\u4fdd\u8b77\u3092\u89e3\u9664"),t.k0s()}}function Lt(e,s){if(1&e&&(t.qex(0),t.DNE(1,jt,2,0,"button",9)(2,wt,2,0,"button",10),t.bVm()),2&e){const n=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",!n.isProtect),t.R7$(),t.Y8G("ngIf",n.isProtect)}}function Xt(e,s){1&e&&(t.j41(0,"span",14)(1,"span",15),t.EFF(2,"\u30da\u30fc\u30b8\u306f\u4fdd\u8b77\u3055\u308c\u3066\u3044\u307e\u3059"),t.k0s()())}function Mt(e,s){if(1&e&&(t.qex(0),t.DNE(1,Xt,3,0,"span",13),t.bVm()),2&e){const n=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",n.isProtect)}}function Yt(e,s){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"button",16),t.bIt("click",function(i){t.eBV(n);const u=t.XpG(3);return t.Njj(u.onClickWatchPage(i,!0))}),t.EFF(2,"Watch(\u30c6\u30b9\u30c8\u4e2d)"),t.k0s(),t.j41(3,"button",17),t.bIt("click",function(i){t.eBV(n);const u=t.XpG(3);return t.Njj(u.onClickWatchPage(i,!1))}),t.EFF(4,"Unwatch(\u30c6\u30b9\u30c8\u4e2d)"),t.k0s(),t.bVm()}}function Pt(e,s){if(1&e&&(t.j41(0,"span",20),t.EFF(1),t.k0s()),2&e){const n=t.XpG(2).$implicit;t.R7$(),t.SpI("(\u4fdd\u7559 ",n.countPending," \u4ef6)")}}function Nt(e,s){if(1&e&&(t.j41(0,"div",18)(1,"span"),t.EFF(2),t.k0s(),t.DNE(3,Pt,2,1,"span",19),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(2),t.SpI("",n.countAll," \u4ef6\u306e\u30b3\u30e1\u30f3\u30c8"),t.R7$(),t.Y8G("ngIf",n.countPending>0)}}function Vt(e,s){if(1&e&&(t.j41(0,"div")(1,"div",7),t.DNE(2,Lt,3,2,"ng-container",2)(3,Mt,2,1,"ng-container",2)(4,Yt,5,0,"ng-container",2),t.k0s(),t.DNE(5,Nt,4,2,"div",8),t.k0s()),2&e){const n=s.$implicit;t.XpG();const o=t.sdS(2),i=t.XpG();t.R7$(2),t.Y8G("ngIf",i.auth.isAdmin),t.R7$(),t.Y8G("ngIf",!i.auth.isAdmin),t.R7$(),t.Y8G("ngIf",i.auth.hasMessaging),t.R7$(),t.Y8G("ngIf",n.countAll>0)("ngIfElse",o)}}function Ut(e,s){if(1&e&&t.nrm(0,"gitfire-comment-editor",21),2&e){const n=t.XpG(2);t.Y8G("pageId",n.pageId)}}function St(e,s){if(1&e&&(t.j41(0,"div"),t.DNE(1,Rt,2,0,"ng-template",null,0,t.C5r)(3,Vt,6,5,"div",4),t.nI1(4,"async"),t.j41(5,"div"),t.DNE(6,Ut,1,1,"gitfire-comment-editor",5),t.nI1(7,"async"),t.nrm(8,"gitfire-comment-list",6),t.nI1(9,"async"),t.k0s()()),2&e){let n,o;const i=t.sdS(2),u=t.XpG();t.R7$(3),t.Y8G("ngIf",t.bMT(4,5,u.pageInfo$))("ngIfElse",i),t.R7$(3),t.Y8G("ngIf",!(null!=(n=t.bMT(7,7,u.pageInfo$))&&n.isProtect)),t.R7$(2),t.Y8G("pageId",u.pageId)("isPageProtect",null==(o=t.bMT(9,9,u.pageInfo$))?null:o.isProtect)}}let Ot=(()=>{class e{auth;router;funcs;store;toastr;pagePath;pageJson;pageInfo$;pageId;constructor(n,o,i,u,r){this.auth=n,this.router=o,this.funcs=i,this.store=u,this.toastr=r}pagePath2PageKey(n){const o=`${m.cA.PAGE_DATA}/`,i=o.length,u=n.jsonPath;if(!u.startsWith(o))throw new Error(`Not a supported path ${u}`);return u.substring(i-1)}buildLeafUrl(){const n=this.pageJson;return n.anchorLink?n.anchorId?`${n.anchorLink}#${n.anchorId}`:n.anchorLink:this.router.url}ngOnInit(){var n=this;return(0,_.A)(function*(){(0,m.Oi)("CommentEntryComponent.OnInit()",n.pagePath);const u={pageKey:n.pageJson?.pageKey||n.pagePath2PageKey(n.pagePath),leafUrl:n.buildLeafUrl()};n.pageId=yield n.funcs.call("getPageId",u),(0,m.Oi)("getPageId",n.pageId,u),n.pageInfo$=n.store.doc(`/comment/v1/page/${n.pageId}`).valueChanges().pipe((0,D.t)(1))})()}doProtectPage(n){var o=this;return(0,_.A)(function*(){const i={pageId:o.pageId,unprotect:n};yield o.funcs.call("protectPage",i)})()}onClickUnProtect(){var n=this;return(0,_.A)(function*(){(0,m.Oi)("CommentEntryComponent.onClickUnProtect()");try{n.doProtectPage(!0),n.toastr.info("\u30da\u30fc\u30b8\u306e\u4fdd\u8b77\u3092\u89e3\u9664\u3057\u307e\u3057\u305f\u3002")}catch(o){(0,m.sJ)(o);const i=o instanceof Error?o.message:"Unknown error";n.toastr.error(`\u30da\u30fc\u30b8\u306e\u4fdd\u8b77\u3092\u89e3\u9664\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002 ( ${i} )`)}})()}onClickWatchPage(n,o){var i=this;return(0,_.A)(function*(){(0,m.Oi)("CommentEntryComponent.onClickWatchPage()");try{const u={pageId:i.pageId,isWatch:o};yield i.funcs.call("watchCommentPage",u),i.toastr.info(o?"\u30da\u30fc\u30b8\u306e Watch \u3092\u958b\u59cb\u3057\u307e\u3057\u305f\u3002":"\u30da\u30fc\u30b8\u3092 Watch \u3092\u505c\u6b62\u3057\u307e\u3057\u305f\u3002")}catch(u){(0,m.sJ)(u);const r=u instanceof Error?u.message:"Unknown error";i.toastr.error(`\u30da\u30fc\u30b8\u306e Watch \u72b6\u614b\u3092\u5909\u66f4\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002 ( ${r} )`)}})()}onClickProtect(){var n=this;return(0,_.A)(function*(){(0,m.Oi)("CommentEntryComponent.onClickProtect()");try{n.doProtectPage(!1),n.toastr.info("\u30da\u30fc\u30b8\u3092\u4fdd\u8b77\u3057\u307e\u3057\u305f\u3002")}catch(o){(0,m.sJ)(o);const i=o instanceof Error?o.message:"Unknown error";n.toastr.error(`\u30da\u30fc\u30b8\u3092\u4fdd\u8b77\u72b6\u614b\u306b\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002 ( ${i} )`)}})()}static \u0275fac=function(o){return new(o||e)(t.rXU(l.u),t.rXU($.O),t.rXU(C.Y),t.rXU(E.Qe),t.rXU(g.tw))};static \u0275cmp=t.VBU({type:e,selectors:[["gitfire-comment-entry"]],inputs:{pagePath:"pagePath",pageJson:"pageJson"},decls:3,vars:2,consts:[["commentNothing",""],["class","spinner-border text-primary","role","status",4,"ngIf"],[4,"ngIf"],["role","status",1,"spinner-border","text-primary"],[4,"ngIf","ngIfElse"],[3,"pageId",4,"ngIf"],[3,"pageId","isPageProtect"],[1,"text-end"],["class","m-1 text-end",4,"ngIf","ngIfElse"],["class","btn btn-danger m-1","title","\u30da\u30fc\u30b8\u3078\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u7981\u6b62\u3057\u307e\u3059\u3002",3,"click",4,"ngIf"],["class","btn btn-info m-1","title","\u30da\u30fc\u30b8\u3078\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002",3,"click",4,"ngIf"],["title","\u30da\u30fc\u30b8\u3078\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u7981\u6b62\u3057\u307e\u3059\u3002",1,"btn","btn-danger","m-1",3,"click"],["title","\u30da\u30fc\u30b8\u3078\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002",1,"btn","btn-info","m-1",3,"click"],["class","p-1 border border-danger",4,"ngIf"],[1,"p-1","border","border-danger"],[1,"text-danger"],["title","\u3053\u306e\u6a5f\u80fd\u306f\u8a66\u9a13\u904b\u7528\u4e2d\u3067\u3059\u3002\u3053\u306e\u30da\u30fc\u30b8\u3078\u306e\u30b3\u30e1\u30f3\u30c8\u3001\u66f4\u65b0\u3092\u901a\u77e5\u3057\u307e\u3059\u3002",1,"btn","btn-secondary","m-1",3,"click"],["title","\u3053\u306e\u6a5f\u80fd\u306f\u8a66\u9a13\u904b\u7528\u4e2d\u3067\u3059\u3002\u3053\u306e\u30da\u30fc\u30b8\u3078\u306e\u30b3\u30e1\u30f3\u30c8\u3001\u66f4\u65b0\u901a\u77e5\u3092\u505c\u6b62\u3057\u307e\u3059\u3002",1,"btn","btn-secondary","m-1",3,"click"],[1,"m-1","text-end"],["class","text-warning",4,"ngIf"],[1,"text-warning"],[3,"pageId"]],template:function(o,i){1&o&&(t.nrm(0,"hr"),t.DNE(1,Tt,1,0,"span",1)(2,St,10,11,"div",2)),2&o&&(t.R7$(),t.Y8G("ngIf",!i.pageId),t.R7$(),t.Y8G("ngIf",i.pageId))},dependencies:[p.bT,At,k,p.Jj]})}return e})()}}]);