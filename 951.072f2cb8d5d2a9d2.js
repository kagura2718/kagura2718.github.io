"use strict";(self.webpackChunkKaguraGithubPages=self.webpackChunkKaguraGithubPages||[]).push([[951],{1951(J,k,l){l.r(k),l.d(k,{GitfireLoginModule:()=>Q});var _=l(9769),E=l(3049),g=l(1413),d=l(5312),w=l(2751),n=l(5547),b=l(9787);let D=(()=>{class i{router;destroy$=new g.B;constructor(a){this.router=a}ngOnInit(){(0,d.Oi)("LoginComponent.OnInit()")}ngOnDestroy(){this.destroy$.next()}static \u0275fac=function(u){return new(u||i)(n.rXU(b.Ix))};static \u0275cmp=n.VBU({type:i,selectors:[["gitfire-login"]],decls:12,vars:1,consts:[[1,"h3","mb-3","fw-normal"],[3,"isLogin"],["routerLink","/Gitfire/signup"],["routerLink","/Gitfire/reset"],["routerLink","/"]],template:function(u,c){1&u&&(n.j41(0,"h1",0),n.EFF(1,"\u30ed\u30b0\u30a4\u30f3\u60c5\u5831"),n.k0s(),n.nrm(2,"gitfire-login-input-auth",1),n.j41(3,"div")(4,"a",2),n.EFF(5,"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b"),n.k0s()(),n.j41(6,"div")(7,"a",3),n.EFF(8,"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5fd8\u308c\u305f\u5834\u5408"),n.k0s()(),n.j41(9,"div")(10,"a",4),n.EFF(11,"Top"),n.k0s()()),2&u&&(n.R7$(2),n.Y8G("isLogin",!0))},dependencies:[E.Wk,w.InputAuthComponent],encapsulation:2})}return i})();var p=l(9417),R=l(9253),F=l(5794),C=l(375),I=l(9182);const t=["app-cookie-confirm",""];function y(i,v){if(1&i){const a=n.RV6();n.j41(0,"button",4),n.bIt("click",function(){C.eBV(a);const c=n.XpG();return C.Njj(c.remove())}),n.j41(1,"span",5),n.EFF(2,"\xd7"),n.k0s()()}}let j=(()=>{class i extends F.y8{toastr;toastPackage;localSession;constructor(a,u,c){super(a,u),this.toastr=a,this.toastPackage=u,this.localSession=c}ngOnInit(){(0,d.Oi)("CookieConfirmComponent.OnInit()")}onClickDeny(a){this.localSession.declineAccess(),this.remove()}onClickGrant(a){this.localSession.grantAccess(),this.remove()}static \u0275fac=function(u){return new(u||i)(n.rXU(F.tw),n.rXU(F.sn),n.rXU(I.Q))};static \u0275cmp=n.VBU({type:i,selectors:[["","app-cookie-confirm",""]],features:[n.Vt3],attrs:t,decls:12,vars:4,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],["role","alertdialog","aria-live","polite"],["href","/terms.htm"],[1,"btn","btn-outline-primary",3,"click"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"]],template:function(u,c){1&u&&(n.DNE(0,y,3,0,"button",0),n.j41(1,"div",1)(2,"p"),n.EFF(3,"\u5f53\u30b5\u30a4\u30c8\u3067\u306f\u5229\u7528\u8005\u306e\u5229\u4fbf\u6027\u306e\u305f\u3081\u306b\u30af\u30c3\u30ad\u30fc (Cookies) \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u8a73\u3057\u304f\u306f"),n.j41(4,"a",2),n.EFF(5," [\u5229\u7528\u898f\u7d04] "),n.k0s(),n.EFF(6,"\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002"),n.k0s(),n.j41(7,"div")(8,"button",3),n.bIt("click",function(A){return c.onClickGrant(A)}),n.EFF(9,"\u8a31\u53ef\u3059\u308b"),n.k0s(),n.j41(10,"button",3),n.bIt("click",function(A){return c.onClickDeny(A)}),n.EFF(11,"\u62d2\u5426\u3059\u308b"),n.k0s()()()),2&u&&(n.Y8G("ngIf",c.options.closeButton),n.R7$(),n.HbH(c.options.messageClass),n.BMQ("aria-label",c.message))},dependencies:[_.MD,_.bT],styles:["[_nghost-%COMP%]{background:#eefef0;width:100%;height:100%}a[_ngcontent-%COMP%]:link{color:red}a[_ngcontent-%COMP%]:visited{color:#a00}a[_ngcontent-%COMP%]:hover{color:red}a[_ngcontent-%COMP%]:active{color:#ff8000}"]})}return i})(),P=(()=>{class i{toastr;localSession;constructor(a,u){this.toastr=a,this.localSession=u}ngOnInit(){(0,d.Oi)("SignupComponent.OnInit()")}ngAfterViewInit(){this.maybeConfirm()}maybeConfirm(){this.localSession.shouldConfirm()&&this.toastr.info(void 0,void 0,{toastComponent:j,disableTimeOut:!0,tapToDismiss:!1,preventDuplicates:!0})}static \u0275fac=function(u){return new(u||i)(n.rXU(F.tw),n.rXU(I.Q))};static \u0275cmp=n.VBU({type:i,selectors:[["gitfire-signup"]],decls:9,vars:1,consts:[[1,"h3","mb-3","fw-normal"],[3,"isSignup"],["routerLink","/Gitfire/login"],["routerLink","/"]],template:function(u,c){1&u&&(n.j41(0,"h1",0),n.EFF(1,"\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u4f5c\u6210"),n.k0s(),n.nrm(2,"gitfire-login-input-auth",1),n.j41(3,"div")(4,"a",2),n.EFF(5,"\u30ed\u30b0\u30a4\u30f3"),n.k0s()(),n.j41(6,"div")(7,"a",3),n.EFF(8,"Top"),n.k0s()()),2&u&&(n.R7$(2),n.Y8G("isSignup",!0))},dependencies:[w.InputAuthComponent],encapsulation:2})}return i})();var M=l(467),T=l(2275),O=l(1152),S=l(619);const L=["resetForm"];function x(i,v){1&i&&(n.j41(0,"div",11),n.EFF(1,"E \u30e1\u30fc\u30eb\u306f\u5fc5\u9808\u3067\u3059\u3002"),n.k0s())}function $(i,v){1&i&&(n.j41(0,"div",11),n.EFF(1,"E \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),n.k0s())}function U(i,v){if(1&i&&(n.qex(0),n.DNE(1,x,2,0,"div",10)(2,$,2,0,"div",10),n.bVm()),2&i){n.XpG();const a=n.sdS(6);n.R7$(),n.Y8G("ngIf",null==a.errors?null:a.errors.required),n.R7$(),n.Y8G("ngIf",null==a.errors?null:a.errors.minlength)}}let G=(()=>{class i{auth;dialog;toastr;emailInput="";resetForm;constructor(a,u,c){this.auth=a,this.dialog=u,this.toastr=c}ngOnInit(){(0,d.Oi)("ResetPasswordComponent.OnInit()")}onClickReset(a){this.dialog.createSimpleBuilder().setType(T.hs.Warn).setSize(T.EV.Default).setTitle("\u78ba\u8a8d").setMessage(`\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306f\u6b63\u3057\u3044\u3067\u3059\u304b\uff1f ${this.emailInput}`).okButton(()=>{this.tryResetPassword(this.emailInput)}).cancelButton(()=>{}).open()}tryResetPassword(a){var u=this;return(0,M.A)(function*(){try{yield u.auth.sendPasswordResetEmail(a),u.toastr.info("\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3057\u307e\u3057\u305f\u3002")}catch(c){(0,d.sJ)("Error while sent reset mail",c),Error,u.toastr.error("\u5931\u6557\u3057\u307e\u3057\u305f\u3002( ${errmsg} )")}})()}static \u0275fac=function(u){return new(u||i)(n.rXU(O.DS),n.rXU(S.o3),n.rXU(F.tw))};static \u0275cmp=n.VBU({type:i,selectors:[["gitfire-login-reset-password"]],viewQuery:function(u,c){if(1&u&&n.GBs(L,5),2&u){let h;n.mGM(h=n.lsd())&&(c.resetForm=h.first)}},decls:19,vars:5,consts:[["resetForm",""],["email","ngModel"],[1,"row","p-3"],[1,"visually-hidden"],["autofocus","","type","email","name","email","placeholder","Email address","required","","autofill","","maxlength","1024","minlength","5",1,"form-control","col-8",3,"ngModelChange","ngModel"],[1,"btn","btn-warning",3,"click","disabled"],[4,"ngIf"],["routerLink","/"],["routerLink","/Gitfire/signup"],["routerLink","/Gitfire/login"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"]],template:function(u,c){if(1&u){const h=n.RV6();n.j41(0,"form",null,0)(2,"div",2)(3,"label",3),n.EFF(4,"Email"),n.k0s(),n.j41(5,"input",4,1),n.mxI("ngModelChange",function(o){return C.eBV(h),n.DH7(c.emailInput,o)||(c.emailInput=o),C.Njj(o)}),n.k0s(),n.j41(7,"button",5),n.bIt("click",function(o){return C.eBV(h),C.Njj(c.onClickReset(o))}),n.EFF(8,"\u30d1\u30b9\u30ef\u30fc\u30c9\u30ea\u30bb\u30c3\u30c8"),n.k0s(),n.DNE(9,U,3,2,"ng-container",6),n.k0s()(),n.j41(10,"div")(11,"a",7),n.EFF(12,"Top"),n.k0s()(),n.j41(13,"div")(14,"a",8),n.EFF(15,"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b"),n.k0s()(),n.j41(16,"div")(17,"a",9),n.EFF(18,"\u30ed\u30b0\u30a4\u30f3"),n.k0s()()}if(2&u){const h=n.sdS(6);n.R7$(2),n.AVh("was-validated",h.dirty||h.touched),n.R7$(3),n.R50("ngModel",c.emailInput),n.R7$(2),n.Y8G("disabled",!h.valid),n.R7$(2),n.Y8G("ngIf",h.invalid)}},dependencies:[_.MD,_.bT,p.YN,p.qT,p.me,p.BC,p.cb,p.YS,p.xh,p.tU,p.vS,p.cV,E.Wk],encapsulation:2})}return i})();function Y(i,v){1&i&&n.nrm(0,"gitfire-signup")}function V(i,v){1&i&&n.nrm(0,"gitfire-login")}function X(i,v){1&i&&n.nrm(0,"gitfire-login-reset-password")}let B=(()=>{class i{route;mode;constructor(a){this.route=a,this.mode=a.snapshot.data.mode}ngOnInit(){(0,d.Oi)("LoginRouterComponent.OnInit()")}static \u0275fac=function(u){return new(u||i)(n.rXU(b.nX))};static \u0275cmp=n.VBU({type:i,selectors:[["ng-component"]],decls:4,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(u,c){1&u&&(n.qex(0,0),n.DNE(1,Y,1,0,"gitfire-signup",1)(2,V,1,0,"gitfire-login",1)(3,X,1,0,"gitfire-login-reset-password",1),n.bVm()),2&u&&(n.Y8G("ngSwitch",c.mode),n.R7$(),n.Y8G("ngSwitchCase","signup"),n.R7$(),n.Y8G("ngSwitchCase","login"),n.R7$(),n.Y8G("ngSwitchCase","reset"))},dependencies:[_.MD,_.ux,_.e1,P,D,G],encapsulation:2})}return i})();const N=[{path:"",component:B}];let W=(()=>{class i{static \u0275fac=function(u){return new(u||i)};static \u0275mod=n.$C({type:i});static \u0275inj=C.G2t({imports:[E.iI.forChild(N),E.iI]})}return i})();var K=l(386);let Q=(()=>{class i{constructor(){(0,d.rD)("Dynamically loaded GitfireLoginModule")}static \u0275fac=function(u){return new(u||i)};static \u0275mod=n.$C({type:i});static \u0275inj=C.G2t({providers:[F.tw],imports:[_.MD,p.YN,p.X1,W,F._B.forRoot(d.cA.toastrConfig),R.bf.initializeApp(d.cA.firebaseConfig),D,P,w.InputAuthComponent,B,G,K.d]})}return i})()},2751(J,k,l){l.r(k),l.d(k,{InputAuthComponent:()=>A});var _=l(467),E=l(9769),g=l(375),d=l(9417),w=l(1413),n=l(4412),b=l(8455),D=l(6697),p=l(6977),R=l(7935),C=(l(4525),l(386)),I=l(5312),t=l(5547),y=l(1152),j=l(5794),P=l(9787);const M=["mainForm"],T=["confirmPasswordInput"];function O(o,m){1&o&&(t.j41(0,"div",15),t.EFF(1,"OK!"),t.k0s())}function S(o,m){1&o&&(t.j41(0,"div",17),t.EFF(1,"E \u30e1\u30fc\u30eb\u306f\u5fc5\u9808\u3067\u3059\u3002"),t.k0s())}function L(o,m){1&o&&(t.j41(0,"div",17),t.EFF(1,"E \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),t.k0s())}function x(o,m){if(1&o&&(t.qex(0),t.DNE(1,S,2,0,"div",16)(2,L,2,0,"div",16),t.bVm()),2&o){const e=t.XpG();t.R7$(),t.Y8G("ngIf",null==e.emailControl.errors?null:e.emailControl.errors.required),t.R7$(),t.Y8G("ngIf",null==e.emailControl.errors?null:e.emailControl.errors.minlength)}}function $(o,m){1&o&&(t.j41(0,"div",15),t.EFF(1,"\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u5f37\u5ea6\u306f\u5145\u5206\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),t.k0s())}function U(o,m){1&o&&(t.j41(0,"div",17),t.EFF(1,"\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u5fc5\u9808\u3067\u3059\u3002"),t.k0s())}function G(o,m){1&o&&(t.j41(0,"div",17),t.EFF(1,"\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u9577\u3055\u304c\u8db3\u308a\u307e\u305b\u3093\u3002"),t.k0s())}function Y(o,m){if(1&o&&(t.qex(0,18),t.DNE(1,U,2,0,"div",16)(2,G,2,0,"div",16),t.bVm()),2&o){const e=t.XpG();t.R7$(),t.Y8G("ngIf",null==e.passwordControl.errors?null:e.passwordControl.errors.required),t.R7$(),t.Y8G("ngIf",null==e.passwordControl.errors?null:e.passwordControl.errors.minlength)}}function V(o,m){1&o&&(t.j41(0,"div",15),t.EFF(1,"\u4e00\u81f4\u3057\u307e\u3057\u305f\uff01"),t.k0s())}function X(o,m){1&o&&(t.j41(0,"div",17),t.EFF(1,"\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u5fc5\u9808\u3067\u3059\u3002"),t.k0s())}function B(o,m){1&o&&(t.j41(0,"div",17),t.EFF(1,"\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u4e00\u81f4\u3057\u307e\u305b\u3093\u3002"),t.k0s())}function N(o,m){if(1&o&&(t.qex(0),t.DNE(1,X,2,0,"div",16)(2,B,2,0,"div",16),t.bVm()),2&o){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",null==e.confirmPasswordControl.errors?null:e.confirmPasswordControl.errors.required),t.R7$(),t.Y8G("ngIf",null==e.confirmPasswordControl.errors?null:e.confirmPasswordControl.errors.passwordMisMatch)}}function W(o,m){if(1&o&&(t.j41(0,"div",3)(1,"label",19),t.EFF(2,"Confirm Password"),t.k0s(),t.nrm(3,"input",20,1),t.DNE(5,V,2,0,"div",6)(6,N,3,2,"ng-container",7),t.k0s()),2&o){const e=t.XpG();t.AVh("was-validated",e.confirmPasswordControl.dirty||e.confirmPasswordControl.touched),t.R7$(3),t.Y8G("autocomplete",e.passwordAutocomplete),t.R7$(2),t.Y8G("ngIf",!e.confirmPasswordControl.invalid),t.R7$(),t.Y8G("ngIf",e.confirmPasswordControl.invalid)}}function K(o,m){1&o&&(t.j41(0,"div",27),t.EFF(1,"OK!"),t.k0s())}function Q(o,m){1&o&&(t.j41(0,"div",29),t.EFF(1,"\u898f\u7d04\u306b\u540c\u610f\u3057\u3066\u3044\u305f\u3060\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002"),t.k0s())}function i(o,m){if(1&o&&(t.qex(0),t.DNE(1,Q,2,0,"div",28),t.bVm()),2&o){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",null==e.agreeTosControl.errors?null:e.agreeTosControl.errors.required)}}function v(o,m){if(1&o&&(t.j41(0,"div",21)(1,"label",22),t.EFF(2,"\u898f\u7d04\u306b\u540c\u610f\u3059\u308b"),t.k0s(),t.nrm(3,"input",23),t.j41(4,"a",24),t.EFF(5," [\u5229\u7528\u898f\u7d04] "),t.k0s(),t.j41(6,"span",25),t.EFF(7,"\u306b\u540c\u610f\u3057\u307e\u3059\u3002"),t.k0s(),t.DNE(8,K,2,0,"div",26)(9,i,2,1,"ng-container",7),t.k0s()),2&o){const e=t.XpG();t.AVh("was-validated",e.agreeTosControl.dirty||e.agreeTosControl.touched),t.R7$(8),t.Y8G("ngIf",!e.agreeTosControl.invalid),t.R7$(),t.Y8G("ngIf",e.agreeTosControl.invalid)}}function a(o,m){if(1&o){const e=t.RV6();t.j41(0,"button",30),t.bIt("click",function(r){g.eBV(e);const f=t.XpG();return g.Njj(f.onClickSignup(r))}),t.EFF(1,"\u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u6210"),t.k0s()}if(2&o){const e=t.XpG();t.Y8G("disabled",!e.inputAuthForm.valid)}}function u(o,m){if(1&o){const e=t.RV6();t.j41(0,"button",30),t.bIt("click",function(r){g.eBV(e);const f=t.XpG();return g.Njj(f.onClickLogin(r))}),t.nrm(1,"img",31),t.EFF(2,"\u30ed\u30b0\u30a4\u30f3"),t.k0s()}if(2&o){const e=t.XpG();t.Y8G("disabled",!e.inputAuthForm.valid)}}function c(o,m){if(1&o){const e=t.RV6();t.j41(0,"button",30),t.bIt("click",function(r){g.eBV(e);const f=t.XpG();return g.Njj(f.onClickReauth(r))}),t.nrm(1,"img",31),t.EFF(2,"\u518d\u8a8d\u8a3c"),t.k0s()}if(2&o){const e=t.XpG();t.Y8G("disabled",!e.inputAuthForm.valid)}}function h(o,m){if(1&o){const e=t.RV6();t.j41(0,"app-oauth-federations",32),t.bIt("loginSucceeded",function(){g.eBV(e);const r=t.XpG();return g.Njj(r.onOauthLoginSucceeded())})("loginFailed",function(r){g.eBV(e);const f=t.XpG();return g.Njj(f.onOauthLoginFailed(r))}),t.k0s()}}let A=(()=>{class o{auth;toastr;router;route;isLogin=!1;isReauth=!1;reauthUser=null;isSignup=!1;showFederations=!0;reauthed=new g.bkB;destroy$=new w.B;inputAuthForm;loginUser$=new n.t(null);passwordAutocomplete;mainForm;confirmPasswordInput;constructor(e,s,r,f){this.auth=e,this.toastr=s,this.router=r,this.route=f}ngOnInit(){this.passwordAutocomplete=this.isSignup?"new-password":"current-password",this.inputAuthForm=new d.gE({}),this.inputAuthForm.addControl("email",new d.MJ("")),this.inputAuthForm.addControl("password",new d.MJ("")),this.isSignup&&(this.inputAuthForm.addControl("retypePassword",new d.MJ("")),this.inputAuthForm.addControl("agreeTosCheck",new d.MJ(!1)),this.inputAuthForm.setValidators([this.validateXFPassword.bind(this)])),this.inputAuthForm.disable(),this.initializeAuthForm()}ngOnDestroy(){this.destroy$.next()}ngAfterViewInit(){this.auth.authState.pipe((0,p.Q)(this.destroy$)).subscribe(e=>{this.loginUser$.next(e)})}navigateAfterSucceeded(){this.route.queryParams.pipe((0,p.Q)(this.destroy$),(0,D.s)(1)).subscribe(e=>{const s=e.redirectPath;this.router.navigate(s?[s]:["/"])})}erroredConnected(e){(0,I.sJ)("error while connecting account",e);const s=e instanceof Error?e.message:"Unknown error";this.toastr.error(`Login \u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002 \n ( ${s} )`)}loginSucceeded(){this.toastr.success("Login \u3057\u307e\u3057\u305f\u3002"),this.navigateAfterSucceeded()}connectSucceeded(e){this.toastr.success("Sign-up \u3057\u307e\u3057\u305f\u3002"),this.navigateAfterSucceeded()}get emailControl(){return this.inputAuthForm.get("email")}get passwordControl(){return this.inputAuthForm.get("password")}get confirmPasswordControl(){return this.inputAuthForm.get("retypePassword")}get agreeTosControl(){return this.inputAuthForm.get("agreeTosCheck")}validateXFPassword(e){const s=e.get("password"),r=e.get("retypePassword");return s.value!==r.value?(r.setErrors({passwordMisMatch:!0}),this.confirmPasswordInput&&this.confirmPasswordInput.nativeElement.setCustomValidity("create error state"),null):(this.confirmPasswordInput&&this.confirmPasswordInput.nativeElement.setCustomValidity(""),r.setErrors(null),null)}validateAuthForm(){return this.inputAuthForm.markAllAsTouched(),!this.inputAuthForm.invalid||((0,I.sJ)("Assert! Button should be disabled."),!1)}initializeAuthForm(){(0,b.H)(this.auth.setPersistence(R.A.auth.Auth.Persistence.SESSION)).pipe((0,D.s)(1),(0,p.Q)(this.destroy$)).subscribe({next:()=>{this.inputAuthForm.enable()},error:e=>{this.toastr.error("\u8a8d\u8a3c Server \u3092\u521d\u671f\u5316\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002")}})}onClickSignup(e){var s=this;return(0,_.A)(function*(){if(e.preventDefault(),s.validateAuthForm())try{const r=yield s.auth.createUserWithEmailAndPassword(s.emailControl.value,s.passwordControl.value);s.toastr.info("\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\u30e1\u30fc\u30eb\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),yield r.user.sendEmailVerification(),s.navigateAfterSucceeded()}catch(r){(0,I.sJ)("Error while reject",r);const f=r instanceof Error?r.message:"Unknown error";s.toastr.error(`\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u4f5c\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002\u6700\u521d\u304b\u3089\u3084\u308a\u76f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n ( ${f} )`)}})()}onClickLogin(e){var s=this;return(0,_.A)(function*(){if(e.preventDefault(),s.validateAuthForm())try{yield s.auth.signInWithEmailAndPassword(s.emailControl.value,s.passwordControl.value),s.loginSucceeded()}catch(r){s.erroredConnected(r)}})()}onClickReauth(e){var s=this;return(0,_.A)(function*(){if(e.preventDefault(),s.validateAuthForm())try{const r=R.A.auth.EmailAuthProvider.credential(s.emailControl.value,s.passwordControl.value);yield s.reauthUser.reauthenticateWithCredential(r),s.reauthed.next()}catch(r){s.erroredConnected(r)}})()}onOauthLoginFailed(e){this.erroredConnected(e)}onOauthLoginSucceeded(){this.loginSucceeded()}static \u0275fac=function(s){return new(s||o)(t.rXU(y.DS),t.rXU(j.tw),t.rXU(P.Ix),t.rXU(P.nX))};static \u0275cmp=t.VBU({type:o,selectors:[["gitfire-login-input-auth"]],viewQuery:function(s,r){if(1&s&&t.GBs(M,5)(T,5),2&s){let f;t.mGM(f=t.lsd())&&(r.mainForm=f.first),t.mGM(f=t.lsd())&&(r.confirmPasswordInput=f.first)}},inputs:{isLogin:"isLogin",isReauth:"isReauth",reauthUser:"reauthUser",isSignup:"isSignup",showFederations:"showFederations"},outputs:{reauthed:"reauthed"},decls:21,vars:16,consts:[["mainForm",""],["confirmPasswordInput",""],[3,"formGroup"],[1,"row","m-3"],["for","appGitfireLoginEmailInput",1,"visually-hidden"],["id","appGitfireLoginEmailInput","name","email","formControlName","email","placeholder","email@example.com","autocomplete","email","type","email","required","","autofill","","autofocus","","maxlength","1024","minlength","5",1,"form-control","col-12"],["class","valid-feedback",4,"ngIf"],[4,"ngIf"],["for","appGitfireLoginPasswordInput",1,"visually-hidden"],["id","appGitfireLoginPasswordInput","type","password","name","password","formControlName","password","placeholder","Password","required","","autofill","","maxlength","256","minlength","6",1,"form-control","col-12",3,"autocomplete"],["class"," ",4,"ngIf"],["class","row m-3",3,"was-validated",4,"ngIf"],["class","row custom-control custom-checkbox m-5 text-center",3,"was-validated",4,"ngIf"],["class","btn btn-lg btn-primary btn-block",3,"disabled","click",4,"ngIf"],[3,"loginSucceeded","loginFailed",4,"ngIf"],[1,"valid-feedback"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"],[1,""],["for","appGitfireSignupPasswordConfirmInput",1,"visually-hidden"],["id","appGitfireSignupPasswordConfirmInput","type","password","name","password_confirm","formControlName","retypePassword","placeholder","Confirm password","required","",1,"form-control","col-12",3,"autocomplete"],[1,"row","custom-control","custom-checkbox","m-5","text-center"],["for","appGitfireAgreeTosCheck",1,"col-auto","visually-hidden"],["id","col-auto appGitfireAgreeTosCheck","formControlName","agreeTosCheck","type","checkbox","required","",1,"form-check-input"],["tabindex","-1","about","_blank","href","/terms.htm",1,"col-auto"],[1,"col-auto"],["class","valid-feedback col-auto",4,"ngIf"],[1,"valid-feedback","col-auto"],["class","invalid-feedback col-auto",4,"ngIf"],[1,"invalid-feedback","col-auto"],[1,"btn","btn-lg","btn-primary","btn-block",3,"click","disabled"],["src","/assets/octicons/sign-in.svg",1,"m-1","gitfire-link-icon","octicon-info"],[3,"loginSucceeded","loginFailed"]],template:function(s,r){1&s&&(t.j41(0,"form",2,0)(2,"div",3)(3,"label",4),t.EFF(4,"Email"),t.k0s(),t.nrm(5,"input",5),t.DNE(6,O,2,0,"div",6)(7,x,3,2,"ng-container",7),t.k0s(),t.j41(8,"div",3)(9,"label",8),t.EFF(10,"Password"),t.k0s(),t.nrm(11,"input",9),t.DNE(12,$,2,0,"div",6)(13,Y,3,2,"ng-container",10),t.k0s(),t.DNE(14,W,7,5,"div",11)(15,v,10,4,"div",12),t.j41(16,"div",3),t.DNE(17,a,2,1,"button",13)(18,u,3,1,"button",13)(19,c,3,1,"button",13),t.k0s(),t.DNE(20,h,1,0,"app-oauth-federations",14),t.k0s()),2&s&&(t.Y8G("formGroup",r.inputAuthForm),t.R7$(2),t.AVh("was-validated",r.emailControl.dirty||r.emailControl.touched),t.R7$(4),t.Y8G("ngIf",!r.emailControl.invalid),t.R7$(),t.Y8G("ngIf",r.emailControl.invalid),t.R7$(),t.AVh("was-validated",r.passwordControl.dirty||r.passwordControl.touched),t.R7$(3),t.Y8G("autocomplete",r.passwordAutocomplete),t.R7$(),t.Y8G("ngIf",r.isSignup&&!r.passwordControl.invalid),t.R7$(),t.Y8G("ngIf",r.passwordControl.invalid),t.R7$(),t.Y8G("ngIf",r.isSignup),t.R7$(),t.Y8G("ngIf",r.isSignup),t.R7$(2),t.Y8G("ngIf",r.isSignup),t.R7$(),t.Y8G("ngIf",r.isLogin),t.R7$(),t.Y8G("ngIf",r.isReauth),t.R7$(),t.Y8G("ngIf",r.showFederations))},dependencies:[E.MD,E.bT,d.X1,d.qT,d.me,d.Zm,d.BC,d.cb,d.YS,d.xh,d.tU,d.xq,d.j4,d.JD,C.d],encapsulation:2})}return o})()}}]);