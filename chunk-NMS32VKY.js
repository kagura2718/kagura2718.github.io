import{a as D}from"./chunk-RPC5UFJO.js";import{a as g}from"./chunk-PREBRYD4.js";import{e as xe}from"./chunk-2K3GGOJ3.js";import{a as Y,h as Me,i as Oe,p as ke,r as Pe,u as Te,y as Le}from"./chunk-XGZHVJI3.js";import{a as N,b as ve}from"./chunk-XRX4MRYS.js";import{a as j}from"./chunk-M5RCGXCJ.js";import{$ as ee,$a as R,$c as we,Aa as c,Bb as le,Cb as pe,Db as r,Fc as ge,Ga as p,Hb as ce,Ib as de,Ic as Ce,Ja as d,Jb as fe,Jc as A,Ka as I,Na as ne,Nc as H,Oc as J,Qc as f,Ra as re,Rc as ye,Tc as he,U as X,Ua as v,Wa as y,Wc as Ee,Yc as _e,Z as F,Zc as Se,_ as q,ab as m,b as K,bb as u,bd as Fe,cb as h,cd as Ie,db as S,ea as E,eb as b,fa as _,jc as W,la as te,lb as P,nd as Re,ob as se,pb as L,pd as be,qa as ie,qb as B,qd as Ae,rd as V,sd as De,tb as ae,ua as oe,ub as ue,vb as me,zb as Q}from"./chunk-57KELPP2.js";var x=class t{constructor(i){this.router=i}destroy$=new K;ngOnInit(){f("LoginComponent.OnInit()")}ngOnDestroy(){this.destroy$.next()}static \u0275fac=function(e){return new(e||t)(p(Ce))};static \u0275cmp=d({type:t,selectors:[["gitfire-login"]],decls:12,vars:1,consts:[[1,"h3","mb-3","fw-normal"],[3,"isLogin"],["routerLink","/Gitfire/signup"],["routerLink","/Gitfire/reset"],["routerLink","/"]],template:function(e,o){e&1&&(m(0,"h1",0),r(1,"\u30ED\u30B0\u30A4\u30F3\u60C5\u5831"),u(),h(2,"gitfire-login-input-auth",1),m(3,"div")(4,"a",2),r(5,"\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u4F5C\u6210\u3059\u308B"),u()(),m(6,"div")(7,"a",3),r(8,"\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u5FD8\u308C\u305F\u5834\u5408"),u()(),m(9,"div")(10,"a",4),r(11,"Top"),u()()),e&2&&(c(2),R("isLogin",!0))},dependencies:[A,D],encapsulation:2})};var ze="firebase",qe="11.10.0";g.registerVersion(ze,qe,"app-compat");var Qe=["ngOnDestroy"],It=(t,i,e,o={})=>new Proxy(t,{get:(n,s)=>e.runOutsideAngular(()=>{if(t[s])return o?.spy?.get&&o.spy.get(s,t[s]),t[s];if(Qe.indexOf(s)>-1)return()=>{};let l=i.toPromise().then(a=>{let C=a?.[s];return typeof C=="function"?C.bind(a):C?.then?C.then(T=>e.run(()=>T)):e.run(()=>C)});return new Proxy(()=>{},{get:(a,C)=>l[C],apply:(a,C,T)=>l.then($e=>{let Z=$e?.(...T);return o?.spy?.apply&&o.spy.apply(s,T,Z),Z})})})});var $=class{constructor(i){return i}},Ne=new q("angularfire2.app.options"),Ve=new q("angularfire2.app.name");function We(t,i,e){let o=typeof e=="string"&&e||"[DEFAULT]",n=typeof e=="object"&&e||{};n.name=n.name||o;let l=g.apps.filter(a=>a&&a.name===n.name)[0]||i.runOutsideAngular(()=>g.initializeApp(t,n));try{if(JSON.stringify(t)!==JSON.stringify(l.options)){let a=!!module.hot;He("error",`${l.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new $(l)}var He=(t,...i)=>{W()&&typeof console<"u"&&console[t](...i)},Je={provide:$,useFactory:We,deps:[Ne,te,[new ie,Ve]]},je=(()=>{class t{static initializeApp(e,o){return{ngModule:t,providers:[{provide:Ne,useValue:e},{provide:Ve,useValue:o}]}}constructor(e){g.registerVersion("angularfire",Y.full,"core"),g.registerVersion("angularfire",Y.full,"app-compat"),g.registerVersion("angular",X.full,e.toString())}static \u0275fac=function(o){return new(o||t)(ee(oe))};static \u0275mod=I({type:t});static \u0275inj=F({providers:[Je]})}return t})();function Rt(t,i,e,o,n){let[,s,l]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(s)return Ye(n,l)||(Be("error",`${i} was already initialized on the ${e} Firebase App with different settings.${Ze?" You may need to reload as Firebase is not HMR aware.":""}`),Be("warn",{is:n,was:l})),s;{let a=o();return globalThis.\u0275AngularfireInstanceCache.push([t,a,n]),a}}function Ye(t,i){try{return t.toString()===i.toString()}catch{return t===i}}var Ze=typeof module<"u"&&!!module.hot,Be=(t,...i)=>{W()&&typeof console<"u"&&console[t](...i)};globalThis.\u0275AngularfireInstanceCache||=[];function Xe(t,i){if(t&1){let e=P();S(0,"button",4),L("click",function(){E(e);let n=B();return _(n.remove())}),S(1,"span",5),r(2,"\xD7"),b()()}}var U=class t extends ve{constructor(e){super();this.localSession=e}ngOnInit(){f("CookieConfirmComponent.OnInit()")}onClickDeny(e){this.localSession.declineAccess(),this.remove()}onClickGrant(e){this.localSession.grantAccess(),this.remove()}static \u0275fac=function(o){return new(o||t)(p(j))};static \u0275cmp=d({type:t,selectors:[["ng-component"]],features:[ne],decls:12,vars:4,consts:[["aria-label","Close",1,"app-cookie-confirm-text","toast-close-button"],["role","alertdialog","aria-live","polite",1,"app-cookie-confirm-text"],["href","/policy.htm"],[1,"btn","btn-outline-primary",3,"click"],["aria-label","Close",1,"app-cookie-confirm-text","toast-close-button",3,"click"],["aria-hidden","true"]],template:function(o,n){if(o&1){let s=P();v(0,Xe,3,0,"button",0),S(1,"div",1)(2,"p"),r(3,"\u5F53\u30B5\u30A4\u30C8\u3067\u306F\u5229\u7528\u8005\u306E\u5229\u4FBF\u6027\u306E\u305F\u3081\u306B\u30AF\u30C3\u30AD\u30FC (Cookies) \u3092\u4F7F\u7528\u3057\u307E\u3059\u3002\u8A73\u3057\u304F\u306F"),S(4,"a",2),r(5," [\u30D7\u30E9\u30A4\u30D0\u30B7\u30FC\u30DD\u30EA\u30B7\u30FC] "),b(),r(6,"\u3092\u3054\u89A7\u304F\u3060\u3055\u3044\u3002"),b(),S(7,"div")(8,"button",3),L("click",function(a){return E(s),_(n.onClickGrant(a))}),r(9,"\u8A31\u53EF\u3059\u308B"),b(),S(10,"button",3),L("click",function(a){return E(s),_(n.onClickDeny(a))}),r(11,"\u62D2\u5426\u3059\u308B"),b()()()}if(o&2){let s=n.options();y(s.closeButton?0:-1),c(),pe(s.messageClass),re("aria-label",n.message())}},styles:["[_nghost-%COMP%]{background:#eefef0;display:block}.app-cookie-confirm-text[_ngcontent-%COMP%]{color:#000}a[_ngcontent-%COMP%]:link{color:red}a[_ngcontent-%COMP%]:visited{color:#a00}a[_ngcontent-%COMP%]:hover{color:red}a[_ngcontent-%COMP%]:active{color:#ff8000}"]})};var M=class t{constructor(i,e){this.toastr=i;this.localSession=e}ngOnInit(){f("SignupComponent.OnInit()")}ngAfterViewInit(){this.maybeConfirm()}maybeConfirm(){if(!this.localSession.shouldConfirm())return;let i={toastComponent:U,disableTimeOut:!0,tapToDismiss:!1,preventDuplicates:!0};this.toastr.info(void 0,void 0,i)}static \u0275fac=function(e){return new(e||t)(p(N),p(j))};static \u0275cmp=d({type:t,selectors:[["gitfire-signup"]],decls:9,vars:1,consts:[[1,"h3","mb-3","fw-normal"],[3,"isSignup"],["routerLink","/Gitfire/login"],["routerLink","/"]],template:function(e,o){e&1&&(m(0,"h1",0),r(1,"\u30A2\u30AB\u30A6\u30F3\u30C8\u306E\u4F5C\u6210"),u(),h(2,"gitfire-login-input-auth",1),m(3,"div")(4,"a",2),r(5,"\u30ED\u30B0\u30A4\u30F3"),u()(),m(6,"div")(7,"a",3),r(8,"Top"),u()()),e&2&&(c(2),R("isSignup",!0))},dependencies:[A,D],encapsulation:2})};var tt=["resetForm"];function it(t,i){t&1&&(m(0,"div",9),r(1,"E \u30E1\u30FC\u30EB\u306F\u5FC5\u9808\u3067\u3059\u3002"),u())}function ot(t,i){t&1&&(m(0,"div",9),r(1,"E \u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002"),u())}function nt(t,i){if(t&1&&(v(0,it,2,0,"div",9),v(1,ot,2,0,"div",9)),t&2){B();let e=Q(6);y(e.errors!=null&&e.errors.required?0:-1),c(),y(e.errors!=null&&e.errors.minlength?1:-1)}}var O=class t{constructor(i,e,o){this.auth=i;this.dialog=e;this.toastr=o}emailInput="";resetForm;ngOnInit(){f("ResetPasswordComponent.OnInit()")}onClickReset(i){this.dialog.createSimpleBuilder().setType(1).setSize(1).setTitle("\u78BA\u8A8D").setMessage(`\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u306F\u6B63\u3057\u3044\u3067\u3059\u304B\uFF1F ${this.emailInput}`).okButton(()=>{this.tryResetPassword(this.emailInput)}).cancelButton(()=>{}).open()}async tryResetPassword(i){try{await Le(this.auth,i),this.toastr.info("\u30E1\u30FC\u30EB\u3092\u9001\u4FE1\u3057\u307E\u3057\u305F\u3002")}catch(e){he("Error while sent reset mail",e);let o=e instanceof Error?e.message:"Unknown error";this.toastr.error("\u5931\u6557\u3057\u307E\u3057\u305F\u3002( ${errmsg} )")}}static \u0275fac=function(e){return new(e||t)(p(ke),p(xe),p(N))};static \u0275cmp=d({type:t,selectors:[["gitfire-login-reset-password"]],viewQuery:function(e,o){if(e&1&&ae(tt,5),e&2){let n;ue(n=me())&&(o.resetForm=n.first)}},decls:19,vars:5,consts:[["resetForm",""],["email","ngModel"],[1,"row","p-3"],[1,"visually-hidden"],["autofocus","","type","email","name","email","placeholder","Email address","required","","autofill","","maxlength","1024","minlength","5",1,"form-control","col-8",3,"ngModelChange","ngModel"],[1,"btn","btn-warning",3,"click","disabled"],["routerLink","/"],["routerLink","/Gitfire/signup"],["routerLink","/Gitfire/login"],[1,"invalid-feedback"]],template:function(e,o){if(e&1){let n=P();m(0,"form",null,0)(2,"div",2)(3,"label",3),r(4,"Email"),u(),m(5,"input",4,1),fe("ngModelChange",function(l){return E(n),de(o.emailInput,l)||(o.emailInput=l),_(l)}),u(),m(7,"button",5),se("click",function(l){return E(n),_(o.onClickReset(l))}),r(8,"\u30D1\u30B9\u30EF\u30FC\u30C9\u30EA\u30BB\u30C3\u30C8"),u(),v(9,nt,2,2),u()(),m(10,"div")(11,"a",6),r(12,"Top"),u()(),m(13,"div")(14,"a",7),r(15,"\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u4F5C\u6210\u3059\u308B"),u()(),m(16,"div")(17,"a",8),r(18,"\u30ED\u30B0\u30A4\u30F3"),u()()}if(e&2){let n=Q(6);c(2),le("was-validated",n.dirty||n.touched),c(3),ce("ngModel",o.emailInput),c(2),R("disabled",!n.valid),c(2),y(n.invalid?9:-1)}},dependencies:[V,Ie,Ee,_e,Se,Re,be,Ae,Fe,we,A],encapsulation:2})};function rt(t,i){t&1&&h(0,"gitfire-signup")}function st(t,i){t&1&&h(0,"gitfire-login")}function at(t,i){t&1&&h(0,"gitfire-login-reset-password")}var k=class t{constructor(i){this.route=i;this.mode=i.snapshot.data.mode}mode;ngOnInit(){f("LoginRouterComponent.OnInit()")}static \u0275fac=function(e){return new(e||t)(p(ge))};static \u0275cmp=d({type:t,selectors:[["ng-component"]],decls:3,vars:1,template:function(e,o){if(e&1&&v(0,rt,1,0,"gitfire-signup")(1,st,1,0,"gitfire-login")(2,at,1,0,"gitfire-login-reset-password"),e&2){let n;y((n=o.mode)==="signup"?0:n==="login"?1:n==="reset"?2:-1)}},dependencies:[M,x,O],encapsulation:2})};var ut=[{path:"",component:k}],z=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=I({type:t});static \u0275inj=F({imports:[H.forChild(ut),H]})};var Ge=class t{constructor(){ye("Dynamically loaded GitfireLoginModule")}static \u0275fac=function(e){return new(e||t)};static \u0275mod=I({type:t});static \u0275inj=F({providers:[Me(()=>Oe(J.firebaseConfig)),Pe(()=>Te())],imports:[V,De,z,je.initializeApp(J.firebaseConfig),x,M,D,k,O]})};export{It as a,Ne as b,Ve as c,We as d,Rt as e,Ge as f};
