"use strict";(self.webpackChunkKaguraGithubPages=self.webpackChunkKaguraGithubPages||[]).push([[406],{2994:(X,k,p)=>{p.d(k,{Y:()=>P});var m=p(9212),_=p(553);let P=(()=>{class e{after=new m.vpe;constructor(){(0,_.eM)("AfterIfDirective")}ngAfterContentInit(){(0,_.eM)("AfterIfDirective.ngAfterContentInit()"),setTimeout(()=>this.after.next())}static \u0275fac=function(I){return new(I||e)};static \u0275dir=m.lG2({type:e,selectors:[["","appAfterIf",""]],outputs:{after:"appAfterIf"}})}return e})()},2406:(X,k,p)=>{p.r(k),p.d(k,{GitweeModule:()=>xt});var m=p(6814),_=p(5187),P=p(5861),e=p(9212),d=p(6825),C=p(8645),I=p(5619),b=p(2572),q=p(3019),A=p(2096),Y=p(2438),V=p(1687),J=p(8180),v=p(7398),M=p(304),y=p(9773),L=p(3997),ee=p(6699);class G{entries;timelineUrl;navigationFrom="click"}class N extends G{urlLink;title;indexUrl;updated;updatedAt}class te extends N{}class B{key;urlKey;urlLink;monthPage;monthIndex;isSelected=!1;count;page$;isNationalHoliday$;nationalHoliday$}class ne extends N{urlPrefix;lastDays;firstWeekday;days;dayEntries={}}class ie{key;urlKey;urlLink;yearPage;yearIndex;count;page$}class oe extends N{urlPrefix;monthEntries=[]}class ae{key;urlKey;urlLink;topPage;count;page$}class re extends N{urlPrefix;yearEntries=[]}class se{ns;category;navigators;fragment}class le extends N{tagkey}var u=p(553),Z=p(271),R=p(9339),w=p(4664);function U(o,l,t="0"){const n=`${o}`;return n.length>=l?n:n.padStart(l,t)}function D(o){const l=+o;return Number.isNaN(l)?null:l}var H=p(9798);let T=(()=>{class o{dom;http;holidays={};isInitialized=!1;constructor(t,n){this.dom=t,this.http=n,(0,u.eM)("IndexService.constructor()")}initialized(){this.isInitialized=!0}getNavigationFrom(t){return t?t.isReload?"reload":"url":"click"}indexRepPrefix$(t){const i=this.dom.getBaseHref()+u.NZ.GITWEE_DATA;return t.data?t.data.pipe((0,v.U)(a=>i+"/"+(a?.gitweeNamespace||""))):(0,A.of)(i)}buildConfigUrl$(t){return this.indexRepPrefix$(t).pipe((0,v.U)(n=>`${n}/config/main.json`))}buildTagIndex$(t,n){return this.indexRepPrefix$(t).pipe((0,v.U)(i=>i+"/tag/"+(n?`${n}/`:"")+"index.json"))}fetchConfig$(t){return this.buildConfigUrl$(t).pipe((0,w.w)(i=>this.http.fetchGhJson(i)))}readYearHoliday$(t){return this.http.fetchJson(`https://holidays-jp.github.io/api/v1/${t}/date.json`).pipe((0,v.U)(n=>{const i={};for(const a in n){const r=n[a],s={date:new Date(a),name:r};let c=i[s.date.getMonth()];if(c||(c={},i[s.date.getMonth()]=c),c[s.date.getDate()])throw new Error(`Not a valid date entry at ${s.date}`);c[s.date.getDate()]=s}return i}),(0,M.d)(1))}getNationalHoliday$(t){const n=t.getFullYear();let i=this.holidays[n];return i||(i=this.readYearHoliday$(n),this.holidays[n]=i),i.pipe((0,v.U)(a=>{if(!(t.getMonth()in a))return null;const r=a[t.getMonth()];return t.getDate()in r?r[t.getDate()].name:null}))}isNationalHoliday$(t){return this.getNationalHoliday$(t).pipe((0,v.U)(n=>null!==n))}buildIndex$(t,n,i,a){return this.indexRepPrefix$(t).pipe((0,v.U)(r=>r+"/date/"+(n?`${n}/`:"")+(i?`${i}/`:"")+(a?`${a}/`:"")+"index.json"))}fetchWeeklyIndex$(t){return this.http.fetchGhJson(t).pipe()}fetchTagIndexInternal$(t,n){return this.http.fetchGhJson(t).pipe((0,v.U)(i=>{const a=new le;return a.indexUrl=t,a.title=i.title,a.entries=i.defaultEntries,a.timelineUrl=i.fuzzyIndexUrl,a.tagkey=n.tagkey,a.urlLink=`tag/${n.tagkey}`,a.navigationFrom=this.getNavigationFrom(n),a.updated=i.updated,a}))}fetchTagIndex$(t,n){return this.buildTagIndex$(t,n.tagkey).pipe((0,w.w)(a=>this.fetchTagIndexInternal$(a,n)))}fetchTagListInternal$(t){return this.http.fetchGhJson(t).pipe()}fetchTagList$(t){return this.buildTagIndex$(t).pipe((0,w.w)(i=>this.fetchTagListInternal$(i)))}fetchIndexInternal$(t,n,i){return this.http.fetchGhJson(n).pipe((0,v.U)(a=>{const r=new re;r.indexUrl=n,r.urlPrefix="timeline/",r.urlLink="",r.entries=a.defaultEntries,r.title=a.title,r.timelineUrl=a.fuzzyIndexUrl,r.navigationFrom=this.getNavigationFrom(i),r.updated=a.updated;for(const s in a.values){const c=Number(s),g=a.values[s],h=new ae;h.key=c,h.topPage=r,h.urlKey=U(c,4),h.urlLink=`${r.urlPrefix}${h.urlKey}`,h.count=g.count,h.page$=null,i?.year===c&&(h.page$=this.openYearPage$(t,h,i)),r.yearEntries.unshift(h)}return r}))}fetchIndex$(t,n){return this.buildIndex$(t).pipe((0,w.w)(a=>this.fetchIndexInternal$(t,a,n)))}openYearPageInternal$(t,n,i,a){return this.http.fetchGhJson(n).pipe((0,v.U)(r=>{const s=new oe;s.urlLink=i.urlLink,s.urlPrefix=`${s.urlLink}/`,s.entries=r.defaultEntries,s.title=r.title,s.timelineUrl=r.fuzzyIndexUrl,s.navigationFrom=this.getNavigationFrom(a),s.updated=r.updated;for(const c in r.values){const g=Number(c),h=r.values[c],f=new ie;f.key=g,f.urlKey=U(g,2),f.urlLink=`${s.urlPrefix}${f.urlKey}`,f.yearPage=s,f.yearIndex=i,f.count=h.count,f.page$=null,a?.year===i.key&&a?.month===g&&(f.page$=this.openMonthPage$(t,f,a)),s.monthEntries.unshift(f)}return s}))}openYearPage$(t,n,i){return this.buildIndex$(t,n.urlKey).pipe((0,w.w)(r=>this.openYearPageInternal$(t,r,n,i)))}openMonthPageInternal$(t,n,i,a){const r=i.yearIndex;return this.http.fetchGhJson(n).pipe((0,v.U)(s=>{const c=new ne;c.indexUrl=n,c.urlLink=i.urlLink,c.urlPrefix=`${c.urlLink}/`,c.lastDays=s.lastMonthDays,c.firstWeekday=s.firstWeekday,c.days=s.days,c.entries=s.defaultEntries,c.title=s.title,c.timelineUrl=s.fuzzyIndexUrl,c.navigationFrom=this.getNavigationFrom(a),c.updated=s.updated;for(const g in s.values){const h=Number(g),f=s.values[g],x=new B,$=new Date(Number(r.key),Number(i.key)-1,h);x.key=h,x.urlKey=U(h,2),x.urlLink=`${c.urlPrefix}${x.urlKey}`,x.monthPage=c,x.monthIndex=i,x.isSelected=!1,x.count=f.count,x.page$=null,x.isNationalHoliday$=this.isNationalHoliday$($),x.nationalHoliday$=this.getNationalHoliday$($),a?.year===r.key&&a?.month===i.key&&a?.day===h&&(x.isSelected=!0,x.page$=this.openDayIndexPage$(t,x.monthIndex,x,a)),c.dayEntries[h]=x}return c}))}openMonthPage$(t,n,i){return this.buildIndex$(t,n.yearIndex.urlKey,n.urlKey).pipe((0,w.w)(s=>this.openMonthPageInternal$(t,s,n,i)))}openDayIndexPageInternal$(t,n,i){return this.http.fetchGhJson(t).pipe((0,v.U)(a=>{const r=new te;return r.indexUrl=t,r.urlLink=n.urlLink,r.title=a.title,r.entries=a.entries,r.navigationFrom=this.getNavigationFrom(i),r.updated=a.updated,r}))}openDayIndexPage$(t,n,i,a){return this.buildIndex$(t,n.yearIndex.urlKey,n.urlKey,i.urlKey).pipe((0,w.w)(s=>this.openDayIndexPageInternal$(s,i,a)))}static \u0275fac=function(n){return new(n||o)(e.LFG(Z.v),e.LFG(H.OE))};static \u0275prov=e.Yz7({token:o,factory:o.\u0275fac})}return o})();var ce=p(353),ue=p(3867),E=p(2994),Q=p(3620),pe=p(9026),ge=p(757),S=p(6223),he=p(8770);function fe(o,l){1&o&&(e.ynx(0),e._uU(1,","),e.BQk())}function me(o,l){if(1&o&&(e.ynx(0),e.TgZ(1,"a",2),e._uU(2),e.qZA(),e.YNc(3,fe,2,0,"ng-container",0),e.BQk()),2&o){const t=l.$implicit,n=l.last;e.xp6(1),e.MGl("routerLink","./tag/",t.tagkey,""),e.xp6(1),e.Oqu(t.title),e.xp6(1),e.Q6J("ngIf",!n)}}function xe(o,l){if(1&o&&(e.ynx(0),e._UZ(1,"hr"),e.TgZ(2,"p"),e._uU(3,"Tag: "),e.YNc(4,me,4,3,"ng-container",1),e.qZA(),e.BQk()),2&o){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.tags)}}let ve=(()=>{class o{tags;constructor(){}ngOnInit(){(0,u.eM)("TagFooterComponent.OnInit()")}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=e.Xpm({type:o,selectors:[["gitwee-tag-footer"]],inputs:{tags:"tags"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"p-1",3,"routerLink"]],template:function(n,i){1&n&&e.YNc(0,xe,5,1,"ng-container",0),2&n&&e.Q6J("ngIf",i.tags&&i.tags.length>0)},dependencies:[m.sg,m.O5,_.rH]})}return o})();function ye(o,l){if(1&o&&e._uU(0),2&o){const t=e.oxw().$implicit;e.Oqu(t.title)}}function _e(o,l){if(1&o&&(e.TgZ(0,"a",16),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.Q6J("routerLink",t.anchorLink)("fragment",t.anchorId),e.xp6(1),e.Oqu(t.title)}}function we(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.toggleCensored(i))}),e._UZ(1,"img",18),e.qZA()}if(2&o){const t=e.oxw().$implicit;e.Q2q("data-bs-target","#gitweeTimelineItem-",t.anchorId,"")("aria-controls","#gitweeTimelineItem-",t.anchorId,""),e.xp6(1),e.Udp("transform",t.isOpened?"rotate(-90deg)":"none"),e.Q6J("@censorButtonTrigger",t.isOpened)}}function Ce(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",19,20),e.NdJ("appAfterIf",function(){e.CHM(t);const i=e.MAs(1);e.oxw();const a=e.MAs(1),r=e.oxw();return e.KtG(r.computeBottomFade(a,i))}),e.TgZ(2,"span",21)(3,"a",22),e._uU(4,"\u7d9a\u304d\u3092\u8aad\u3080"),e.qZA()()()}if(2&o){const t=e.oxw().$implicit;e.Udp("bottom",t.tags.length>0?140:80,"px"),e.xp6(3),e.s9C("routerLink",t.anchorLink)}}function Te(o,l){if(1&o&&e._UZ(0,"gitwee-tag-footer",23),2&o){const t=e.oxw().$implicit;e.Q6J("tags",t.tags)}}function $e(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",2,3)(2,"div",4)(3,"div",5),e.YNc(4,ye,1,1,"ng-template",null,6,e.W1O)(6,_e,2,3,"a",7),e.qZA(),e.YNc(7,we,2,5,"button",8),e.qZA(),e.TgZ(8,"div",9)(9,"app-page-path",10,11),e.NdJ("loadPageBody",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onPageBodyRetrieved())})("fatalError",function(i){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.onFatalError(r,i))})("loadPageJson",function(i){const a=e.CHM(t),r=a.$implicit,s=a.last,c=e.oxw();return e.KtG(c.onLoaded(r,i,s))})("loadError",function(i){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.onErrorDraw(r,i))}),e.qZA(),e.YNc(11,Ce,5,3,"div",12)(12,Te,1,1,"gitwee-tag-footer",13),e.qZA(),e.TgZ(13,"div",14)(14,"small",15),e._uU(15),e.ALo(16,"date"),e.qZA()()()}if(2&o){const t=l.$implicit,n=e.MAs(5);e.Q6J("@timelineEntryTrigger",void 0),e.xp6(3),e.MGl("id","gitweeTimelinePage-",t.anchorId,""),e.xp6(3),e.Q6J("ngIf",t.anchorLink)("ngIfElse",n),e.xp6(1),e.Q6J("ngIf",t.isCensored),e.xp6(1),e.MGl("id","gitweeTimelineItem-",t.anchorId,""),e.Q6J("ngClass",t.isCensored?"collapse":"show"),e.xp6(1),e.Q6J("pagePath$",t.path$),e.xp6(2),e.Q6J("ngIf",t.hasMain),e.xp6(1),e.Q6J("ngIf",t.tags),e.xp6(3),e.hij("Updated: ",e.xi3(16,11,t.updated,"yyyy-MM-dd"),"")}}function Ie(o,l){1&o&&(e.TgZ(0,"div",28)(1,"div")(2,"strong"),e._uU(3,"\u8aad\u307f\u8fbc\u307f\u5931\u6557"),e.qZA()(),e.TgZ(4,"div"),e._uU(5,"\u6642\u9593\u3092\u958b\u3051\u3066\u304b\u3089\u518d\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002"),e.qZA(),e.TgZ(6,"button",29)(7,"span",30),e._uU(8,"\xd7"),e.qZA()()())}function be(o,l){1&o&&(e.TgZ(0,"div"),e._UZ(1,"span",31),e.TgZ(2,"span"),e._uU(3,"Loading..."),e.qZA()())}function Me(o,l){1&o&&(e.TgZ(0,"div"),e._uU(1,"\u3055\u3089\u306b\u8aad\u307f\u8fbc\u3080"),e.qZA())}function Ne(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",24),e.YNc(1,Ie,9,0,"div",25),e.TgZ(2,"button",26),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onClickTrackback(i.streamPrevUrl))}),e.YNc(3,be,4,0,"div",27)(4,Me,2,0,"div",27),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isLoadingError),e.xp6(1),e.Q6J("disabled",t.isLoadingPrevious),e.xp6(1),e.Q6J("ngIf",t.isLoadingPrevious),e.xp6(1),e.Q6J("ngIf",!t.isLoadingPrevious)}}class ke{path$;keyPath;pageRelPath;constructor(l,t,n){this.path$=l,this.keyPath=t,this.pageRelPath=n}title;anchorLink;anchorId;updated;isCensored;isOpened;hasMain;tags}class j{url;entries;constructor(l,t=[]){this.url=l,this.entries=t}reloadId;refreshEvent}class Pe{obj;key;lastAccessAt;createdAt;constructor(l,t){this.obj=l,this.key=t,this.lastAccessAt=Date.now(),this.createdAt=Date.now()}}let Ae=(()=>{class o{router;index;dom;reloader;naviEntries$;trackbackEntries$=new C.x;timeline=[];timelineEntryCache={};MaxCacheItem=200;CacheExpireMS=36e5;timelineIndices={};timelineIndicesOrdered=[];streamPrevUrl;isLoadingPrevious=!1;isLoadingError=!1;pendingAnchorNavi;backgroundFadeGradient$;destroy$=new C.x;updateTimeline(){const t=[],n=this.dom.getBaseHref();for(const i of this.timelineIndicesOrdered){const a=this.timelineIndices[i];for(const r of a.entries){const s=`${n}${u.NZ.PAGE_DATA}/${r}`;let c=this.getTimelineCache(s);if(c){t.includes(c)||t.push(c);continue}const g=new ge._;g.jsonPath=s,c=new ke((0,A.of)(g),g.jsonPath,r),t.push(c),this.putTimelineCache(c)}}this.timeline=t}constructor(t,n,i,a){this.router=t,this.index=n,this.dom=i,this.reloader=a}ngOnDestroy(){(0,u.eM)("TimelineComponent.OnDestroy()"),this.cleanupTimelineIndices(),this.destroy$.next()}ngOnInit(){(0,u.eM)("TimelineComponent.OnInit()"),this.naviEntries$.pipe((0,Q.b)(500),(0,y.R)(this.destroy$)).subscribe(t=>{switch(t.navigationFrom){case"click":case"url":{this.cleanupTimelineIndices();const n=new j(null,t.entries);this.timelineIndices.default=n,this.timelineIndicesOrdered.push("default")}break;case"reload":this.timelineIndices.default.entries=t.entries;break;default:throw new Error(`Not supported navigationFrom ${t.navigationFrom}`)}this.updateTimeline(),this.timelineIndices[t.timelineUrl]||(this.streamPrevUrl=t.timelineUrl),this.isLoadingPrevious=!1}),this.trackbackEntries$.pipe((0,y.R)(this.destroy$)).subscribe(t=>{if("click"!==t.navigationFrom)throw new Error("Not a supported navigationFrom ${page.navigationFrom}");this.updateTimeline(),this.isLoadingPrevious=!1}),this.router.currentFragment$.pipe((0,y.R)(this.destroy$)).subscribe(t=>{this.pendingAnchorNavi=t})}rgb2hex(t){const n=t.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return n?`#${n.slice(1).map(a=>parseInt(a,10).toString(16).padStart(2,"0")).join("")}`:null}computeBaseColor(t){const n=window.getComputedStyle(t);return"background-color"in n?this.rgb2hex(n["background-color"])||((0,u.wb)("Failed to parse background color for fade."),"#ffffff"):((0,u.wb)("Failed to compute background color for fade."),"#ffffff")}computeBottomFade(t,n){(0,u.eM)("Computing fade color");const i=this.computeBaseColor(t);n.style.background=`linear-gradient(to top, ${i}ff, 90%, ${i}00)`}onFatalError(t,n){(0,u.eM)("TimelineComponent.onFatalError()",n)}onErrorDraw(t,n){(0,u.eM)("TimelineComponent.onErrorDraw()")}onLoaded(t,n,i){(0,u.eM)("TimelineComponent.onLoaded()",t,n,i),t.title=n.title,t.anchorLink=n.anchorLink,t.anchorId=n.anchorId,t.updated=new Date(n.updatedAt||n.updated),t.isCensored=!!n.isDefaultClosed,t.isOpened=!t.isCensored,t.hasMain=n.hasMain||!1,t.tags=n.tags}toggleCensored(t){t.isOpened=!t.isOpened}onPageBodyRetrieved(){this.pendingAnchorNavi&&this.dom.scrollIntoView(`gitweeTimelinePage-${this.pendingAnchorNavi}`)&&(this.pendingAnchorNavi=null)}cleanupIndexItem(t){t.reloadId&&(this.reloader.unregister(t.reloadId),delete t.reloadId),t.refreshEvent&&(t.refreshEvent.unsubscribe(),delete t.refreshEvent)}expireTimelineCache(){const t=Object.keys(this.timelineEntryCache),n=t.length;if(n<=this.MaxCacheItem)return;(0,u.H_)(`Cleaning up timeline cache size: ${n}`);const i=Date.now()-this.CacheExpireMS;let a=[];for(const g of t){const h=this.timelineEntryCache[g];h.lastAccessAt>i||a.push(h)}a=a.sort((g,h)=>g.lastAccessAt===h.lastAccessAt?0:g.lastAccessAt<h.lastAccessAt?-1:1),(0,u.eM)("Target to expire.",a);const r=n-this.MaxCacheItem;for(let g=0;g<r&&g<a.length;g++)delete this.timelineEntryCache[a[g].key];const c=Object.keys(this.timelineEntryCache).length;(0,u.H_)(`Cache was cleaned up size: ${n} -> ${c}`)}getTimelineCache(t){const n=this.timelineEntryCache[t];return n?(n.lastAccessAt=Date.now(),n.obj):null}putTimelineCache(t){let n=this.timelineEntryCache[t.keyPath];n?n.lastAccessAt=Date.now():(n=new Pe(t,t.keyPath),this.timelineEntryCache[t.keyPath]=n)}cleanupTimelineIndices(){if(this.timelineIndices)for(const t in this.timelineIndices)this.cleanupIndexItem(this.timelineIndices[t]);this.expireTimelineCache(),this.timelineIndices={},this.timelineIndicesOrdered=[]}refreshIndex(t,n){let i=this.timelineIndices[t];i||(i=new j(t),this.timelineIndices[t]=i),i.entries=n.entries,this.cleanupIndexItem(i);const a=this.reloader.registerWatcher(t,new Date(n.updatedAt));i.reloadId=a,i.refreshEvent=this.reloader.refreshEvent(a).pipe((0,w.w)(()=>this.index.fetchWeeklyIndex$(t)),(0,y.R)(this.destroy$)).subscribe(r=>{this.refreshIndex(t,r)}),this.timelineIndicesOrdered.includes(t)||this.timelineIndicesOrdered.push(t)}onClickTrackback(t){(0,u.eM)("TimelineComponent.onClickTrackback()",t),this.isLoadingPrevious=!0,this.isLoadingError=!1;const n=new I.X(t);n.pipe((0,w.w)(a=>(0,pe.$)((0,A.of)(a),this.index.fetchWeeklyIndex$(a))),(0,M.d)(1)).pipe((0,y.R)(this.destroy$)).subscribe({next:([a,r])=>{if(this.refreshIndex(a,r),this.streamPrevUrl=r.previousIndexUrl,r.entries.length>0){const s=new G;return s.entries=r.entries,s.timelineUrl=r.previousIndexUrl,s.navigationFrom="click",void this.trackbackEntries$.next(s)}r.previousIndexUrl&&((0,u.eM)(`Continue retrieving ${r.previousIndexUrl} since empty.`),n.next(r.previousIndexUrl))},complete:()=>{(0,u.eM)("Successfully completed auto trackback loader"),this.isLoadingPrevious=!1},error:a=>{this.isLoadingError=!0,this.isLoadingPrevious=!1}})}static \u0275fac=function(n){return new(n||o)(e.Y36(R.Z),e.Y36(T),e.Y36(Z.v),e.Y36(S.f))};static \u0275cmp=e.Xpm({type:o,selectors:[["gitwee-timeline"]],inputs:{naviEntries$:"naviEntries$"},decls:2,vars:2,consts:[["class","card shadow-lg rounded m-2 gitwee-timeline-item",4,"ngFor","ngForOf"],["class","p-5",4,"ngIf"],[1,"card","shadow-lg","rounded","m-2","gitwee-timeline-item"],["timelineItemDiv",""],[1,"card-header"],[1,"float-start",3,"id"],["justTitle",""],[3,"routerLink","fragment",4,"ngIf","ngIfElse"],["class","btn float-end collapsed","data-bs-toggle","collapse","aria-expanded","false",3,"click",4,"ngIf"],[1,"card-body",3,"id","ngClass"],[1,"m-3","p-3",3,"pagePath$","loadPageBody","fatalError","loadPageJson","loadError"],["pagePathComponent",""],["class","timeline-fadeout-entry",3,"bottom","appAfterIf",4,"ngIf"],[3,"tags",4,"ngIf"],[1,"card-footer"],[1,"float-end","text-muted"],[3,"routerLink","fragment"],["data-bs-toggle","collapse","aria-expanded","false",1,"btn","float-end","collapsed",3,"click"],["src","/assets/octicons/chevron-left.svg"],[1,"timeline-fadeout-entry",3,"appAfterIf"],["bottomFaderDiv",""],[2,"position","absolute","bottom","0px"],[3,"routerLink"],[3,"tags"],[1,"p-5"],["class","alert alert-warning alert-dismissible fade show","role","alert",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","btn-block",2,"width","100%",3,"disabled","click"],[4,"ngIf"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close"],["aria-hidden","true"],["role","status","aria-hidden","true",1,"spinner-border","text-primary"]],template:function(n,i){1&n&&e.YNc(0,$e,17,14,"div",0)(1,Ne,5,4,"div",1),2&n&&(e.Q6J("ngForOf",i.timeline),e.xp6(1),e.Q6J("ngIf",i.streamPrevUrl))},dependencies:[m.mk,m.sg,m.O5,_.rH,E.Y,he.C,ve,m.uU],styles:[".timeline-fadeout-entry[_ngcontent-%COMP%]{position:absolute;width:100%;height:30%;left:0%;padding:2%}"],data:{animation:[(0,d.X$)("timelineEntryTrigger",[(0,d.eR)(":enter",[(0,d.oB)({opacity:0,transform:"translateY(10px)"}),(0,d.jt)("300ms 300ms ease-in-out",(0,d.oB)({transform:"none",opacity:1})),(0,d.pV)()]),(0,d.eR)(":leave",[(0,d.pV)(),(0,d.oB)({opacity:1,transform:"none"}),(0,d.jt)("300ms ease-in-out",(0,d.oB)({opacity:0,transform:"translateY(-10px)"}))])]),(0,d.X$)("censorButtonTrigger",[(0,d.eR)("false => true",[(0,d.oB)({transform:"none"}),(0,d.jt)("500ms ease-in-out",(0,d.oB)({transform:"rotate(-90deg)"}))]),(0,d.eR)("true => false",[(0,d.oB)({transform:"rotate(-90deg)"}),(0,d.jt)("500ms ease-in-out",(0,d.oB)({transform:"none"}))])])]}})}return o})();function Ze(o,l){if(1&o&&(e.TgZ(0,"th")(1,"div"),e._uU(2),e.qZA()()),2&o){const t=l.$implicit;e.xp6(1),e.Gre("",t.clz," text-center"),e.xp6(1),e.Oqu(t.name)}}function Ee(o,l){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.key)}}function Fe(o,l){if(1&o){const t=e.EpF();e.ynx(0,12),e.NdJ("appAfterIf",function(){const a=e.CHM(t).ngIf,r=e.oxw(3).$implicit,s=e.oxw(2);return e.KtG(s.onPageRetrieved(r,a))}),e.BQk()}}function Le(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"a",9),e.NdJ("click",function(i){e.CHM(t);const a=e.oxw(2).$implicit,r=e.oxw(2);return e.KtG(r.onClickDay(i,a))}),e.TgZ(2,"span",10),e._uU(3),e.qZA()(),e.YNc(4,Fe,1,0,"ng-container",11),e.ALo(5,"async"),e.qZA()}if(2&o){const t=e.oxw(2).$implicit,n=e.oxw(2);e.xp6(1),e.MGl("title","",t.count," \u4ef6"),e.hYB("href","",n.urlPrefix,"/",t.urlLink,"",e.LSH),e.xp6(2),e.Oqu(t.key),e.xp6(1),e.Q6J("ngIf",e.lcZ(5,5,t.page$))}}const Ue=()=>["border-bottom","border-danger"],z=()=>[];function De(o,l){if(1&o&&(e.TgZ(0,"div",6),e.ALo(1,"async"),e.YNc(2,Ee,2,1,"ng-template",null,7,e.W1O)(4,Le,6,7,"div",8),e.qZA()),2&o){const t=e.MAs(3),n=e.oxw().$implicit,i=e.oxw(2);e.Q6J("ngClass",e.lcZ(1,3,n.isNationalHoliday$)?e.DdM(5,Ue):e.DdM(6,z)),e.xp6(4),e.Q6J("ngIf",i.isIndexedDay(n))("ngIfElse",t)}}const Se=()=>["border-primary"];function Oe(o,l){if(1&o&&(e.TgZ(0,"td",3)(1,"div",4),e.YNc(2,De,5,7,"div",5),e.qZA()()),2&o){const t=l.$implicit;e.xp6(1),e.Udp("border-color",null!=t&&t.isSelected?void 0:"transparent!important"),e.Q6J("ngClass",null!=t&&t.isSelected?e.DdM(4,Se):e.DdM(5,z)),e.xp6(1),e.Q6J("ngIf",null!==t)}}function Ye(o,l){if(1&o&&(e.TgZ(0,"tr"),e.YNc(1,Oe,3,6,"td",2),e.qZA()),2&o){const t=l.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}class K{date;index;key;count=0;isSelected=!1;isNationalHoliday$;constructor(l,t){this.date=l,this.index=t,this.key=l.getDate(),this.isNationalHoliday$=this.index.isNationalHoliday$(l)}}let Je=(()=>{class o{route;index;month;monthIndex;urlPrefix;selected=new e.vpe;weekdays=[{name:"\u65e5",value:0,clz:"calendar-sunday"},{name:"\u6708",value:1},{name:"\u706b",value:2},{name:"\u6c34",value:3},{name:"\u6728",value:4},{name:"\u91d1",value:5},{name:"\u571f",value:6,clz:"calendar-saturday"}];monthWeeks;selectedDay;constructor(t,n){this.route=t,this.index=n}ngOnInit(){(0,u.eM)("CalendarPageComponent.OnInit()");const t=(this.month.firstWeekday+(this.month.days-1))%7,n=(0===this.month.firstWeekday?0:7-this.month.firstWeekday)+this.month.days+(6===t?0:7-t),i=[];for(let c=0;c<n/7;c++){const g=new Array(7);g.fill(null),i.push(g)}const a=this.month.firstWeekday,r=Number(this.monthIndex.yearIndex.key),s=Number(this.monthIndex.key)-1;for(let c=0,g=a;c<this.month.days;c++,g++){const h=c+1,f=new Date(r,s,h);let x=this.month.dayEntries[h];x||(x=new K(f,this.index)),i[Math.floor(g/7)][g%7]=x}this.monthWeeks=i}ngOnDestroy(){(0,u.eM)("CalendarPageComponent.OnDestroy()")}unselect(){this.selectedDay=null}onClickNothing(t){(0,u.eM)("onClickNothing()",t),t.preventDefault(),t.stopPropagation()}onClickDay(t,n){(0,u.eM)("onClickDay()",t,n),t.preventDefault(),t.stopPropagation(),n.page$=this.index.openDayIndexPage$(this.route,this.monthIndex,n)}onPageRetrieved(t,n){this.selectedDay&&(this.selectedDay.page$=null,this.selectedDay.isSelected=!1),t.isSelected=!0,this.selectedDay=t,this.selected.emit({index:t,page:n})}isIndexedDay(t){return t instanceof B}isEmptyDay(t){return t instanceof K}static \u0275fac=function(n){return new(n||o)(e.Y36(_.gz),e.Y36(T))};static \u0275cmp=e.Xpm({type:o,selectors:[["gitwee-calendar-page"]],inputs:{month:"month",monthIndex:"monthIndex",urlPrefix:"urlPrefix"},outputs:{selected:"selected"},decls:3,vars:2,consts:[[1,"shadow","border","border-info","my-2",3,"click"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngFor","ngForOf"],[1,"text-center"],[1,"border",3,"ngClass"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["justDay",""],[4,"ngIf","ngIfElse"],[3,"title","href","click"],[1,"gitwee-calendar-day"],[3,"appAfterIf",4,"ngIf"],[3,"appAfterIf"]],template:function(n,i){1&n&&(e.TgZ(0,"table",0),e.NdJ("click",function(r){return i.onClickNothing(r)}),e.YNc(1,Ze,3,4,"th",1)(2,Ye,2,1,"tr",1),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngForOf",i.weekdays),e.xp6(1),e.Q6J("ngForOf",i.monthWeeks))},dependencies:[m.mk,m.sg,m.O5,E.Y,m.Ov],styles:[".calendar-saturday[_ngcontent-%COMP%]{color:#00f}.calendar-sunday[_ngcontent-%COMP%]{color:red}",".gitwee-sidebar-node[_ngcontent-%COMP%]{transition:transform .5s}.gitwee-sidebar-node[_ngcontent-%COMP%]:hover{transform:scale(1.03);z-index:10000}.gitwee-navi-item[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;vertical-align:text-bottom}.gitwee-calendar-day[_ngcontent-%COMP%]{display:inline-block;white-space:nowrap}"],data:{animation:[]}})}return o})();function Ge(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("appAfterIf",function(){const a=e.CHM(t).ngIf,r=e.oxw().$implicit,s=e.oxw(4);return e.KtG(s.onMonthNodeExpanded(r,a))}),e.TgZ(1,"gitwee-calendar-page",11),e.NdJ("selected",function(i){e.CHM(t);const a=e.oxw(5);return e.KtG(a.onDaySelected(i))}),e.qZA()()}if(2&o){const t=l.ngIf,n=e.oxw().$implicit,i=e.oxw(4);e.Q6J("@slidedownTrigger",void 0),e.xp6(1),e.Q6J("urlPrefix",i.urlPrefix)("monthIndex",n)("month",t)}}function Be(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"li",6),e.NdJ("click",function(i){const r=e.CHM(t).$implicit,s=e.oxw(4);return e.KtG(s.onClickMonth(i,r))}),e.TgZ(1,"a",7)(2,"span",8),e._uU(3),e.qZA()(),e.TgZ(4,"span",9),e._uU(5),e.qZA(),e.YNc(6,Ge,2,4,"div",1),e.ALo(7,"async"),e.qZA()}if(2&o){const t=l.$implicit,n=e.oxw(4);e.ekj("gitwee-sidebar-node",!n.selectedMonth||t!==n.selectedMonth),e.xp6(1),e.hYB("href","",n.urlPrefix,"/",t.urlLink,"",e.LSH),e.xp6(2),e.hij("",t.key," \u6708"),e.xp6(1),e.ekj("bg-primary",t===n.selectedMonth)("bg-secondary",t!==n.selectedMonth),e.xp6(1),e.Oqu(t.count),e.xp6(1),e.Q6J("ngIf",e.lcZ(7,11,t.page$))}}function Re(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("appAfterIf",function(){const a=e.CHM(t).ngIf,r=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.onYearNodeExpanded(r,a))}),e.TgZ(1,"ul",10),e.YNc(2,Be,8,13,"li",4),e.qZA()()}if(2&o){const t=l.ngIf;e.Q6J("@slidedownTrigger",void 0),e.xp6(2),e.Q6J("ngForOf",t.monthEntries)}}function He(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"li",6),e.NdJ("click",function(i){const r=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.onClickYear(i,r))}),e.TgZ(1,"a",7)(2,"span",8),e._uU(3),e.qZA()(),e.TgZ(4,"span",9),e._uU(5),e.qZA(),e.YNc(6,Re,3,2,"div",1),e.ALo(7,"async"),e.qZA()}if(2&o){const t=l.$implicit,n=e.oxw(2);e.ekj("gitwee-sidebar-node",!n.selectedYear||t!==n.selectedYear),e.Q6J("@calendarNodeTrigger",void 0),e.xp6(1),e.hYB("href","",n.urlPrefix,"/",t.urlLink,"",e.LSH),e.xp6(2),e.hij("",t.key," \u5e74"),e.xp6(1),e.ekj("bg-primary",t===n.selectedYear)("bg-secondary",t!==n.selectedYear),e.xp6(1),e.Oqu(t.count),e.xp6(1),e.Q6J("ngIf",e.lcZ(7,12,t.page$))}}function Qe(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"li",12),e.NdJ("click",function(i){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onClickYearToggler(i))}),e.TgZ(1,"span"),e._uU(2),e.qZA()()}if(2&o){const t=e.oxw(2);e.Q6J("@calendarNodeTrigger",void 0),e.xp6(2),e.Oqu(t.yearShowAll?"\u6298\u308a\u305f\u305f\u3080":"\u8868\u793a\u3092\u5897\u3084\u3059")}}function je(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("appAfterIf",function(){const a=e.CHM(t).ngIf,r=e.oxw();return e.KtG(r.onTopNodeExpanded(a))}),e.TgZ(1,"ul",3),e.YNc(2,He,8,14,"li",4)(3,Qe,3,2,"li",5),e.qZA()()}if(2&o){const t=l.ngIf,n=e.oxw();e.Q6J("@calendarListTrigger",void 0),e.xp6(2),e.Q6J("ngForOf",t.yearEntries.slice(0,n.yearCount)),e.xp6(1),e.Q6J("ngIf",!n.showYearToggler)}}let ze=(()=>{class o{route;index;reloader;index$;nodeExpanded=new e.vpe;notFound=new e.vpe;route$;urlPrefix;reload$=new C.x;reloadId;refreshSubscription;defaultYearCount=3;yearShowAll=!1;isNavigateDerived=!1;pendingFragment=null;destroy$=new C.x;selectedYear;selectedMonth;selectedDay;naviMatcher;allowYearToggler;constructor(t,n,i){this.route=t,this.index=n,this.reloader=i,(0,u.eM)("CalendarNaviComponent.constructor()");const a="^([0-9]{4})(?:/([0-9]{2})(?:/([0-9]{2})/?)?)?$";this.naviMatcher=new RegExp(a),(0,u.eM)("CalendarNaviComponent URL Matcher",a)}unselect(t){t||(this.isNavigateDerived=!1),this.index$||(this.index$=this.index.fetchIndex$(this.route)),this.selectedYear&&(this.selectedYear.page$=null),this.selectedYear=null,this.selectedMonth&&(this.selectedMonth.page$=null),this.yearShowAll=!1,this.selectedMonth=null,this.selectedDay=null}get showYearToggler(){return this.allowYearToggler&&!!this.selectedYear}get yearCount(){if(!this.yearShowAll)return this.defaultYearCount}onNodeExpanded(t){(0,u.eM)("CalendarNaviComponent.onNodeExpanded()",t),this.pendingFragment&&(t.urlLink=`${t.urlLink}#${this.pendingFragment}`,delete this.pendingFragment),this.nodeExpanded.emit(t)}onTopNodeExpanded(t){(0,u.eM)("CalendarNaviComponent.onTopNodeExpanded()",t,this.isNavigateDerived),this.startWatching(t),this.allowYearToggler=this.defaultYearCount<t.yearEntries.length;for(const n of t.yearEntries)if(n.page$)return;this.isNavigateDerived&&this.onNodeExpanded(t)}onYearNodeExpanded(t,n){(0,u.eM)("CalendarNaviComponent.onYearNodeExpanded()",t),this.selectedYear&&(this.selectedYear.page$=null),this.selectedYear=t;for(const i of n.monthEntries)if(i.page$)return;this.onNodeExpanded(n)}onMonthNodeExpanded(t,n){(0,u.eM)("CalendarNaviComponent.onMonthNodeExpanded()",t),this.selectedMonth&&(this.selectedMonth.page$=null),this.selectedMonth=t;for(const i in n.dayEntries)if(n.dayEntries[i].page$)return;this.onNodeExpanded(n)}ensureUnregisterWathing(){this.reloadId&&(this.reloader.unregister(this.reloadId),this.reloadId=null),this.refreshSubscription&&this.refreshSubscription.unsubscribe()}startWatching(t){this.ensureUnregisterWathing();const n=this.reloader.registerWatcher(t.indexUrl,t.updated);this.reloadId=n,this.refreshSubscription=this.reloader.refreshEvent(n).pipe((0,y.R)(this.destroy$)).subscribe(()=>{this.reload$.next()})}ngOnInit(){(0,u.eM)("CalendarNaviComponent.OnInit()"),this.route$.pipe((0,y.R)(this.destroy$)).subscribe(t=>{if(this.isNavigateDerived="Calendar"===t.category,!this.isNavigateDerived)return void this.unselect();if(!t.navigators)return this.index$=null,void this.unselect(!0);const n=t.navigators.match(this.naviMatcher);if(!n)return(0,u.wb)("No route to",t),void this.unselect(!0);const i=D(n[1]),a=D(n[2]),r=D(n[3]);if(function de(o,l,t){if(o){if(o<1900||9999<o)return!1}else if(l||t)return!1;if(l){if(l<1||12<l)return!1}else if(t)return!1;const n=new Date(o,l,t);return!(n.getFullYear()!==o||n.getMonth()!==l-1||n.getDate()!==t)}(i,a,r))return(0,u.wb)(`Invalidate Routing date ${i}-${a}-${r}`,t),void this.unselect(!0);(0,u.eM)(`CalendarNaviComponent detect routing ${i} ${a} ${r} ${t.fragment}`),this.pendingFragment=t.fragment;const s={year:i,month:a,day:r};this.yearShowAll=!!i,this.index$=this.index.fetchIndex$(this.route,s)}),this.reload$.pipe((0,y.R)(this.destroy$)).subscribe(()=>{const t={year:this.selectedYear?.key,month:this.selectedMonth?.key,day:this.selectedDay?.key,isReload:!0};(0,u.eM)("Reload is clicked on CalendarNaviComponent.",t),this.selectedDay=null,this.selectedMonth=null,this.selectedYear=null,this.index$=this.index.fetchIndex$(this.route,t)})}ngAfterViewInit(){(0,u.eM)("CalendarNaviComponent.AfterViewInit()")}ngOnDestroy(){(0,u.eM)("CalendarNaviComponent.OnDestroy()"),this.ensureUnregisterWathing(),this.destroy$.next()}onClickYearToggler(t){(0,u.eM)("CalendarNaviComponent.onClickYearToggler()",t),this.yearShowAll=!this.yearShowAll}onClickYear(t,n){if((0,u.eM)("CalendarNaviComponent.onClickYear()",t,n),t.preventDefault(),t.stopPropagation(),this.selectedMonth=null,this.selectedDay=null,this.selectedYear===n)return this.onNodeExpanded(n.topPage),n.page$=null,void(this.selectedYear=null);n.page$=this.index.openYearPage$(this.route,n)}onClickMonth(t,n){if((0,u.eM)("CalendarNaviComponent.onClickMonth()",t,n),t.preventDefault(),t.stopPropagation(),this.selectedDay=null,this.selectedMonth===n)return this.onNodeExpanded(n.yearPage),n.page$=null,void(this.selectedMonth=null);n.page$=this.index.openMonthPage$(this.route,n)}onDaySelected(t){(0,u.eM)("CalendarNaviComponent.onDaySelected()",t),this.selectedDay=t.index,this.onNodeExpanded(t.page)}static \u0275fac=function(n){return new(n||o)(e.Y36(_.gz),e.Y36(T),e.Y36(S.f))};static \u0275cmp=e.Xpm({type:o,selectors:[["gitwee-calendar-navi"]],inputs:{route$:"route$",urlPrefix:"urlPrefix"},outputs:{nodeExpanded:"nodeExpanded",notFound:"notFound"},decls:3,vars:3,consts:[["id","gitweeCalendarYearIndex"],[3,"appAfterIf",4,"ngIf"],[3,"appAfterIf"],[1,"list-group"],["class","list-group-item align-items-center row text-end shadow gitwee-listing-calendar",3,"gitwee-sidebar-node","click",4,"ngFor","ngForOf"],["id","gitweeCalendarNaviToggler","class","align-items-center row btn btn-secondary","role","button","tabindex","0",3,"click",4,"ngIf"],[1,"list-group-item","align-items-center","row","text-end","shadow","gitwee-listing-calendar",3,"click"],[1,"col-8",3,"href"],[1,"gitwee-navi-item"],[1,"badge","rounded-pill","col-4"],[1,"list-group","list-group-flush","my-2"],[3,"urlPrefix","monthIndex","month","selected"],["id","gitweeCalendarNaviToggler","role","button","tabindex","0",1,"align-items-center","row","btn","btn-secondary",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.YNc(1,je,4,3,"div",1),e.ALo(2,"async"),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,i.index$)))},dependencies:[m.sg,m.O5,E.Y,Je,m.Ov],styles:[".gitwee-listing-calendar[_ngcontent-%COMP%]{cursor:pointer}",".gitwee-sidebar-node[_ngcontent-%COMP%]{transition:transform .5s}.gitwee-sidebar-node[_ngcontent-%COMP%]:hover{transform:scale(1.03);z-index:10000}.gitwee-navi-item[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;vertical-align:text-bottom}.gitwee-calendar-day[_ngcontent-%COMP%]{display:inline-block;white-space:nowrap}"],data:{animation:[(0,d.X$)("calendarNodeTrigger",[(0,d.eR)(":enter",[(0,d.oB)({opacity:0,transform:"translateX(5px)"}),(0,d.jt)("500ms ease-in-out",(0,d.oB)({opacity:1,transform:"none"}))]),(0,d.eR)(":leave",[(0,d.jt)("500ms ease-in-out",(0,d.oB)({opacity:0,transform:"translateX(5px)"}))])]),(0,d.X$)("calendarListTrigger",[(0,d.eR)(":enter",[(0,d.oB)({opacity:0,transform:"translateX(5px)"}),(0,d.jt)("500ms 200ms ease-in-out",(0,d.oB)({opacity:1,transform:"none"}))]),(0,d.eR)(":leave",[(0,d.oB)({position:"absolute",width:"100%"}),(0,d.jt)("200ms ease-in-out",(0,d.oB)({opacity:0,transform:"translateX(5px)"}))])]),(0,d.X$)("slidedownTrigger",[(0,d.eR)(":enter",[(0,d.oB)({opacity:0,transform:"translateY(-5px)"}),(0,d.jt)("500ms ease-in-out",(0,d.oB)({opacity:1,transform:"none"}))]),(0,d.eR)(":leave",[(0,d.jt)("500ms ease-in-out",(0,d.oB)({opacity:0,transform:"translateY(-5px)"}))])])]}})}return o})();var Ke=p(1748);function We(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"li",5),e.NdJ("click",function(i){const r=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.onClickTag(i,r))}),e.TgZ(1,"a",6)(2,"span",7),e._uU(3),e.qZA()(),e.TgZ(4,"span",8),e._uU(5),e.qZA()()}if(2&o){const t=l.$implicit,n=e.oxw(2);e.hYB("title","",t.title,"",t.noteTooltip?": "+t.noteTooltip:"",""),e.xp6(1),e.hYB("href","",n.urlPrefix,"/",t.urlLink,"",e.LSH),e.xp6(2),e.Oqu(t.title),e.xp6(1),e.ekj("bg-primary",(null==n.selectedPage?null:n.selectedPage.tagkey)===t.tagkey)("bg-secondary",(null==n.selectedPage?null:n.selectedPage.tagkey)!==t.tagkey),e.xp6(1),e.Oqu(t.count)}}function Xe(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"span",14),e.NdJ("click",function(i){const r=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.onClickTag(i,r))}),e._uU(1),e.qZA()}if(2&o){const t=l.$implicit;e.hYB("title","",t.title,"",t.noteTooltip?": "+t.noteTooltip:"",""),e.xp6(1),e.AsE("",t.title," ( ",t.count," )")}}function qe(o,l){if(1&o&&(e.TgZ(0,"li",9)(1,"div",10)(2,"button",11),e._uU(3,"\u305d\u306e\u4ed6"),e.qZA(),e.TgZ(4,"div",12),e.YNc(5,Xe,2,4,"span",13),e.qZA()()()),2&o){const t=e.oxw().ngIf,n=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.entries.slice(n.TagDefaultCount,n.TagMaxCount))}}function Ve(o,l){if(1&o&&(e.TgZ(0,"div",1)(1,"div")(2,"ul",2),e.YNc(3,We,6,10,"li",3)(4,qe,6,1,"li",4),e.qZA()()()),2&o){const t=l.ngIf,n=e.oxw();e.Q6J("@tagListTrigger",void 0),e.xp6(3),e.Q6J("ngForOf",t.entries.slice(0,n.TagDefaultCount)),e.xp6(1),e.Q6J("ngIf",t.entries.length>n.TagDefaultCount)}}let et=(()=>{class o{route;index;reloader;index$;route$;urlPrefix;tagSelected=new e.vpe;notFound=new e.vpe;TagDefaultCount=10;TagMaxCount=30;isNavigateDerived=!1;destroy$=new C.x;indexSub=null;selectedPage=null;tagMatcher;reloadListId;refreshListSubscription=null;reloadId=null;refreshSubscription=null;constructor(t,n,i){this.route=t,this.index=n,this.reloader=i,(0,u.eM)("TagNaviComponent.constructor()");const a="^([-_a-zA-Z0-9]+)/?$";(0,u.eM)("TagNaviComponent URL Matcher",a),this.tagMatcher=new RegExp(a)}ngOnInit(){(0,u.eM)("TagNaviComponent.OnInit()"),this.index$=this.index.fetchTagList$(this.route),this.route$.pipe((0,y.R)(this.destroy$)).subscribe(t=>{if(this.isNavigateDerived="Tag"===t.category,!this.isNavigateDerived||!t.navigators)return void this.unselect(!0);const n=t.navigators.match(this.tagMatcher);if(!n)return void this.unselect(!0);const i=n[1];(0,u.eM)(`TagNaviComponent detect routing ${i}`),this.selectTag(i,!1)}),this.reloadListId=this.reloader.registerLoader(),this.refreshListSubscription=this.reloader.refreshEvent(this.reloadListId).pipe((0,y.R)(this.destroy$)).subscribe(()=>{(0,u.eM)("Reload is clicked on TagNaviComponent."),this.index$=this.index.fetchTagList$(this.route)})}ngOnDestroy(){this.refreshListSubscription&&(this.refreshListSubscription.unsubscribe(),this.refreshListSubscription=null),this.reloadListId&&this.reloader.unregister(this.reloadListId),this.ensureUnregisterTagWathing(),this.destroy$.next()}unselect(t){this.ensureUnregisterTagWathing(),t||(this.isNavigateDerived=!1),this.selectedPage=null,this.hideOtherDropdown()}selectTag(t,n,i){this.indexSub&&(this.indexSub.unsubscribe(),this.indexSub=null),this.indexSub=this.index.fetchTagIndex$(this.route,{tagkey:t,isReload:n,isClicked:i}).pipe((0,y.R)(this.destroy$)).subscribe(r=>{(0,u.eM)("TagNaviComponent Selected",r),this.startTagWatching(r),this.isNavigateDerived&&(this.selectedPage=r,this.tagSelected.emit(r))})}hideOtherDropdown(){const t=document.getElementById("gitweeTagNaviDropdownButton");t&&new Ke.Lt(t).hide()}onClickTag(t,n){(0,u.eM)("TagNaviComponent.onClickTag()",n),t.preventDefault(),t.stopPropagation(),this.hideOtherDropdown(),this.isNavigateDerived=!0,this.selectTag(n.tagkey,!1,!0)}ensureUnregisterTagWathing(){this.reloadId&&(this.reloader.unregister(this.reloadId),this.reloadId=null),this.refreshSubscription&&(this.refreshSubscription.unsubscribe(),this.refreshSubscription=null)}startTagWatching(t){this.ensureUnregisterTagWathing();const n=this.reloader.registerWatcher(t.indexUrl,t.updated);this.reloadId=n,this.refreshSubscription=this.reloader.refreshEvent(n).pipe((0,y.R)(this.destroy$)).subscribe(()=>{this.selectTag(t.tagkey,!0)})}static \u0275fac=function(n){return new(n||o)(e.Y36(_.gz),e.Y36(T),e.Y36(S.f))};static \u0275cmp=e.Xpm({type:o,selectors:[["gitwee-tag-navi"]],inputs:{route$:"route$",urlPrefix:"urlPrefix"},outputs:{tagSelected:"tagSelected",notFound:"notFound"},decls:2,vars:3,consts:[["id","gitweeTagNaviIndex",4,"ngIf"],["id","gitweeTagNaviIndex"],[1,"list-group"],["class","list-group-item align-items-center row text-end shadow row gitwee-listing-tag gitwee-sidebar-node",3,"title","click",4,"ngFor","ngForOf"],["class","list-group-item align-items-center row text-end shadow gitwee-listing-tag",4,"ngIf"],[1,"list-group-item","align-items-center","row","text-end","shadow","row","gitwee-listing-tag","gitwee-sidebar-node",3,"title","click"],[1,"col-8",3,"href"],[1,"gitwee-navi-item"],[1,"badge","rounded-pill","col-4"],[1,"list-group-item","align-items-center","row","text-end","shadow","gitwee-listing-tag"],[1,"btn-group","col-auto","dropdown"],["id","gitweeTagNaviDropdownButton","type","button","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],["id","gitweeTagNaviDropdownOthers",1,"dropdown-menu"],["class","dropdown-item","style","font-size: 0.7em;",3,"title","click",4,"ngFor","ngForOf"],[1,"dropdown-item",2,"font-size","0.7em",3,"title","click"]],template:function(n,i){1&n&&(e.YNc(0,Ve,5,3,"div",0),e.ALo(1,"async")),2&n&&e.Q6J("ngIf",e.lcZ(1,1,i.index$))},dependencies:[m.sg,m.O5,m.Ov],styles:[".gitwee-listing-tag[_ngcontent-%COMP%]{cursor:pointer}",".gitwee-sidebar-node[_ngcontent-%COMP%]{transition:transform .5s}.gitwee-sidebar-node[_ngcontent-%COMP%]:hover{transform:scale(1.03);z-index:10000}.gitwee-navi-item[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;vertical-align:text-bottom}.gitwee-calendar-day[_ngcontent-%COMP%]{display:inline-block;white-space:nowrap}"],data:{animation:[(0,d.X$)("tagListTrigger",[(0,d.eR)(":enter",[(0,d.oB)({opacity:0,transform:"translateX(5px)"}),(0,d.jt)("500ms 200ms ease-in-out",(0,d.oB)({opacity:1,transform:"none"}))]),(0,d.eR)(":leave",[(0,d.oB)({position:"absolute",width:"100%"}),(0,d.jt)("200ms ease-in-out",(0,d.oB)({opacity:0,transform:"translateX(5px)"}))])])]}})}return o})();var tt=p(4825),nt=p(6593);function it(o,l){1&o&&e._UZ(0,"div",5),2&o&&e.Q6J("innerHTML",l.$implicit,e.oJD)}function ot(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"button",1),e.NdJ("click",function(i){e.CHM(t);const a=e.MAs(4),r=e.oxw();return e.KtG(r.onClickToggle(i,a))}),e._uU(2,"\u5916\u90e8\u30b5\u30a4\u30c8 (Banner)"),e.qZA(),e.TgZ(3,"div",2,3),e.YNc(5,it,1,1,"div",4),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(3),e.Udp("display","none"==t.shownState?"none":"block"),e.Q6J("@displayTrigger",t.shownState),e.xp6(2),e.Q6J("ngForOf",t.bannerList)}}let at=(()=>{class o{http;sanitizer;dom;shownState="none";destroy$=new C.x;trustedScript$;refreshEvent$=new I.X(void 0);banners$;bannerList=[];isShown=!1;scriptIdList=[];constructor(t,n,i){this.http=t,this.sanitizer=n,this.dom=i}ngOnDestroy(){this.purgeDynamicScripts(),this.destroy$.next()}ngOnInit(){this.trustedScript$=this.http.fetchGhJson("/UserData/trusted-script.json").pipe((0,v.U)(n=>{const i={};for(const a of n.scripts)i[a.href]=a;return i}),(0,M.d)(1));const t=this.refreshEvent$.pipe((0,Q.b)(500));this.banners$=t.pipe((0,w.w)(()=>this.http.fetchGhJson("/UserData/banner.json").pipe((0,M.d)(1)))),(0,b.a)([this.banners$,this.trustedScript$]).pipe((0,y.R)(this.destroy$)).subscribe(([n,i])=>{const a=[];this.purgeDynamicScripts();for(const r of n.banners)if(a.push(this.sanitizer.bypassSecurityTrustHtml(r.bodyHtml)),r.scripts)for(const s of r.scripts){if(!(s in i)){(0,u.wb)(`Unable load insecure script from ${s}`);continue}const c=this.dom.ensureDynamicScript(s);this.scriptIdList.includes(c)||this.scriptIdList.push(c)}this.bannerList=a})}purgeDynamicScripts(){for(;this.scriptIdList.length>0;)this.dom.removeDynamicScript(this.scriptIdList[0]),this.scriptIdList.splice(0,1)}hackIFrame(t){const n=t.querySelectorAll("iframe");for(let i=0;i<n.length;i++)n[i].width="100%",i++}lazyCall(t,n){(0,tt.H)(t).pipe((0,J.q)(1)).subscribe(i=>{n()})}onClickToggle(t,n){this.isShown=!this.isShown,this.shownState="animating",this.lazyCall(400,this.isShown?()=>this.shownState="visible":()=>this.shownState="none"),this.isShown?this.hackIFrame(n):this.refreshEvent$.next()}static \u0275fac=function(n){return new(n||o)(e.Y36(H.OE),e.Y36(nt.H7),e.Y36(Z.v))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-external-banner"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"btn","btn-secondary",2,"width","100%",3,"click"],[1,"app-external-banner-body","m-2"],["bodyNode",""],["class","m-1",3,"innerHTML",4,"ngFor","ngForOf"],[1,"m-1",3,"innerHTML"]],template:function(n,i){1&n&&e.YNc(0,ot,6,4,"div",0),2&n&&e.Q6J("ngIf",i.bannerList&&i.bannerList.length>0)},dependencies:[m.sg,m.O5],styles:[".gitwee-sidebar-node[_ngcontent-%COMP%]{transition:transform .5s}.gitwee-sidebar-node[_ngcontent-%COMP%]:hover{transform:scale(1.03);z-index:10000}.gitwee-navi-item[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;vertical-align:text-bottom}.gitwee-calendar-day[_ngcontent-%COMP%]{display:inline-block;white-space:nowrap}"],data:{animation:[(0,d.X$)("displayTrigger",[(0,d.eR)("none => animating",[(0,d.oB)({opacity:0,transform:"translateY(-5px)"}),(0,d.jt)("500ms ease-in-out",(0,d.oB)({opacity:1,transform:"none"}))]),(0,d.eR)("visible => animating",[(0,d.oB)({opacity:1,transform:"none"}),(0,d.jt)("500ms ease-in-out",(0,d.oB)({opacity:0,transform:"translateY(-5px)"}))])])]}})}return o})();const rt=["tagNavi"],st=["sideNavigator"],lt=["gitweeFireGitweeContainer"];function dt(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",16,17),e.NdJ("appAfterIf",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.activatedFireGitwee())}),e.qZA()}}function ct(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.doUnmask())}),e.TgZ(1,"div",19),e.O4$(),e.TgZ(2,"svg",20)(3,"defs")(4,"linearGradient",21),e._UZ(5,"stop",22)(6,"stop",23)(7,"stop",24),e.qZA()(),e.TgZ(8,"circle",25),e._UZ(9,"animateTransform",26),e.qZA(),e.TgZ(10,"text",27)(11,"tspan",28),e._uU(12,"G"),e._UZ(13,"animate",29),e.qZA(),e.TgZ(14,"tspan",30),e._uU(15,"i"),e._UZ(16,"animate",31),e.qZA(),e.TgZ(17,"tspan",32),e._uU(18,"t"),e._UZ(19,"animate",33),e.qZA(),e.TgZ(20,"tspan",34),e._uU(21,"w"),e._UZ(22,"animate",35),e.qZA(),e.TgZ(23,"tspan",36),e._uU(24,"e"),e._UZ(25,"animate",37),e.qZA(),e.TgZ(26,"tspan",38),e._uU(27,"e"),e._UZ(28,"animate",39),e.qZA()()()()()}2&o&&e.Q6J("@loadingTrigger",void 0)}let ut=(()=>{class o{dom;route;router;index;loader;localSession;targetTimeline$=new C.x;destroy$=new C.x;isLoading;gitweeRoute$;defaultTopPage$;gitweeUrlPrefix;eventShowFireGitwee$;overrideStyleClass;selectedNavigator;tagNavi;sideNavigator;sidebarStickyTop$=new I.X(null);constructor(t,n,i,a,r,s){this.dom=t,this.route=n,this.router=i,this.index=a,this.loader=r,this.localSession=s,this.isLoading=!this.index.isInitialized}extractGitweePath(t){const n=this.gitweeUrlPrefix;if(t!==n&&!t.startsWith(`${n}/`))throw new Error(`Unable parse a GitweePath URL: ${t}`);let i=t.substring(n.length);if(i.startsWith("/")&&(i=i.substring(1)),""===i)return["Calendar",null];const a=i.match(/^timeline(?:\/(.*))?$/);if(a)return["Calendar",a[1]];const r=i.match(/^tag(?:\/(.*))?$/);if(r)return["Tag",r[1]];throw new Error(`Unsupported Path of the Gitwee ${i}`)}ngOnInit(){(0,u.eM)("Gitwee.MainComponent.OnInit()",this.route,this.route.pathFromRoot),this.gitweeUrlPrefix="/"+this.route.pathFromRoot.reduce((g,h)=>h.routeConfig?.path?[h.routeConfig?.path,...g]:g,[]).join("/");const t=this.route.data.pipe((0,J.q)(1));this.gitweeRoute$=(0,b.a)([t,this.router.urlNavigation$]).pipe((0,v.U)(([g,h])=>{(0,u.eM)("MainComponent detect urlNavigation$",g,h);const f=new se;return f.ns=g.gitweeNamespace,[f.category,f.navigators]=this.extractGitweePath(h.path),f.fragment=h.fragment,f}),(0,M.d)(1)),this.index.fetchConfig$(this.route).pipe((0,y.R)(this.destroy$)).subscribe(g=>{g.styles&&(this.overrideStyleClass=this.dom.overrideBasicStyle(g.styles))});const n=(0,q.T)((0,A.of)(window.innerHeight),(0,Y.R)(window,"resize").pipe((0,v.U)(g=>window.innerHeight),(0,L.x)())),i=(0,Y.R)(window,"scroll").pipe((0,v.U)(g=>window.scrollY),(0,ee.R)((g,h)=>[h,g[0],g[1]],[0,null,null])),a=(0,V.F)(300).pipe((0,v.U)(g=>this.sidebarElemenet?.clientHeight),(0,L.x)());(0,b.a)([n,a]);let s=0,c=0;(0,b.a)([i,n,a]).pipe((0,y.R)(this.destroy$)).subscribe(([[g,h,f],x,$])=>{const vt=s-g,W=x-$,yt=W>=60?60:Math.min(W,0),F=Math.max(Math.min(vt+c,60),yt);h<g?(f>h&&(s=g,c=F),this.sidebarStickyTop$.next(F)):h===g||(f<h&&(s=g,c=F),this.sidebarStickyTop$.next(F))}),this.eventShowFireGitwee$=(0,b.a)([this.localSession.loginStateChanged$,t,this.router.currentUrl$]).pipe((0,v.U)(([g,h,f])=>{if(!g)return!1;const[x,$]=this.extractGitweePath(f);return!($||"diary"!==h.gitweeNamespace||"Calendar"!==x)}),(0,L.x)(),(0,y.R)(this.destroy$))}ngOnDestroy(){(0,u.eM)("MainComponent.OnDestroy()"),this.dom.cleanupOverrideStyle(this.overrideStyleClass),this.destroy$.next()}ngAfterViewInit(){(0,u.eM)("MainComponent.AfterViewInit()")}activatedFireGitwee(){var t=this;return(0,P.Z)(function*(){yield t.doLazyLoadFireGitwee()})()}gitweeFireGitweeContainer;get sidebarElemenet(){return this.sideNavigator?.element.nativeElement}doLazyLoadFireGitwee(){var t=this;return(0,P.Z)(function*(){t.gitweeFireGitweeContainer.element.nativeElement.innerHTML="",t.gitweeFireGitweeContainer.clear();const{FireGitweeModule:n}=yield Promise.all([p.e(251),p.e(579),p.e(991)]).then(p.bind(p,991)),{FireGitweeComponent:i}=yield Promise.all([p.e(251),p.e(579),p.e(485)]).then(p.bind(p,3485));t.loader.appendComponent(t.gitweeFireGitweeContainer,n,i)})()}entriesSelected(t,n){(0,u.eM)("MainComponent.entriesSelected()",t,n),this.dom.setTitle(`Gitwee Blog: ${n.title}`),this.targetTimeline$.next(n),this.selectedNavigator&&this.selectedNavigator!==t&&(this.selectedNavigator.unselect(),this.selectedNavigator=null),this.selectedNavigator=t,this.router.replaceJustUrl(`${this.gitweeUrlPrefix}/${n.urlLink}`),this.isLoading&&setTimeout(()=>this.doUnmask(),3e3)}entriesNotFound(t){(0,u.eM)("MainComponent.entriesNotFound()",t),this.router.navigateByUrl(this.gitweeUrlPrefix)}doUnmask(){this.index.initialized(),this.isLoading=!1}static \u0275fac=function(n){return new(n||o)(e.Y36(Z.v),e.Y36(_.gz),e.Y36(R.Z),e.Y36(T),e.Y36(ce.j),e.Y36(ue.m))};static \u0275cmp=e.Xpm({type:o,selectors:[["ng-component"]],viewQuery:function(n,i){if(1&n&&(e.Gf(rt,5),e.Gf(st,5,e.s_b),e.Gf(lt,5,e.s_b)),2&n){let a;e.iGM(a=e.CRH())&&(i.tagNavi=a.first),e.iGM(a=e.CRH())&&(i.sideNavigator=a.first),e.iGM(a=e.CRH())&&(i.gitweeFireGitweeContainer=a.first)}},decls:18,vars:14,consts:[[1,"container-fluid"],["id","gitweeMainContainer",1,"row","flex-xl-nowrap"],["id","gitweeSidebarNavContainer",1,"col-12","col-md-4","col-xl-3","navbar-dark","rounded"],["type","button","data-bs-toggle","collapse","data-bs-target","#gitweeSidebarNavBody","aria-expanded","true","aria-label","Toggle docs navigation",1,"navbar-toggler","d-md-none","collapsed"],[1,"navbar-toggler-icon"],["id","gitweeSidebarNavBody",1,"collapse",2,"position","sticky"],["sideNavigator",""],[1,"m-1",3,"route$","urlPrefix","tagSelected","notFound"],["tagNavi",""],[1,"m-1",3,"route$","urlPrefix","nodeExpanded","notFound"],["calendarNavi",""],[1,"m-1"],["id","gitweeTimelineContainer",1,"col-12","col-md-8","col-xl-9"],["id","gitweeFireGitweeContainer",3,"appAfterIf",4,"ngIf"],[3,"naviEntries$"],["id","gitweeLoadingLogoMask",3,"click",4,"ngIf"],["id","gitweeFireGitweeContainer",3,"appAfterIf"],["gitweeFireGitweeContainer",""],["id","gitweeLoadingLogoMask",3,"click"],["id","gitweeLogoMask"],["xmlns","http://www.w3.org/2000/svg","width","45vw","height","45vw"],["id","gitweeSvgGradient1"],["offset","0%","stop-color","#31b271",1,"stop1"],["offset","50%","stop-color","#eb6ba4","stop-opacity","0.8",1,"stop2"],["offset","100%","stop-color","#1db8ee",1,"stop3"],["id","gitweeLoadingCircle","fill","none","transform-origin","center","stroke","url(#gitweeSvgGradient1)","stroke-width","1.5%","cx","50%","cy","50%","r","30%"],["attributeName","transform","attributeType","XML","keyTimes","0;1","calcMode","spline","keySplines","0.42 0.0 0.58 1.0","type","rotate","from","0","to","-2160","dur","3s","additive","replace","fill","freeze","repeatCount","indefinite"],["id","gitweeLogoText","x","28% 38% 43% 54% 65% 75% 86%","stroke","none","font-size","8vw","lengthAdjust","spacing","textLength","100%","text-anchor","middle","font-family","Verdana","y","55% 55% 55% 55% 55% 55%"],["id","gitwee-char1","fill","#eb6ba4",1,"gitwee-char"],["attributeType","XML","attributeName","dy","dur","3s","values","-15%; 0    ; -8% ; 0    ; -4% ; 0   ; -1.5% ; 0   ; 0","keyTimes","0 ; 0.03 ; 0.05 ; 0.07 ; 0.09; 0.12; 0.14; 0.16; 1","begin","1.0s;","repeatCount","indefinite"],["id","gitwee-char2","fill","#31b271",1,"gitwee-char"],["attributeType","XML","attributeName","dy","dur","3s","values","-15%; 0    ; -8% ; 0    ; -4% ; 0   ; -1.5% ; 0   ; 0","keyTimes","0 ; 0.03 ; 0.05 ; 0.07 ; 0.09; 0.12; 0.14; 0.16; 1","begin","1.8s;","repeatCount","indefinite"],["id","gitwee-char3","fill","#1db8ee",1,"gitwee-char"],["attributeType","XML","attributeName","dy","dur","3s","values","-15%; 0    ; -8% ; 0    ; -4% ; 0   ; -1.5% ; 0   ; 0","keyTimes","0 ; 0.03 ; 0.05 ; 0.07 ; 0.09; 0.12; 0.14; 0.16; 1","begin","2.6s;","repeatCount","indefinite"],["id","gitwee-char4","fill","#fff562",1,"gitwee-char"],["attributeType","XML","attributeName","dy","dur","3s","values","-15%; 0    ; -8% ; 0    ; -4% ; 0   ; -1.5% ; 0   ; 0","keyTimes","0 ; 0.03 ; 0.05 ; 0.07 ; 0.09; 0.12; 0.14; 0.16; 1","begin","1.4s;","repeatCount","indefinite"],["id","gitwee-char5","fill","#24b6b3",1,"gitwee-char"],["attributeType","XML","attributeName","dy","dur","3s","values","-15%; 0    ; -8% ; 0    ; -4% ; 0   ; -1.5% ; 0   ; 0","keyTimes","0 ; 0.03 ; 0.05 ; 0.07 ; 0.09; 0.12; 0.14; 0.16; 1","begin","2.2s;","repeatCount","indefinite"],["id","gitwee-char6","fill","#6357a3",1,"gitwee-char"],["attributeType","XML","attributeName","dy","dur","3s","values","-15%; 0    ; -8% ; 0    ; -4% ; 0   ; -1.5% ; 0   ; 0","keyTimes","0 ; 0.03 ; 0.05 ; 0.07 ; 0.09; 0.12; 0.14; 0.16; 1","begin","3.0s;","repeatCount","indefinite"]],template:function(n,i){if(1&n){const a=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e._UZ(4,"span",4),e.qZA(),e.TgZ(5,"div",5,6),e.ALo(7,"async"),e.TgZ(8,"gitwee-tag-navi",7,8),e.NdJ("tagSelected",function(s){e.CHM(a);const c=e.MAs(9);return e.KtG(i.entriesSelected(c,s))})("notFound",function(){e.CHM(a);const s=e.MAs(9);return e.KtG(i.entriesNotFound(s))}),e.qZA(),e.TgZ(10,"gitwee-calendar-navi",9,10),e.NdJ("nodeExpanded",function(s){e.CHM(a);const c=e.MAs(11);return e.KtG(i.entriesSelected(c,s))})("notFound",function(){e.CHM(a);const s=e.MAs(11);return e.KtG(i.entriesNotFound(s))}),e.qZA(),e._UZ(12,"app-external-banner",11),e.qZA()(),e.TgZ(13,"div",12),e.YNc(14,dt,2,0,"div",13),e.ALo(15,"async"),e._UZ(16,"gitwee-timeline",14),e.qZA()()(),e.YNc(17,ct,29,1,"div",15)}2&n&&(e.Q6J("@animationTrigger",void 0),e.xp6(5),e.Udp("top",e.lcZ(7,10,i.sidebarStickyTop$),"px"),e.xp6(3),e.Q6J("route$",i.gitweeRoute$)("urlPrefix",i.gitweeUrlPrefix),e.xp6(2),e.Q6J("route$",i.gitweeRoute$)("urlPrefix",i.gitweeUrlPrefix),e.xp6(4),e.Q6J("ngIf",e.lcZ(15,12,i.eventShowFireGitwee$)),e.xp6(2),e.Q6J("naviEntries$",i.targetTimeline$),e.xp6(1),e.Q6J("ngIf",i.isLoading))},dependencies:[m.O5,E.Y,Ae,ze,et,at,m.Ov],styles:["#gitweeMainContainer[_ngcontent-%COMP%]{flex-direction:row-reverse}@media (min-width: 768px){#gitweeSidebarNavBody[_ngcontent-%COMP%]{display:block}}@media not screen and (min-width: 768px){#gitweeSidebarNavContainer[_ngcontent-%COMP%]{background-color:#cfdee7}}#gitweeSidebarNavContainer[_ngcontent-%COMP%]{text-align:left;z-index:10}#gitweeLoadingLogoMask[_ngcontent-%COMP%]{left:0%;top:0%;position:fixed;background:#8b7355;opacity:.75;width:100%;height:100%;text-align:center;z-index:99999999}#gitweeLogoMask[_ngcontent-%COMP%]{top:20%;position:relative}"],data:{animation:[(0,d.X$)("animationTrigger",[(0,d.eR)(":enter",[(0,d.oB)({opacity:0}),(0,d.jt)("800ms ease-in-out",(0,d.oB)({opacity:1}))])]),(0,d.X$)("loadingTrigger",[(0,d.eR)(":enter",[(0,d.oB)({transform:"translateY(-100%)",opacity:0}),(0,d.jt)("800ms ease-in-out",(0,d.oB)({transform:"none",opacity:"*"}))]),(0,d.eR)(":leave",[(0,d.jt)("800ms ease-in-out",(0,d.oB)({transform:"translateY(-100%)",opacity:0}))])])]}})}return o})();const gt=[{path:"index.htm",redirectTo:""},{path:"jump/**",component:p(2979).w},{path:"",component:ut,children:[{path:"timeline",children:[{path:"index.htm",redirectTo:""}]},{path:"timeline/:year",children:[{path:"index.htm",redirectTo:""}]},{path:"timeline/:year/:month",children:[{path:"index.htm",redirectTo:""}]},{path:"timeline/:year/:month/:day",children:[{path:"index.htm",redirectTo:""}]},{path:"tag/:tagkey",children:[{path:"index.htm",redirectTo:""}]},{path:"**",redirectTo:""}]}];let ht=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=e.oAB({type:o});static \u0275inj=e.cJS({imports:[_.Bz.forChild(gt),_.Bz]})}return o})();var ft=p(5101),mt=p(4209);let xt=(()=>{class o{constructor(){(0,u.H_)("Dynamically loaded GitweeModule")}static \u0275fac=function(n){return new(n||o)};static \u0275mod=e.oAB({type:o});static \u0275inj=e.cJS({providers:[T],imports:[m.ez,ht,ft.R,mt.B]})}return o})()}}]);