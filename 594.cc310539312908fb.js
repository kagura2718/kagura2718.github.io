"use strict";(self.webpackChunkKaguraGithubPages=self.webpackChunkKaguraGithubPages||[]).push([[594],{1639(q,k,a){a.d(k,{EY:()=>v,fm:()=>N});var c=a(375),P=a(5547),B=a(9769),U=a(4572),m=a(7673),A=a(8141),p=a(5558),M=a(6354),I=a(9568),w=a(6697),j=a(9974),x=a(4360),G=a(3669),W=a(1584),Z=a(8750),r=a(9437),E=a(5312),H=a(6674),V=a(8018);const N=new c.nKC("USE_ASSET");let v=(()=>{class O{locale;assetPrefix;http;translate;SUPPORTED_LOCALES;PRIMARY_LOCALE;initializeTranslations$;constructor(d,h="app/",b,S){this.locale=d,this.assetPrefix=h,this.http=b,this.translate=S,(0,E.Oi)("LocalTranslationService.constructor",h,S),this.SUPPORTED_LOCALES=this.getSupportedLocales(),(0,E.rD)(`Supported locales are ${this.SUPPORTED_LOCALES}.`),this.PRIMARY_LOCALE=this.SUPPORTED_LOCALES[0];const F=`/assets/i18n/${h}`,g=this.SUPPORTED_LOCALES.map(f=>this.safeFetchJson(`${F}${f}.json`));this.initializeTranslations$=(0,U.z)(g).pipe((0,A.M)(f=>{for(let T=0;T<f.length;T++){const D=this.SUPPORTED_LOCALES[T],R=f[T];this.translate.setTranslation(D,R,!0),(0,E.Oi)("New translation data",D,R)}}),(0,p.n)(f=>this.translate.use(this.PRIMARY_LOCALE)),(0,M.T)(f=>{}),(0,I.t)(1)),this.initializeTranslations$.pipe((0,w.s)(1)).subscribe({next:f=>{},complete:()=>(0,E.rD)(`Initialize path:${F} translation finished.`),error:f=>(0,E.sJ)("Failed to initialize path:${requestPath} translation.",f)})}safeFetchJson(d){return this.http.fetchJson(d).pipe(function K(O=1/0){let C;C=O&&"object"==typeof O?O:{count:O};const{count:d=1/0,delay:h,resetOnSuccess:b=!1}=C;return d<=0?G.D:(0,j.N)((S,u)=>{let g,F=0;const f=()=>{let T=!1;g=S.subscribe((0,x._)(u,D=>{b&&(F=0),u.next(D)},void 0,D=>{if(F++<d){const R=()=>{g?(g.unsubscribe(),g=null,f()):T=!0};if(null!=h){const L="number"==typeof h?(0,W.O)(h):(0,Z.Tg)(h(D,F)),X=(0,x._)(u,()=>{X.unsubscribe(),R()},()=>{u.complete()});L.subscribe(X)}else R()}else u.error(D)})),T&&(g.unsubscribe(),g=null,f())};f()})}(2),(0,r.W)(h=>((0,E.sJ)(`Error while fetching ${d}`,h),(0,m.of)({}))))}get(d,h){return this.initializeTranslations$.pipe((0,p.n)(()=>this.translate.get(d,h)))}maybePush(d,h){d.includes(h)||d.push(h)}washLang(d){if(2===d.length)return d;const h=/^([a-zA-Z0-9]{2})/.exec(d);return h?h[1]:null}getSupportedLocales(){const d=[];for(const b of[navigator.language,...navigator.languages]){if(!b)continue;const S=this.washLang(b);S&&this.maybePush(d,S)}const h=(0,B.kF)(this.locale);return h&&this.maybePush(d,h.toLowerCase()),this.maybePush(d,"en"),d}static \u0275fac=function(h){return new(h||O)(c.KVO(P.xe9),c.KVO(N),c.KVO(H.kl),c.KVO(V.c$))};static \u0275prov=c.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},2594(q,k,a){a.d(k,{ToolsModule:()=>S});var c=a(9769),P=a(9417),B=a(5427),U=a(7281),m=a(3049),A=a(9787),p=a(8173),M=a(1413),I=a(7673),w=a(7786),j=a(5964),x=a(6354),G=a(6977),W=a(5558),Z=a(1033),K=a(8018),r=a(5547),E=a(1639),H=a(4715);function V(u,F){if(1&u&&(r.j41(0,"div",1)(1,"a",2)(2,"span",3),r.EFF(3,"TITLE_BACK_TO_TOOL_TOP"),r.k0s()()()),2&u){const g=r.XpG();r.R7$(),r.Y8G("routerLink",r.mNQ(g.toolsTopUrl))}}let N=(()=>{class u{router;translate;activatedRoute;dom;navigatorState;destroy$=new M.B;constructor(g,f,T,D){this.router=g,this.translate=f,this.activatedRoute=T,this.dom=D}isSubComponent$;toolsTopUrl="/Tools";ngOnDestroy(){this.destroy$.next()}getLeafRouteTitleOfActive(){let g=this.activatedRoute.firstChild;if(!g)return null;for(;g.firstChild;)g=g.firstChild;return g.snapshot.data.gitweeTitle?g.snapshot.data.gitweeTitle:null}ngOnInit(){const g=this.dom.getTitle(),f=(0,I.of)(this.router.url),T=this.router.events.pipe((0,j.p)(L=>L instanceof A.wF),(0,x.T)(L=>L.urlAfterRedirects));this.isSubComponent$=(0,w.h)(f,T).pipe((0,x.T)(L=>L!==this.toolsTopUrl));const D=this.router.events.pipe((0,j.p)(L=>L instanceof A.wF),(0,x.T)(L=>L));D.pipe((0,G.Q)(this.destroy$)).subscribe(L=>{this.navigatorState=L.urlAfterRedirects});const R=D.pipe((0,x.T)(L=>this.getLeafRouteTitleOfActive()));(0,w.h)((0,I.of)(this.getLeafRouteTitleOfActive()),R).pipe((0,W.n)(L=>L?this.translate.get(L):(0,I.of)(g)),(0,G.Q)(this.destroy$)).subscribe(L=>{this.dom.setTitle(L)})}static \u0275fac=function(f){return new(f||u)(r.rXU(A.Ix),r.rXU(E.EY),r.rXU(A.nX),r.rXU(H.K))};static \u0275cmp=r.VBU({type:u,selectors:[["app-tools-root"]],decls:5,vars:4,consts:[["class","p-3",4,"ngIf"],[1,"p-3"],[3,"routerLink"],["translate",""]],template:function(f,T){1&f&&(r.j41(0,"div"),r.nrm(1,"router-outlet"),r.k0s(),r.DNE(2,V,4,2,"div",0),r.nI1(3,"async"),r.nrm(4,"app-ad-fragment")),2&f&&(r.Y8G("@navigatorAnimation",T.navigatorState),r.R7$(2),r.Y8G("ngIf",r.bMT(3,2,T.isSubComponent$)))},dependencies:[c.MD,c.bT,m.iI,A.n3,m.Wk,Z.j,K.Mm,c.Jj],encapsulation:2,data:{animation:[(0,p.hZ)("navigatorAnimation",[(0,p.kY)("* => *",[(0,p.iF)({height:"1024px",position:"relative"}),(0,p.P)(":enter, :leave",[(0,p.iF)({position:"absolute",top:0,left:0,width:"100%"})],{optional:!0}),(0,p.P)(":leave",[(0,p.iF)({opacity:1})],{optional:!0}),(0,p.P)(":enter",[(0,p.iF)({transform:"translateY(10px)",opacity:0})],{optional:!0}),(0,p.P)(":leave",(0,p.MA)(),{optional:!0}),(0,p.Os)([(0,p.P)(":leave",[(0,p.i0)("200ms ease-in-out",(0,p.iF)({opacity:0}))],{optional:!0}),(0,p.P)(":enter",[(0,p.i0)("200ms 500ms ease-in-out",(0,p.iF)({transform:"none",opacity:1}))],{optional:!0})]),(0,p.P)(":enter",(0,p.MA)(),{optional:!0}),(0,p.iF)({height:"*"})])])]}})}return u})();var $=a(5312);function v(u,F){1&u&&(r.j41(0,"li",4)(1,"a",8)(2,"span",2),r.EFF(3,"TITLE_TOOL_ROADCAMERA_MAP"),r.k0s()()())}function O(u,F){1&u&&(r.j41(0,"li",4)(1,"a",9)(2,"span"),r.EFF(3,"\u5929\u5019\u30de\u30c3\u30d7"),r.k0s()()())}let C=(()=>{class u{translate;isProduction=$.cA.production;constructor(g){this.translate=g}ngOnInit(){}static \u0275fac=function(f){return new(f||u)(r.rXU(E.EY))};static \u0275cmp=r.VBU({type:u,selectors:[["app-tools-entrance"]],decls:18,vars:5,consts:[[1,"card","m-3"],[1,"card-header"],["translate",""],[1,"list-group","list-group-flush"],[1,"list-group-item"],["routerLink","/Road/index.htm"],["class","list-group-item",4,"ngIf"],["routerLink","/Tools/S2/map"],["routerLink","/Tools/Road/map"],["routerLink","/Tools/Forecast/map"]],template:function(f,T){1&f&&(r.j41(0,"h1"),r.EFF(1),r.nI1(2,"translate"),r.k0s(),r.j41(3,"div",0)(4,"div",1)(5,"span",2),r.EFF(6,"TITLE_TOOL_LIVELIHOOD"),r.k0s()(),r.j41(7,"ul",3)(8,"li",4)(9,"a",5)(10,"span",2),r.EFF(11,"TITLE_TOOL_ROAD_INFO"),r.k0s()()(),r.DNE(12,v,4,0,"li",6)(13,O,4,0,"li",6),r.j41(14,"li",4)(15,"a",7)(16,"span",2),r.EFF(17,"TITLE_TOOL_S2GEO_MAP"),r.k0s()()()()()),2&f&&(r.R7$(),r.JRh(r.bMT(2,3,"TITLE_TOOL_ENTRANCE")),r.R7$(11),r.Y8G("ngIf",!T.isProduction),r.R7$(),r.Y8G("ngIf",!T.isProduction))},dependencies:[c.MD,c.bT,m.Wk,K.Mm,K.D9],encapsulation:2})}return u})();var d=a(375);const h=[{path:"",component:N,data:{gitweeTitle:"TITLE_TOOL_ENTRANCE"},children:[{path:"index.htm",redirectTo:""},{path:"testings",redirectTo:"testings.htm"},{path:"raid",redirectTo:"pokemongo/raid.htm"},{path:"S2",loadChildren:()=>a.e(682).then(a.bind(a,5682)).then(u=>u.S2mapModule)},{path:"GrowUpSimulator",redirectTo:"pokemongo/GrowUpSimulator"},{path:"",component:C}]}];let b=(()=>{class u{static \u0275fac=function(f){return new(f||u)};static \u0275mod=r.$C({type:u});static \u0275inj=d.G2t({imports:[m.iI.forChild(h),m.iI]})}return u})(),S=(()=>{class u{constructor(){(0,$.rD)("Dynamically loaded ToolsModule")}static \u0275fac=function(f){return new(f||u)};static \u0275mod=r.$C({type:u});static \u0275inj=d.G2t({providers:[{provide:E.fm,useValue:"app/tools/tools/"}],imports:[c.MD,P.YN,b,B.j,U.$,K.h.forRoot({defaultLanguage:"en",useDefaultLang:!0}),C,N]})}return u})()},7281(q,k,a){a.d(k,{$:()=>p});var c=a(9769),P=a(5312),B=a(1639),U=a(8018),m=a(375),A=a(5547);let p=(()=>{class M{constructor(){(0,P.Oi)("ToolsSharedModule.constructor()")}static forRoot(){return{ngModule:M,providers:[]}}static forChild(){return{ngModule:M,providers:[]}}static \u0275fac=function(j){return new(j||M)};static \u0275mod=A.$C({type:M});static \u0275inj=m.G2t({providers:[B.EY],imports:[c.MD,U.h]})}return M})()},8018(q,k,a){a.d(k,{D9:()=>it,Mm:()=>rt,c$:()=>J,h:()=>ot});var c=a(375),P=a(5547),B=a(7705),U=a(1413),m=a(4402),A=a(8793),p=a(9030),M=a(7468),I=a(7673),w=a(274),j=a(6354),x=a(9568),G=a(5558),W=a(6697);class K{}let r=(()=>{class n{handle(t){return t.key}static \u0275fac=function(e){return new(e||n)};static \u0275prov=c.jDH({token:n,factory:n.\u0275fac})}return n})();class E{}let H=(()=>{class n extends E{compile(t,e){return t}compileTranslations(t,e){return t}static \u0275fac=(()=>{let t;return function(s){return(t||(t=P.xGo(n)))(s||n)}})();static \u0275prov=c.jDH({token:n,factory:n.\u0275fac})}return n})();class V{}let N=(()=>{class n extends V{getTranslation(t){return(0,I.of)({})}static \u0275fac=(()=>{let t;return function(s){return(t||(t=P.xGo(n)))(s||n)}})();static \u0275prov=c.jDH({token:n,factory:n.\u0275fac})}return n})();function $(n,l){if(n===l)return!0;if(null===n||null===l)return!1;if(n!=n&&l!=l)return!0;const t=typeof n;let s;if(t==typeof l&&"object"==t)if(Array.isArray(n)){if(!Array.isArray(l))return!1;if((s=n.length)==l.length){for(let o=0;o<s;o++)if(!$(n[o],l[o]))return!1;return!0}}else{if(Array.isArray(l))return!1;if(C(n)&&C(l)){const o=Object.create(null);for(const i in n){if(!$(n[i],l[i]))return!1;o[i]=!0}for(const i in l)if(!(i in o)&&typeof l[i]<"u")return!1;return!0}}return!1}function v(n){return typeof n<"u"&&null!==n}function O(n){return void 0!==n}function C(n){return d(n)&&!h(n)&&null!==n}function d(n){return"object"==typeof n&&null!==n}function h(n){return Array.isArray(n)}function b(n){return"string"==typeof n}function u(n){if(h(n))return n.map(l=>u(l));if(C(n)){const l={};return Object.keys(n).forEach(t=>{l[t]=u(n[t])}),l}return n}function F(n,l){if(!d(n))return u(l);const t=u(n);return d(t)&&d(l)&&Object.keys(l).forEach(e=>{C(l[e])?e in n?t[e]=F(n[e],l[e]):Object.assign(t,{[e]:l[e]}):Object.assign(t,{[e]:l[e]})}),t}function g(n,l){const t=l.split(".");l="";do{l+=t.shift();const e=!t.length;if(v(n)){if(C(n)&&O(n[l])&&(C(n[l])||h(n[l])||e)){n=n[l],l="";continue}if(h(n)){const s=parseInt(l,10);if(O(n[s])&&(C(n[s])||h(n[s])||e)){n=n[s],l="";continue}}}e?n=void 0:l+="."}while(t.length);return n}class R{}let L=(()=>{class n extends R{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(t,e){return b(t)?this.interpolateString(t,e):function S(n){return"function"==typeof n}(t)?this.interpolateFunction(t,e):void 0}interpolateFunction(t,e){return t(e)}interpolateString(t,e){return e?t.replace(this.templateMatcher,(s,o)=>{const i=this.getInterpolationReplacement(e,o);return void 0!==i?i:s}):t}getInterpolationReplacement(t,e){return this.formatValue(g(t,e))}formatValue(t){return b(t)?t:"number"==typeof t||"boolean"==typeof t?t.toString():null===t?"null":h(t)?t.join(", "):d(t)?"function"==typeof t.toString&&t.toString!==Object.prototype.toString?t.toString():JSON.stringify(t):void 0}static \u0275fac=(()=>{let t;return function(s){return(t||(t=P.xGo(n)))(s||n)}})();static \u0275prov=c.jDH({token:n,factory:n.\u0275fac})}return n})(),X=(()=>{class n{_onTranslationChange=new U.B;_onLangChange=new U.B;_onFallbackLangChange=new U.B;fallbackLang=null;currentLang;translations={};languages=[];getTranslations(t){return this.translations[t]}setTranslations(t,e,s){this.translations[t]=s&&this.hasTranslationFor(t)?F(this.translations[t],e):e,this.addLanguages([t]),this._onTranslationChange.next({lang:t,translations:this.getTranslations(t)})}getLanguages(){return this.languages}getCurrentLang(){return this.currentLang}getFallbackLang(){return this.fallbackLang}setFallbackLang(t,e=!0){this.fallbackLang=t,e&&this._onFallbackLangChange.next({lang:t,translations:this.translations[t]})}setCurrentLang(t,e=!0){this.currentLang=t,e&&this._onLangChange.next({lang:t,translations:this.translations[t]})}get onTranslationChange(){return this._onTranslationChange.asObservable()}get onLangChange(){return this._onLangChange.asObservable()}get onFallbackLangChange(){return this._onFallbackLangChange.asObservable()}addLanguages(t){this.languages=Array.from(new Set([...this.languages,...t]))}hasTranslationFor(t){return typeof this.translations[t]<"u"}deleteTranslations(t){delete this.translations[t]}getTranslation(t){let e=this.getValue(this.currentLang,t);return void 0===e&&null!=this.fallbackLang&&this.fallbackLang!==this.currentLang&&(e=this.getValue(this.fallbackLang,t)),e}getValue(t,e){return g(this.getTranslations(t),e)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=c.jDH({token:n,factory:n.\u0275fac})}return n})();const tt=new c.nKC("TRANSLATE_CONFIG"),Q=n=>(0,m.A)(n)?n:(0,I.of)(n);let J=(()=>{class n{loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;currentLoader=(0,c.WQX)(V);compiler=(0,c.WQX)(E);parser=(0,c.WQX)(R);missingTranslationHandler=(0,c.WQX)(K);store=(0,c.WQX)(X);extend=!1;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onFallbackLangChange(){return this.store.onFallbackLangChange}get onDefaultLangChange(){return this.store.onFallbackLangChange}constructor(){const t={extend:!1,fallbackLang:null,...(0,c.WQX)(tt,{optional:!0})};t.lang&&this.use(t.lang),t.fallbackLang&&this.setFallbackLang(t.fallbackLang),t.extend&&(this.extend=!0)}setFallbackLang(t){this.getFallbackLang()||this.store.setFallbackLang(t,!1);const e=this.loadOrExtendLanguage(t);return(0,m.A)(e)?(e.pipe((0,W.s)(1)).subscribe({next:()=>{this.store.setFallbackLang(t)},error:()=>{}}),e):(this.store.setFallbackLang(t),(0,I.of)(this.store.getTranslations(t)))}use(t){this.lastUseLanguage=t,this.getCurrentLang()||this.store.setCurrentLang(t,!1);const e=this.loadOrExtendLanguage(t);return(0,m.A)(e)?(e.pipe((0,W.s)(1)).subscribe({next:()=>{this.changeLang(t)},error:()=>{}}),e):(this.changeLang(t),(0,I.of)(this.store.getTranslations(t)))}loadOrExtendLanguage(t){if(!this.store.hasTranslationFor(t)||this.extend)return this._translationRequests[t]=this._translationRequests[t]||this.loadAndCompileTranslations(t),this._translationRequests[t]}changeLang(t){t===this.lastUseLanguage&&this.store.setCurrentLang(t)}getCurrentLang(){return this.store.getCurrentLang()}loadAndCompileTranslations(t){this.pending=!0;const e=this.currentLoader.getTranslation(t).pipe((0,x.t)(1),(0,W.s)(1));return this.loadingTranslations=e.pipe((0,j.T)(s=>this.compiler.compileTranslations(s,t)),(0,x.t)(1),(0,W.s)(1)),this.loadingTranslations.subscribe({next:s=>{this.store.setTranslations(t,s,this.extend),this.pending=!1},error:s=>{this.pending=!1}}),e}setTranslation(t,e,s=!1){const o=this.compiler.compileTranslations(e,t);this.store.setTranslations(t,o,s||this.extend)}getLangs(){return this.store.getLanguages()}addLangs(t){this.store.addLanguages(t)}getParsedResultForKey(t,e){const s=this.getTextToInterpolate(t);if(v(s))return this.runInterpolation(s,e);const o=this.missingTranslationHandler.handle({key:t,translateService:this,...void 0!==e&&{interpolateParams:e}});return void 0!==o?o:t}getFallbackLang(){return this.store.getFallbackLang()}getTextToInterpolate(t){return this.store.getTranslation(t)}runInterpolation(t,e){if(v(t))return h(t)?this.runInterpolationOnArray(t,e):C(t)?this.runInterpolationOnDict(t,e):this.parser.interpolate(t,e)}runInterpolationOnArray(t,e){return t.map(s=>this.runInterpolation(s,e))}runInterpolationOnDict(t,e){const s={};for(const o in t){const i=this.runInterpolation(t[o],e);void 0!==i&&(s[o]=i)}return s}getParsedResult(t,e){return t instanceof Array?this.getParsedResultForArray(t,e):this.getParsedResultForKey(t,e)}getParsedResultForArray(t,e){const s={};let o=!1;for(const y of t)s[y]=this.getParsedResultForKey(y,e),o=o||(0,m.A)(s[y]);if(!o)return s;const i=t.map(y=>Q(s[y]));return(0,M.p)(i).pipe((0,j.T)(y=>{const Y={};return y.forEach((z,lt)=>{Y[t[lt]]=z}),Y}))}get(t,e){if(!v(t)||!t.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe((0,w.H)(()=>Q(this.getParsedResult(t,e)))):Q(this.getParsedResult(t,e))}getStreamOnTranslationChange(t,e){if(!v(t)||!t.length)throw new Error('Parameter "key" is required and cannot be empty');return(0,A.x)((0,p.v)(()=>this.get(t,e)),this.onTranslationChange.pipe((0,G.n)(()=>{const s=this.getParsedResult(t,e);return Q(s)})))}stream(t,e){if(!v(t)||!t.length)throw new Error('Parameter "key" required');return(0,A.x)((0,p.v)(()=>this.get(t,e)),this.onLangChange.pipe((0,G.n)(()=>{const s=this.getParsedResult(t,e);return Q(s)})))}instant(t,e){if(!v(t)||0===t.length)throw new Error('Parameter "key" is required and cannot be empty');const s=this.getParsedResult(t,e);return(0,m.A)(s)?Array.isArray(t)?t.reduce((o,i)=>(o[i]=i,o),{}):t:s}set(t,e,s=this.getCurrentLang()){this.store.setTranslations(s,function T(n,l,t){return F(n,function D(n,l){return n.split(".").reduceRight((t,e)=>({[e]:t}),l)}(l,t))}(this.store.getTranslations(s),t,b(e)?this.compiler.compile(e,s):this.compiler.compileTranslations(e,s)),!1)}reloadLang(t){return this.resetLang(t),this.loadAndCompileTranslations(t)}resetLang(t){delete this._translationRequests[t],this.store.deleteTranslations(t)}static getBrowserLang(){if(typeof window>"u"||!window.navigator)return;const t=this.getBrowserCultureLang();return t?t.split(/[-_]/)[0]:void 0}static getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}getBrowserLang(){return n.getBrowserLang()}getBrowserCultureLang(){return n.getBrowserCultureLang()}get defaultLang(){return this.getFallbackLang()}get currentLang(){return this.store.getCurrentLang()}get langs(){return this.store.getLanguages()}setDefaultLang(t){return this.setFallbackLang(t)}getDefaultLang(){return this.getFallbackLang()}static \u0275fac=function(e){return new(e||n)};static \u0275prov=c.jDH({token:n,factory:n.\u0275fac})}return n})(),rt=(()=>{class n{translateService=(0,c.WQX)(J);element=(0,c.WQX)(P.aKT);_ref=(0,c.WQX)(B.gRc);key;lastParams;currentParams;onLangChangeSub;onFallbackLangChangeSub;onTranslationChangeSub;set translate(t){t&&(this.key=t,this.checkNodes())}set translateParams(t){$(this.currentParams,t)||(this.currentParams=t,this.checkNodes(!0))}constructor(){this.onTranslationChangeSub||(this.onTranslationChangeSub=this.translateService.onTranslationChange.subscribe(t=>{t.lang===this.translateService.currentLang&&this.checkNodes(!0,t.translations)})),this.onLangChangeSub||(this.onLangChangeSub=this.translateService.onLangChange.subscribe(t=>{this.checkNodes(!0,t.translations)})),this.onFallbackLangChangeSub||(this.onFallbackLangChangeSub=this.translateService.onFallbackLangChange.subscribe(t=>{this.checkNodes(!0)}))}ngAfterViewChecked(){this.checkNodes()}checkNodes(t=!1,e){let s=this.element.nativeElement.childNodes;s.length||(this.setContent(this.element.nativeElement,this.key),s=this.element.nativeElement.childNodes),s.forEach(o=>{const i=o;if(3===i.nodeType){let y;if(t&&(i.lastKey=null),v(i.lookupKey))y=i.lookupKey;else if(this.key)y=this.key;else{const Y=this.getContent(i),z=Y.trim();z.length&&(i.lookupKey=z,Y!==i.currentValue?(y=z,i.originalContent=Y||i.originalContent):i.originalContent&&(y=i.originalContent.trim()))}this.updateValue(y,i,e)}})}updateValue(t,e,s){if(t){if(e.lastKey===t&&this.lastParams===this.currentParams)return;this.lastParams=this.currentParams;const o=i=>{(i!==t||!e.lastKey)&&(e.lastKey=t),e.originalContent||(e.originalContent=this.getContent(e)),e.currentValue=b(i)?i:v(i)?JSON.stringify(i):e.originalContent||t,this.setContent(e,this.key?e.currentValue:e.originalContent.replace(t,e.currentValue)),this._ref.markForCheck()};if(v(s)){const i=this.translateService.getParsedResult(t,this.currentParams);(0,m.A)(i)?i.subscribe({next:o}):o(i)}else this.translateService.get(t,this.currentParams).subscribe(o)}}getContent(t){return v(t.textContent)?t.textContent:t.data}setContent(t,e){v(t.textContent)?t.textContent=e:t.data=e}ngOnDestroy(){this.onLangChangeSub&&this.onLangChangeSub.unsubscribe(),this.onFallbackLangChangeSub&&this.onFallbackLangChangeSub.unsubscribe(),this.onTranslationChangeSub&&this.onTranslationChangeSub.unsubscribe()}static \u0275fac=function(e){return new(e||n)};static \u0275dir=P.FsC({type:n,selectors:[["","translate",""],["","ngx-translate",""]],inputs:{translate:"translate",translateParams:"translateParams"}})}return n})(),it=(()=>{class n{translate=(0,c.WQX)(J);_ref=(0,c.WQX)(B.gRc);value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onFallbackLangChange;updateValue(t,e,s){const o=i=>{this.value=void 0!==i?i:t,this.lastKey=t,this._ref.markForCheck()};if(s){const i=this.translate.getParsedResult(t,e);(0,m.A)(i)?i.subscribe(o):o(i)}this.translate.get(t,e).subscribe(o)}transform(t,...e){if(!t||!t.length)return t;if($(t,this.lastKey)&&$(e,this.lastParams))return this.value;let s;if(v(e[0])&&e.length)if(b(e[0])&&e[0].length){const o=e[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{s=JSON.parse(o)}catch(i){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${e[0]}`)}}else C(e[0])&&(s=e[0]);return this.lastKey=t,this.lastParams=e,this.updateValue(t,s),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(o=>{(this.lastKey&&o.lang===this.translate.getCurrentLang()||o.lang===this.translate.getFallbackLang())&&(this.lastKey=null,this.updateValue(t,s,o.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(o=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,s,o.translations))})),this.onFallbackLangChange||(this.onFallbackLangChange=this.translate.onFallbackLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,s))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onFallbackLangChange<"u"&&(this.onFallbackLangChange.unsubscribe(),this.onFallbackLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(e){return new(e||n)};static \u0275pipe=P.EJ8({name:"translate",type:n,pure:!1});static \u0275prov=c.jDH({token:n,factory:n.\u0275fac})}return n})();function nt(n){return{provide:V,useClass:n}}function et(n){return{provide:E,useClass:n}}function st(n){return{provide:R,useClass:n}}function at(n){return{provide:K,useClass:n}}function _(n={},l){const t=[];return n.loader&&t.push(n.loader),n.compiler&&t.push(n.compiler),n.parser&&t.push(n.parser),n.missingTranslationHandler&&t.push(n.missingTranslationHandler),l&&t.push(X),(n.useDefaultLang||n.defaultLanguage)&&(console.warn("The `useDefaultLang` and `defaultLanguage` options are deprecated. Please use `fallbackLang` instead."),!0===n.useDefaultLang&&n.defaultLanguage&&(n.fallbackLang=n.defaultLanguage)),t.push({provide:tt,useValue:{fallbackLang:n.fallbackLang??null,lang:n.lang,extend:n.extend??!1}}),t.push({provide:J,useClass:J,deps:[X,V,E,R,K,tt]}),t}let ot=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[..._({compiler:et(H),parser:st(L),loader:nt(N),missingTranslationHandler:at(r),...t},!0)]}}static forChild(t={}){return{ngModule:n,providers:[..._(t,t.isolate??!1)]}}static \u0275fac=function(e){return new(e||n)};static \u0275mod=P.$C({type:n});static \u0275inj=c.G2t({})}return n})()}}]);