"use strict";(self.webpackChunkKaguraGithubPages=self.webpackChunkKaguraGithubPages||[]).push([[152],{4033:(Le,de,T)=>{T.d(de,{$:()=>Cs,A:()=>E,G:()=>Z,K:()=>qr,L:()=>_t,N:()=>Ye,P:()=>$o,R:()=>Wo,U:()=>K,V:()=>pn,W:()=>bs,X:()=>Ss,Y:()=>Rs,Z:()=>St,_:()=>kt,a:()=>Qn,a0:()=>ws,a1:()=>Lt,a2:()=>ii,a3:()=>si,a4:()=>Ds,a5:()=>Ls,a6:()=>Ms,a7:()=>xs,a8:()=>oi,a9:()=>Us,aA:()=>Wi,aB:()=>Y,aC:()=>_,aD:()=>Ai,aE:()=>S,aF:()=>oe,aG:()=>br,aH:()=>vi,aI:()=>ra,aJ:()=>ve,aN:()=>Pt,aQ:()=>gt,aa:()=>Fs,ab:()=>Vs,ac:()=>Ws,ad:()=>Bs,ae:()=>Hs,af:()=>js,ag:()=>zs,ah:()=>$s,ak:()=>qs,al:()=>Ys,am:()=>Js,ap:()=>ks,aq:()=>no,as:()=>so,at:()=>lo,au:()=>W,av:()=>yt,aw:()=>jt,ax:()=>U,ay:()=>wr,az:()=>Si,b:()=>li,c:()=>Zo,d:()=>Xo,e:()=>Qo,f:()=>ia,g:()=>ua,h:()=>oa,i:()=>_i,j:()=>la,k:()=>Oi,l:()=>Ko,m:()=>Va,p:()=>te,r:()=>jo,s:()=>Ho,u:()=>zo});var d=T(467),A=T(8742),h=T(1076),C=T(8041),ue=T(1635),Ie=T(1362);const te={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},E={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Z=function w(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},_e=function F(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Q=new h.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),b=new C.Vy("@firebase/auth");function H(n,...e){b.logLevel<=C.$b.ERROR&&b.error(`Auth (${A.SDK_VERSION}): ${n}`,...e)}function U(n,...e){throw y(n,...e)}function Y(n,...e){return y(n,...e)}function ae(n,e,t){const r=Object.assign(Object.assign({},_e()),{[e]:t});return new h.FA("auth","Firebase",r).create(e,{appName:n.name})}function z(n){return ae(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function O(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&U(n,"argument-error"),ae(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function y(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Q.create(n,...e)}function _(n,e,...t){if(!n)throw y(e,...t)}function D(n){const e="INTERNAL ASSERTION FAILED: "+n;throw H(e),new Error(e)}function W(n,e){n||D(e)}function $(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function me(){return"http:"===ie()||"https:"===ie()}function ie(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class L{constructor(e,t){this.shortDelay=e,this.longDelay=t,W(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,h.jZ)()||(0,h.lV)()}get(){return function fe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(me()||(0,h.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function N(n,e){W(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class G{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void D("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void D("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void D("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const se={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},re=new L(3e4,6e4);function x(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function q(n,e,t,r){return Se.apply(this,arguments)}function Se(){return(Se=(0,d.A)(function*(n,e,t,r,i={}){return Je(n,i,(0,d.A)(function*(){let a={},f={};r&&("GET"===e?f=r:a={body:JSON.stringify(r)});const m=(0,h.Am)(Object.assign({key:n.config.apiKey},f)).slice(1),I=yield n._getAdditionalHeaders();return I["Content-Type"]="application/json",n.languageCode&&(I["X-Firebase-Locale"]=n.languageCode),G.fetch()(Ve(n,n.config.apiHost,t,m),Object.assign({method:e,headers:I,referrerPolicy:"no-referrer"},a))}))})).apply(this,arguments)}function Je(n,e,t){return Re.apply(this,arguments)}function Re(){return(Re=(0,d.A)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},se),e);try{const i=new pe(n),a=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const f=yield a.json();if("needConfirmation"in f)throw ye(n,"account-exists-with-different-credential",f);if(a.ok&&!("errorMessage"in f))return f;{const m=a.ok?f.errorMessage:f.error.message,[I,P]=m.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===I)throw ye(n,"credential-already-in-use",f);if("EMAIL_EXISTS"===I)throw ye(n,"email-already-in-use",f);if("USER_DISABLED"===I)throw ye(n,"user-disabled",f);const M=r[I]||I.toLowerCase().replace(/[_\s]+/g,"-");if(P)throw ae(n,M,P);U(n,M)}}catch(i){if(i instanceof h.g)throw i;U(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Ee(n,e,t,r){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,d.A)(function*(n,e,t,r,i={}){const a=yield q(n,e,t,r,i);return"mfaPendingCredential"in a&&U(n,"multi-factor-auth-required",{_serverResponse:a}),a})).apply(this,arguments)}function Ve(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?N(n.config,i):`${n.config.apiScheme}://${i}`}function Ke(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Y(this.auth,"network-request-failed")),re.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ye(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Y(n,e,r);return i.customData._tokenResponse=t,i}function ce(n){return void 0!==n&&void 0!==n.getResponse}function Ze(n){return void 0!==n&&void 0!==n.enterprise}class rt{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ke(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function We(){return(We=(0,d.A)(function*(n){return(yield q(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Te(n,e){return Me.apply(this,arguments)}function Me(){return(Me=(0,d.A)(function*(n,e){return q(n,"GET","/v2/recaptchaConfig",x(n,e))})).apply(this,arguments)}function je(){return(je=(0,d.A)(function*(n,e){return q(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Ce(){return(Ce=(0,d.A)(function*(n,e){return q(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function ot(n,e){return ze.apply(this,arguments)}function ze(){return(ze=(0,d.A)(function*(n,e){return q(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function $e(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ge(){return(Ge=(0,d.A)(function*(n,e=!1){const t=(0,h.Ku)(n),r=yield t.getIdToken(e),i=Qe(r);_(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a="object"==typeof i.firebase?i.firebase:void 0,f=a?.sign_in_provider;return{claims:i,token:r,authTime:$e(xe(i.auth_time)),issuedAtTime:$e(xe(i.iat)),expirationTime:$e(xe(i.exp)),signInProvider:f||null,signInSecondFactor:a?.sign_in_second_factor||null}})).apply(this,arguments)}function xe(n){return 1e3*Number(n)}function Qe(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return H("JWT malformed, contained fewer than 3 sections"),null;try{const i=(0,h.u)(t);return i?JSON.parse(i):(H("Failed to decode base64 JWT payload"),null)}catch(i){return H("Caught error parsing JWT payload as JSON",i?.toString()),null}}function qe(n){const e=Qe(n);return _(e,"internal-error"),_(typeof e.exp<"u","internal-error"),_(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function le(n,e){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,d.A)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof h.g&&function Xe({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class pt{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,d.A)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,d.A)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class Pe{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$e(this.lastLoginAt),this.creationTime=$e(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Oe(n){return He.apply(this,arguments)}function He(){return(He=(0,d.A)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield le(n,ot(t,{idToken:r}));_(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const f=null!==(e=a.providerUserInfo)&&void 0!==e&&e.length?ct(a.providerUserInfo):[],m=function et(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,f),M=!!n.isAnonymous&&!(n.email&&a.passwordHash||m?.length),ee={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:m,metadata:new Pe(a.createdAt,a.lastLoginAt),isAnonymous:M};Object.assign(n,ee)})).apply(this,arguments)}function ut(){return(ut=(0,d.A)(function*(n){const e=(0,h.Ku)(n);yield Oe(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function ct(n){return n.map(e=>{var{providerId:t}=e,r=(0,ue.__rest)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function c(){return(c=(0,d.A)(function*(n,e){const t=yield Je(n,{},(0,d.A)(function*(){const r=(0,h.Am)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,f=Ve(n,i,"/v1/token",`key=${a}`),m=yield n._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",G.fetch()(f,{method:"POST",headers:m,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function o(){return(o=(0,d.A)(function*(n,e){return q(n,"POST","/v2/accounts:revokeToken",x(n,e))})).apply(this,arguments)}class u{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_(e.idToken,"internal-error"),_(typeof e.idToken<"u","internal-error"),_(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qe(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_(0!==e.length,"internal-error");const t=qe(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){var r=this;return(0,d.A)(function*(){return t||!r.accessToken||r.isExpired?(_(r.refreshToken,e,"user-token-expired"),r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null):r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,d.A)(function*(){const{accessToken:i,refreshToken:a,expiresIn:f}=yield function R(n,e){return c.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,a,Number(f))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,f=new u;return r&&(_("string"==typeof r,"internal-error",{appName:e}),f.refreshToken=r),i&&(_("string"==typeof i,"internal-error",{appName:e}),f.accessToken=i),a&&(_("number"==typeof a,"internal-error",{appName:e}),f.expirationTime=a),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new u,this.toJSON())}_performRefresh(){return D("not implemented")}}function s(n,e){_("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class p{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=(0,ue.__rest)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Pe(a.createdAt||void 0,a.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,d.A)(function*(){const r=yield le(t,t.stsTokenManager.getToken(t.auth,e));return _(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function we(n){return Ge.apply(this,arguments)}(this,e)}reload(){return function at(n){return ut.apply(this,arguments)}(this)}_assign(e){this!==e&&(_(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new p(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,d.A)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Oe(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,d.A)(function*(){if((0,A._isFirebaseServerApp)(e.auth.app))return Promise.reject(z(e.auth));const t=yield e.getIdToken();return yield le(e,function st(n,e){return je.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,f,m,I,P,M;const ee=null!==(r=t.displayName)&&void 0!==r?r:void 0,Ne=null!==(i=t.email)&&void 0!==i?i:void 0,lt=null!==(a=t.phoneNumber)&&void 0!==a?a:void 0,Kt=null!==(f=t.photoURL)&&void 0!==f?f:void 0,Li=null!==(m=t.tenantId)&&void 0!==m?m:void 0,Mr=null!==(I=t._redirectEventId)&&void 0!==I?I:void 0,Mi=null!==(P=t.createdAt)&&void 0!==P?P:void 0,xi=null!==(M=t.lastLoginAt)&&void 0!==M?M:void 0,{uid:xr,emailVerified:Ui,isAnonymous:Fi,providerData:Ur,stsTokenManager:Vi}=t;_(xr&&Vi,e,"internal-error");const Ga=u.fromJSON(this.name,Vi);_("string"==typeof xr,e,"internal-error"),s(ee,e.name),s(Ne,e.name),_("boolean"==typeof Ui,e,"internal-error"),_("boolean"==typeof Fi,e,"internal-error"),s(lt,e.name),s(Kt,e.name),s(Li,e.name),s(Mr,e.name),s(Mi,e.name),s(xi,e.name);const Fr=new p({uid:xr,auth:e,email:Ne,emailVerified:Ui,displayName:ee,isAnonymous:Fi,photoURL:Kt,phoneNumber:lt,tenantId:Li,stsTokenManager:Ga,createdAt:Mi,lastLoginAt:xi});return Ur&&Array.isArray(Ur)&&(Fr.providerData=Ur.map(qa=>Object.assign({},qa))),Mr&&(Fr._redirectEventId=Mr),Fr}static _fromIdTokenResponse(e,t,r=!1){return(0,d.A)(function*(){const i=new u;i.updateFromServerResponse(t);const a=new p({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Oe(a),a})()}static _fromGetAccountInfoResponse(e,t,r){return(0,d.A)(function*(){const i=t.users[0];_(void 0!==i.localId,"internal-error");const a=void 0!==i.providerUserInfo?ct(i.providerUserInfo):[],f=!(i.email&&i.passwordHash||a?.length),m=new u;m.updateFromIdToken(r);const I=new p({uid:i.localId,auth:e,stsTokenManager:m,isAnonymous:f}),P={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Pe(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||a?.length)};return Object.assign(I,P),I})()}}const g=new Map;function S(n){W(n instanceof Function,"Expected a class definition");let e=g.get(n);return e?(W(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,g.set(n,e),e)}const K=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.A)(function*(){return!0})()}_set(t,r){var i=this;return(0,d.A)(function*(){i.storage[t]=r})()}_get(t){var r=this;return(0,d.A)(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return(0,d.A)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function oe(n,e,t){return`firebase:${n}:${e}:${t}`}class B{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=oe(this.userKey,i.apiKey,a),this.fullPersistenceKey=oe("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,d.A)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?p._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,d.A)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,d.A)(function*(){if(!t.length)return new B(S(K),e,r);const i=(yield Promise.all(t.map(function(){var P=(0,d.A)(function*(M){if(yield M._isAvailable())return M});return function(M){return P.apply(this,arguments)}}()))).filter(P=>P);let a=i[0]||S(K);const f=oe(r,e.config.apiKey,e.name);let m=null;for(const P of t)try{const M=yield P._get(f);if(M){const ee=p._fromJSON(e,M);P!==a&&(m=ee),a=P;break}}catch{}const I=i.filter(P=>P._shouldAllowMigration);return a._shouldAllowMigration&&I.length?(a=I[0],m&&(yield a._set(f,m.toJSON())),yield Promise.all(t.map(function(){var P=(0,d.A)(function*(M){if(M!==a)try{yield M._remove(f)}catch{}});return function(M){return P.apply(this,arguments)}}())),new B(a,e,r)):new B(a,e,r)})()}}function ge(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Vr(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(X(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Wr(e))return"Blackberry";if(Br(e))return"Webos";if(ke(e))return"Safari";if((e.includes("chrome/")||It(e))&&!e.includes("edge/"))return"Chrome";if(jt(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function X(n=(0,h.ZQ)()){return/firefox\//i.test(n)}function ke(n=(0,h.ZQ)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function It(n=(0,h.ZQ)()){return/crios\//i.test(n)}function Vr(n=(0,h.ZQ)()){return/iemobile/i.test(n)}function jt(n=(0,h.ZQ)()){return/android/i.test(n)}function Wr(n=(0,h.ZQ)()){return/blackberry/i.test(n)}function Br(n=(0,h.ZQ)()){return/webos/i.test(n)}function yt(n=(0,h.ZQ)()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Wi(n=(0,h.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function Hr(n=(0,h.ZQ)()){return yt(n)||jt(n)||Br(n)||Wr(n)||/windows phone/i.test(n)||Vr(n)}function Kr(n,e=[]){let t;switch(n){case"Browser":t=ge((0,h.ZQ)());break;case"Worker":t=`${ge((0,h.ZQ)())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${A.SDK_VERSION}/${r}`}class ji{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((f,m)=>{try{f(e(a))}catch(I){m(I)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,d.A)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const a of r)try{a()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function zt(){return(zt=(0,d.A)(function*(n,e={}){return q(n,"GET","/v2/passwordPolicy",x(n,e))})).apply(this,arguments)}class Gi{constructor(e){var t,r,i,a;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=f.minPasswordLength)&&void 0!==t?t:6,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),void 0!==f.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),void 0!==f.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),void 0!==f.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),void 0!==f.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=e.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,f,m;const I={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,I),this.validatePasswordCharacterOptions(e,I),I.isValid&&(I.isValid=null===(t=I.meetsMinPasswordLength)||void 0===t||t),I.isValid&&(I.isValid=null===(r=I.meetsMaxPasswordLength)||void 0===r||r),I.isValid&&(I.isValid=null===(i=I.containsLowercaseLetter)||void 0===i||i),I.isValid&&(I.isValid=null===(a=I.containsUppercaseLetter)||void 0===a||a),I.isValid&&(I.isValid=null===(f=I.containsNumericCharacter)||void 0===f||f),I.isValid&&(I.isValid=null===(m=I.containsNonAlphanumericCharacter)||void 0===m||m),I}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class qi{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jr(this),this.idTokenSubscription=new jr(this),this.beforeStateQueue=new ji(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Q,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=S(t)),this._initializationPromise=this.queue((0,d.A)(function*(){var i,a;if(!r._deleted&&(r.persistenceManager=yield B.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(a=r.currentUser)||void 0===a?void 0:a.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,d.A)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUserFromIdToken(e){var t=this;return(0,d.A)(function*(){try{const r=yield ot(t,{idToken:e}),i=yield p._fromGetAccountInfoResponse(t,r,e);yield t.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield t.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var t=this;return(0,d.A)(function*(){var r;if((0,A._isFirebaseServerApp)(t.app)){const m=t.app.settings.authIdToken;return m?new Promise(I=>{setTimeout(()=>t.initializeCurrentUserFromIdToken(m).then(I,I))}):t.directlySetCurrentUser(null)}const i=yield t.assertedPersistence.getCurrentUser();let a=i,f=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const m=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,I=a?._redirectEventId,P=yield t.tryRedirectSignIn(e);(!m||m===I)&&P?.user&&(a=P.user,f=!0)}if(!a)return t.directlySetCurrentUser(null);if(!a._redirectEventId){if(f)try{yield t.beforeStateQueue.runMiddleware(a)}catch(m){a=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(m))}return a?t.reloadAndSetCurrentUserOrClear(a):t.directlySetCurrentUser(null)}return _(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===a._redirectEventId?t.directlySetCurrentUser(a):t.reloadAndSetCurrentUserOrClear(a)})()}tryRedirectSignIn(e){var t=this;return(0,d.A)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,d.A)(function*(){try{yield Oe(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function k(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,d.A)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,d.A)(function*(){if((0,A._isFirebaseServerApp)(t.app))return Promise.reject(z(t));const r=e?(0,h.Ku)(e):null;return r&&_(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,d.A)(function*(){if(!r._deleted)return e&&_(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,d.A)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,d.A)(function*(){return(0,A._isFirebaseServerApp)(e.app)?Promise.reject(z(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var t=this;return(0,A._isFirebaseServerApp)(this.app)?Promise.reject(z(this)):this.queue((0,d.A)(function*(){yield t.assertedPersistence.setPersistence(S(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return(0,d.A)(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,d.A)(function*(){const t=yield function zi(n){return zt.apply(this,arguments)}(e),r=new Gi(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new h.FA("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return(0,d.A)(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function l(n,e){return o.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,d.A)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,d.A)(function*(){if(!t.redirectPersistenceManager){const r=e&&S(e)||t._popupRedirectResolver;_(r,t,"argument-error"),t.redirectPersistenceManager=yield B.create(t,[S(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,d.A)(function*(){var r,i;return t._isInitialized&&(yield t.queue((0,d.A)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,d.A)(function*(){if(e===t.currentUser)return t.queue((0,d.A)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a="function"==typeof t?t:t.next.bind(t);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_(m,this,"internal-error"),m.then(()=>{f||a(this.currentUser)}),"function"==typeof t){const I=e.addObserver(t,r,i);return()=>{f=!0,I()}}{const I=e.addObserver(t);return()=>{f=!0,I()}}}directlySetCurrentUser(e){var t=this;return(0,d.A)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Kr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,d.A)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const a=yield e._getAppCheckToken();return a&&(r["X-Firebase-AppCheck"]=a),r})()}_getAppCheckToken(){var e=this;return(0,d.A)(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function J(n,...e){b.logLevel<=C.$b.WARN&&b.warn(`Auth (${A.SDK_VERSION}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function ve(n){return(0,h.Ku)(n)}class jr{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,h.tD)(t=>this.observer=t)}get next(){return _(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Et={loadJS:()=>(0,d.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $t(n){return Et.loadJS(n)}function zr(n){return`__${n}${Math.floor(1e6*Math.random())}`}class $r{constructor(e){this.type="recaptcha-enterprise",this.auth=ve(e)}verify(e="verify",t=!1){var r=this;return(0,d.A)(function*(){function a(){return a=(0,d.A)(function*(m){if(!t){if(null==m.tenantId&&null!=m._agentRecaptchaConfig)return m._agentRecaptchaConfig.siteKey;if(null!=m.tenantId&&void 0!==m._tenantRecaptchaConfigs[m.tenantId])return m._tenantRecaptchaConfigs[m.tenantId].siteKey}return new Promise(function(){var I=(0,d.A)(function*(P,M){Te(m,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ee=>{if(void 0!==ee.recaptchaKey){const Ne=new rt(ee);return null==m.tenantId?m._agentRecaptchaConfig=Ne:m._tenantRecaptchaConfigs[m.tenantId]=Ne,P(Ne.siteKey)}M(new Error("recaptcha Enterprise site key undefined"))}).catch(ee=>{M(ee)})});return function(P,M){return I.apply(this,arguments)}}())}),a.apply(this,arguments)}function f(m,I,P){const M=window.grecaptcha;Ze(M)?M.enterprise.ready(()=>{M.enterprise.execute(m,{action:e}).then(ee=>{I(ee)}).catch(()=>{I("NO_RECAPTCHA")})}):P(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((m,I)=>{(function i(m){return a.apply(this,arguments)})(r.auth).then(P=>{if(!t&&Ze(window.grecaptcha))f(P,m,I);else{if(typeof window>"u")return void I(new Error("RecaptchaVerifier is only supported in browser"));let M=function Zi(){return Et.recaptchaEnterpriseScript}();0!==M.length&&(M+=P),$t(M).then(()=>{f(P,m,I)}).catch(ee=>{I(ee)})}}).catch(P=>{I(P)})})})()}}function Gr(n,e,t){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,d.A)(function*(n,e,t,r=!1){const i=new $r(n);let a;try{a=yield i.verify(t)}catch{a=yield i.verify(t,!0)}const f=Object.assign({},e);return Object.assign(f,r?{captchaResp:a}:{captchaResponse:a}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f})).apply(this,arguments)}function At(n,e,t,r){return qt.apply(this,arguments)}function qt(){return qt=(0,d.A)(function*(n,e,t,r){var i;if(null!==(i=n._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=yield Gr(n,e,t,"getOobCode"===t);return r(n,a)}return r(n,e).catch(function(){var a=(0,d.A)(function*(f){if("auth/missing-recaptcha-token"===f.code){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=yield Gr(n,e,t,"getOobCode"===t);return r(n,m)}return Promise.reject(f)});return function(f){return a.apply(this,arguments)}}())}),qt.apply(this,arguments)}function qr(n,e,t){const r=ve(n);_(r._canInitEmulator,r,"emulator-config-failed"),_(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,a=Yr(e),{host:f,port:m}=function is(n){const e=Yr(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:Jr(r.substr(a.length+1))}}{const[a,f]=r.split(":");return{host:a,port:Jr(f)}}}(e);r.config.emulator={url:`${a}//${f}${null===m?"":`:${m}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:f,port:m,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function ss(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}function Yr(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Jr(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class _t{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return D("not implemented")}_getIdTokenResponse(e){return D("not implemented")}_linkToIdToken(e,t){return D("not implemented")}_getReauthenticationResolver(e){return D("not implemented")}}function Zr(n,e){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,d.A)(function*(n,e){return q(n,"POST","/v1/accounts:resetPassword",x(n,e))})).apply(this,arguments)}function Zt(){return(Zt=(0,d.A)(function*(n,e){return q(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function as(n,e){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,d.A)(function*(n,e){return q(n,"POST","/v1/accounts:signUp",e)})).apply(this,arguments)}function Xt(){return(Xt=(0,d.A)(function*(n,e){return q(n,"POST","/v1/accounts:update",x(n,e))})).apply(this,arguments)}function cs(n,e){return en.apply(this,arguments)}function en(){return(en=(0,d.A)(function*(n,e){return Ee(n,"POST","/v1/accounts:signInWithPassword",x(n,e))})).apply(this,arguments)}function wt(n,e){return tn.apply(this,arguments)}function tn(){return(tn=(0,d.A)(function*(n,e){return q(n,"POST","/v1/accounts:sendOobCode",x(n,e))})).apply(this,arguments)}function nn(){return(nn=(0,d.A)(function*(n,e){return wt(n,e)})).apply(this,arguments)}function ds(n,e){return rn.apply(this,arguments)}function rn(){return(rn=(0,d.A)(function*(n,e){return wt(n,e)})).apply(this,arguments)}function hs(n,e){return sn.apply(this,arguments)}function sn(){return(sn=(0,d.A)(function*(n,e){return wt(n,e)})).apply(this,arguments)}function on(){return(on=(0,d.A)(function*(n,e){return wt(n,e)})).apply(this,arguments)}function an(){return(an=(0,d.A)(function*(n,e){return Ee(n,"POST","/v1/accounts:signInWithEmailLink",x(n,e))})).apply(this,arguments)}function un(){return(un=(0,d.A)(function*(n,e){return Ee(n,"POST","/v1/accounts:signInWithEmailLink",x(n,e))})).apply(this,arguments)}class Tt extends _t{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Tt(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Tt(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,d.A)(function*(){switch(t.signInMethod){case"password":return At(e,{returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",cs);case"emailLink":return function ps(n,e){return an.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:U(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return(0,d.A)(function*(){switch(r.signInMethod){case"password":return At(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",as);case"emailLink":return function _s(n,e){return un.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:U(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function tt(n,e){return cn.apply(this,arguments)}function cn(){return(cn=(0,d.A)(function*(n,e){return Ee(n,"POST","/v1/accounts:signInWithIdp",x(n,e))})).apply(this,arguments)}class Ye extends _t{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ye(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):U("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=(0,ue.__rest)(t,["providerId","signInMethod"]);if(!r||!i)return null;const f=new Ye(r,i);return f.idToken=a.idToken||void 0,f.accessToken=a.accessToken||void 0,f.secret=a.secret,f.nonce=a.nonce,f.pendingToken=a.pendingToken||null,f}_getIdTokenResponse(e){return tt(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,tt(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,tt(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,h.Am)(t)}return e}}function ln(){return(ln=(0,d.A)(function*(n,e){return q(n,"POST","/v1/accounts:sendVerificationCode",x(n,e))})).apply(this,arguments)}function dn(){return(dn=(0,d.A)(function*(n,e){return Ee(n,"POST","/v1/accounts:signInWithPhoneNumber",x(n,e))})).apply(this,arguments)}function hn(){return(hn=(0,d.A)(function*(n,e){const t=yield Ee(n,"POST","/v1/accounts:signInWithPhoneNumber",x(n,e));if(t.temporaryProof)throw ye(n,"account-exists-with-different-credential",t);return t})).apply(this,arguments)}const ys={USER_NOT_FOUND:"user-not-found"};function fn(){return(fn=(0,d.A)(function*(n,e){return Ee(n,"POST","/v1/accounts:signInWithPhoneNumber",x(n,Object.assign(Object.assign({},e),{operation:"REAUTH"})),ys)})).apply(this,arguments)}class dt extends _t{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new dt({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new dt({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function vs(n,e){return dn.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function Is(n,e){return hn.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function Es(n,e){return fn.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:a}=e;return r||t||i||a?new dt({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:a}):null}}class bt{constructor(e){var t,r,i,a,f,m;const I=(0,h.I9)((0,h.hp)(e)),P=null!==(t=I.apiKey)&&void 0!==t?t:null,M=null!==(r=I.oobCode)&&void 0!==r?r:null,ee=function As(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=I.mode)&&void 0!==i?i:null);_(P&&M&&ee,"argument-error"),this.apiKey=P,this.operation=ee,this.code=M,this.continueUrl=null!==(a=I.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(f=I.languageCode)&&void 0!==f?f:null,this.tenantId=null!==(m=I.tenantId)&&void 0!==m?m:null}static parseLink(e){const t=function Ts(n){const e=(0,h.I9)((0,h.hp)(n)).link,t=e?(0,h.I9)((0,h.hp)(e)).deep_link_id:null,r=(0,h.I9)((0,h.hp)(n)).deep_link_id;return(r?(0,h.I9)((0,h.hp)(r)).link:null)||r||t||e||n}(e);try{return new bt(t)}catch{return null}}}let pn=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Tt._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=bt.parseLink(r);return _(i,"argument-error"),Tt._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class nt{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class mt extends nt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class St extends mt{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return _("providerId"in t&&"signInMethod"in t,"argument-error"),Ye._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return _(e.idToken||e.accessToken,"argument-error"),Ye._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return St.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return St.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:a,nonce:f,providerId:m}=e;if(!r&&!i&&!t&&!a||!m)return null;try{return new St(m)._credential({idToken:t,accessToken:r,nonce:f,pendingToken:a})}catch{return null}}}let bs=(()=>{class n extends mt{constructor(){super("facebook.com")}static credential(t){return Ye._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.FACEBOOK_SIGN_IN_METHOD="facebook.com",n.PROVIDER_ID="facebook.com",n})(),Ss=(()=>{class n extends mt{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Ye._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})(),Rs=(()=>{class n extends mt{constructor(){super("github.com")}static credential(t){return Ye._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.GITHUB_SIGN_IN_METHOD="github.com",n.PROVIDER_ID="github.com",n})();class gt extends _t{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return tt(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,tt(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,tt(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:a}=t;return r&&i&&a&&r===i?new gt(r,a):null}static _create(e,t){return new gt(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class kt extends nt{constructor(e){_(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return kt.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return kt.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=gt.fromJSON(e);return _(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return gt._create(r,t)}catch{return null}}}let Cs=(()=>{class n extends mt{constructor(){super("twitter.com")}static credential(t,r){return Ye._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:i}=t;if(!r||!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.TWITTER_SIGN_IN_METHOD="twitter.com",n.PROVIDER_ID="twitter.com",n})();function Qr(n,e){return _n.apply(this,arguments)}function _n(){return(_n=(0,d.A)(function*(n,e){return Ee(n,"POST","/v1/accounts:signUp",x(n,e))})).apply(this,arguments)}class Fe{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return(0,d.A)(function*(){const a=yield p._fromIdTokenResponse(e,r,i),f=Xr(r);return new Fe({user:a,providerId:f,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return(0,d.A)(function*(){yield e._updateTokensIfNecessary(r,!0);const i=Xr(r);return new Fe({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function Xr(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function ws(n){return mn.apply(this,arguments)}function mn(){return(mn=(0,d.A)(function*(n){var e;if((0,A._isFirebaseServerApp)(n.app))return Promise.reject(z(n));const t=ve(n);if(yield t._initializationPromise,null!==(e=t.currentUser)&&void 0!==e&&e.isAnonymous)return new Fe({user:t.currentUser,providerId:null,operationType:"signIn"});const r=yield Qr(t,{returnSecureToken:!0}),i=yield Fe._fromIdTokenResponse(t,"signIn",r,!0);return yield t._updateCurrentUser(i.user),i})).apply(this,arguments)}class Nt extends h.g{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Nt.prototype),this.customData={appName:e.name,tenantId:null!==(a=e.tenantId)&&void 0!==a?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Nt(e,t,r,i)}}function ei(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw"auth/multi-factor-auth-required"===a.code?Nt._fromErrorAndOperation(n,a,e,r):a})}function ti(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}function ks(n,e){return gn.apply(this,arguments)}function gn(){return gn=(0,d.A)(function*(n,e){const t=(0,h.Ku)(n);yield Dt(!0,t,e);const{providerUserInfo:r}=yield function Be(n,e){return Ce.apply(this,arguments)}(t.auth,{idToken:yield t.getIdToken(),deleteProvider:[e]}),i=ti(r||[]);return t.providerData=t.providerData.filter(a=>i.has(a.providerId)),i.has("phone")||(t.phoneNumber=null),yield t.auth._persistUserIfCurrent(t),t}),gn.apply(this,arguments)}function vn(n,e){return In.apply(this,arguments)}function In(){return(In=(0,d.A)(function*(n,e,t=!1){const r=yield le(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Fe._forOperation(n,"link",r)})).apply(this,arguments)}function Dt(n,e,t){return yn.apply(this,arguments)}function yn(){return(yn=(0,d.A)(function*(n,e,t){yield Oe(e);const i=!1===n?"provider-already-linked":"no-such-provider";_(ti(e.providerData).has(t)===n,e.auth,i)})).apply(this,arguments)}function ni(n,e){return En.apply(this,arguments)}function En(){return(En=(0,d.A)(function*(n,e,t=!1){const{auth:r}=n;if((0,A._isFirebaseServerApp)(r.app))return Promise.reject(z(r));const i="reauthenticate";try{const a=yield le(n,ei(r,i,e,n),t);_(a.idToken,r,"internal-error");const f=Qe(a.idToken);_(f,r,"internal-error");const{sub:m}=f;return _(n.uid===m,r,"user-mismatch"),Fe._forOperation(n,i,a)}catch(a){throw"auth/user-not-found"===a?.code&&U(r,"user-mismatch"),a}})).apply(this,arguments)}function ri(n,e){return An.apply(this,arguments)}function An(){return(An=(0,d.A)(function*(n,e,t=!1){if((0,A._isFirebaseServerApp)(n.app))return Promise.reject(z(n));const r="signIn",i=yield ei(n,r,e),a=yield Fe._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(a.user)),a})).apply(this,arguments)}function Lt(n,e){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,d.A)(function*(n,e){return ri(ve(n),e)})).apply(this,arguments)}function ii(n,e){return bn.apply(this,arguments)}function bn(){return(bn=(0,d.A)(function*(n,e){const t=(0,h.Ku)(n);return yield Dt(!1,t,e.providerId),vn(t,e)})).apply(this,arguments)}function si(n,e){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,d.A)(function*(n,e){return ni((0,h.Ku)(n),e)})).apply(this,arguments)}function Rn(){return(Rn=(0,d.A)(function*(n,e){return Ee(n,"POST","/v1/accounts:signInWithCustomToken",x(n,e))})).apply(this,arguments)}function Ds(n,e){return Pn.apply(this,arguments)}function Pn(){return Pn=(0,d.A)(function*(n,e){if((0,A._isFirebaseServerApp)(n.app))return Promise.reject(z(n));const t=ve(n),r=yield function Ns(n,e){return Rn.apply(this,arguments)}(t,{token:e,returnSecureToken:!0}),i=yield Fe._fromIdTokenResponse(t,"signIn",r);return yield t._updateCurrentUser(i.user),i}),Pn.apply(this,arguments)}class Rt{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?On._fromServerResponse(e,t):"totpInfo"in t?Cn._fromServerResponse(e,t):U(e,"internal-error")}}class On extends Rt{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new On(t)}}class Cn extends Rt{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Cn(t)}}function Mt(n,e,t){var r;_((null===(r=t.url)||void 0===r?void 0:r.length)>0,n,"invalid-continue-uri"),_(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(_(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(_(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function wn(n){return kn.apply(this,arguments)}function kn(){return(kn=(0,d.A)(function*(n){const e=ve(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function Ls(n,e,t){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,d.A)(function*(n,e,t){const r=ve(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Mt(r,i,t),yield At(r,i,"getOobCode",ds)})).apply(this,arguments)}function Ms(n,e,t){return Dn.apply(this,arguments)}function Dn(){return Dn=(0,d.A)(function*(n,e,t){yield Zr((0,h.Ku)(n),{oobCode:e,newPassword:t}).catch(function(){var r=(0,d.A)(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&wn(n),i});return function(i){return r.apply(this,arguments)}}())}),Dn.apply(this,arguments)}function xs(n,e){return Ln.apply(this,arguments)}function Ln(){return Ln=(0,d.A)(function*(n,e){yield function us(n,e){return Xt.apply(this,arguments)}((0,h.Ku)(n),{oobCode:e})}),Ln.apply(this,arguments)}function oi(n,e){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,d.A)(function*(n,e){const t=(0,h.Ku)(n),r=yield Zr(t,{oobCode:e}),i=r.requestType;switch(_(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":_(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":_(r.mfaInfo,t,"internal-error");default:_(r.email,t,"internal-error")}let a=null;return r.mfaInfo&&(a=Rt._fromServerResponse(ve(t),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:a},operation:i}})).apply(this,arguments)}function Us(n,e){return xn.apply(this,arguments)}function xn(){return(xn=(0,d.A)(function*(n,e){const{data:t}=yield oi((0,h.Ku)(n),e);return t.email})).apply(this,arguments)}function Fs(n,e,t){return Un.apply(this,arguments)}function Un(){return(Un=(0,d.A)(function*(n,e,t){if((0,A._isFirebaseServerApp)(n.app))return Promise.reject(z(n));const r=ve(n),f=yield At(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qr).catch(I=>{throw"auth/password-does-not-meet-requirements"===I.code&&wn(n),I}),m=yield Fe._fromIdTokenResponse(r,"signIn",f);return yield r._updateCurrentUser(m.user),m})).apply(this,arguments)}function Vs(n,e,t){return(0,A._isFirebaseServerApp)(n.app)?Promise.reject(z(n)):Lt((0,h.Ku)(n),pn.credential(e,t)).catch(function(){var r=(0,d.A)(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&wn(n),i});return function(i){return r.apply(this,arguments)}}())}function Ws(n,e,t){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,d.A)(function*(n,e,t){const r=ve(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};(function a(f,m){_(m.handleCodeInApp,r,"argument-error"),m&&Mt(r,f,m)})(i,t),yield At(r,i,"getOobCode",hs)})).apply(this,arguments)}function Bs(n,e){const t=bt.parseLink(e);return"EMAIL_SIGNIN"===t?.operation}function Hs(n,e,t){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,d.A)(function*(n,e,t){if((0,A._isFirebaseServerApp)(n.app))return Promise.reject(z(n));const r=(0,h.Ku)(n),i=pn.credentialWithLink(e,t||$());return _(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Lt(r,i)})).apply(this,arguments)}function Wn(){return(Wn=(0,d.A)(function*(n,e){return q(n,"POST","/v1/accounts:createAuthUri",x(n,e))})).apply(this,arguments)}function js(n,e){return Bn.apply(this,arguments)}function Bn(){return Bn=(0,d.A)(function*(n,e){const r={identifier:e,continueUri:me()?$():"http://localhost"},{signinMethods:i}=yield function Ks(n,e){return Wn.apply(this,arguments)}((0,h.Ku)(n),r);return i||[]}),Bn.apply(this,arguments)}function zs(n,e){return Hn.apply(this,arguments)}function Hn(){return Hn=(0,d.A)(function*(n,e){const t=(0,h.Ku)(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&Mt(t.auth,i,e);const{email:a}=yield function ls(n,e){return nn.apply(this,arguments)}(t.auth,i);a!==n.email&&(yield n.reload())}),Hn.apply(this,arguments)}function $s(n,e,t){return Kn.apply(this,arguments)}function Kn(){return Kn=(0,d.A)(function*(n,e,t){const r=(0,h.Ku)(n),a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield n.getIdToken(),newEmail:e};t&&Mt(r.auth,a,t);const{email:f}=yield function fs(n,e){return on.apply(this,arguments)}(r.auth,a);f!==n.email&&(yield n.reload())}),Kn.apply(this,arguments)}function jn(){return(jn=(0,d.A)(function*(n,e){return q(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function qs(n,e){return zn.apply(this,arguments)}function zn(){return zn=(0,d.A)(function*(n,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const r=(0,h.Ku)(n),a={idToken:yield r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},f=yield le(r,function Gs(n,e){return jn.apply(this,arguments)}(r.auth,a));r.displayName=f.displayName||null,r.photoURL=f.photoUrl||null;const m=r.providerData.find(({providerId:I})=>"password"===I);m&&(m.displayName=r.displayName,m.photoURL=r.photoURL),yield r._updateTokensIfNecessary(f)}),zn.apply(this,arguments)}function Ys(n,e){const t=(0,h.Ku)(n);return(0,A._isFirebaseServerApp)(t.auth.app)?Promise.reject(z(t.auth)):ai(t,e,null)}function Js(n,e){return ai((0,h.Ku)(n),null,e)}function ai(n,e,t){return $n.apply(this,arguments)}function $n(){return $n=(0,d.A)(function*(n,e,t){const{auth:r}=n,a={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(a.email=e),t&&(a.password=t);const f=yield le(n,function os(n,e){return Zt.apply(this,arguments)}(r,a));yield n._updateTokensIfNecessary(f,!0)}),$n.apply(this,arguments)}class vt{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class ui extends vt{constructor(e,t,r,i){super(e,t,r),this.username=i}}class Qs extends vt{constructor(e,t){super(e,"facebook.com",t)}}class Xs extends ui{constructor(e,t){super(e,"github.com",t,"string"==typeof t?.login?t?.login:null)}}class eo extends vt{constructor(e,t){super(e,"google.com",t)}}class to extends ui{constructor(e,t,r){super(e,"twitter.com",t,r)}}function no(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:function Zs(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},a=n.isNewUser||"identitytoolkit#SignupNewUserResponse"===n.kind;if(!r&&n?.idToken){const f=null===(t=null===(e=Qe(n.idToken))||void 0===e?void 0:e.firebase)||void 0===t?void 0:t.sign_in_provider;if(f)return new vt(a,"anonymous"!==f&&"custom"!==f?f:null)}if(!r)return null;switch(r){case"facebook.com":return new Qs(a,i);case"github.com":return new Xs(a,i);case"google.com":return new eo(a,i);case"twitter.com":return new to(a,i,n.screenName||null);case"custom":case"anonymous":return new vt(a,null);default:return new vt(a,r,i)}}(t)}class ht{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new ht("enroll",e,t)}static _fromMfaPendingCredential(e){return new ht("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e?.multiFactorSession){if(null!==(t=e.multiFactorSession)&&void 0!==t&&t.pendingCredential)return ht._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null!==(r=e.multiFactorSession)&&void 0!==r&&r.idToken)return ht._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Yn{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=ve(e),i=t.customData._serverResponse,a=(i.mfaInfo||[]).map(m=>Rt._fromServerResponse(r,m));_(i.mfaPendingCredential,r,"internal-error");const f=ht._fromMfaPendingCredential(i.mfaPendingCredential);return new Yn(f,a,function(){var m=(0,d.A)(function*(I){const P=yield I._process(r,f);delete i.mfaInfo,delete i.mfaPendingCredential;const M=Object.assign(Object.assign({},i),{idToken:P.idToken,refreshToken:P.refreshToken});switch(t.operationType){case"signIn":const ee=yield Fe._fromIdTokenResponse(r,t.operationType,M);return yield r._updateCurrentUser(ee.user),ee;case"reauthenticate":return _(t.user,r,"internal-error"),Fe._forOperation(t.user,t.operationType,M);default:U(r,"internal-error")}});return function(I){return m.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,d.A)(function*(){return t.signInResolver(e)})()}}function so(n,e){var t;const r=(0,h.Ku)(n),i=e;return _(e.customData.operationType,r,"argument-error"),_(null===(t=i.customData._serverResponse)||void 0===t?void 0:t.mfaPendingCredential,r,"argument-error"),Yn._fromError(r,i)}class Jn{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Rt._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new Jn(e)}getSession(){var e=this;return(0,d.A)(function*(){return ht._fromIdtoken(yield e.user.getIdToken(),e.user)})()}enroll(e,t){var r=this;return(0,d.A)(function*(){const i=e,a=yield r.getSession(),f=yield le(r.user,i._process(r.user.auth,a,t));return yield r.user._updateTokensIfNecessary(f),r.user.reload()})()}unenroll(e){var t=this;return(0,d.A)(function*(){const r="string"==typeof e?e:e.uid,i=yield t.user.getIdToken();try{const a=yield le(t.user,function co(n,e){return q(n,"POST","/v2/accounts/mfaEnrollment:withdraw",x(n,e))}(t.user.auth,{idToken:i,mfaEnrollmentId:r}));t.enrolledFactors=t.enrolledFactors.filter(({uid:f})=>f!==r),yield t.user._updateTokensIfNecessary(a),yield t.user.reload()}catch(a){throw a}})()}}const Zn=new WeakMap;function lo(n){const e=(0,h.Ku)(n);return Zn.has(e)||Zn.set(e,Jn._fromUser(e)),Zn.get(e)}const xt="__sak";class ci{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xt,"1"),this.storage.removeItem(xt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const li=(()=>{class n extends ci{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ho(){const n=(0,h.ZQ)();return ke(n)||yt(n)}()&&function Ki(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Hr(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),a=this.localCache[r];i!==a&&t(r,a,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((m,I,P)=>{this.notifyListeners(m,P)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const m=this.storage.getItem(i);if(t.newValue!==m)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const a=()=>{const m=this.storage.getItem(i);!r&&this.localCache[i]===m||this.notifyListeners(i,m)},f=this.storage.getItem(i);!function Hi(){return(0,h.lT)()&&10===document.documentMode}()||f===t.newValue||t.newValue===t.oldValue?a():setTimeout(a,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,a=this;return(0,d.A)(function*(){yield i().call(a,t,r),a.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return(0,d.A)(function*(){const a=yield r().call(i,t);return i.localCache[t]=JSON.stringify(a),a})()}_remove(t){var r=()=>super._remove,i=this;return(0,d.A)(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),Qn=(()=>{class n extends ci{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let mo=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(a=>a.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,d.A)(function*(){const i=t,{eventId:a,eventType:f,data:m}=i.data,I=r.handlersMap[f];if(!I?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:f});const P=Array.from(I).map(function(){var ee=(0,d.A)(function*(Ne){return Ne(i.origin,m)});return function(Ne){return ee.apply(this,arguments)}}()),M=yield function _o(n){return Promise.all(n.map(function(){var e=(0,d.A)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(P);i.ports[0].postMessage({status:"done",eventId:a,eventType:f,response:M})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Pt(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class go{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return(0,d.A)(function*(){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let f,m;return new Promise((I,P)=>{const M=Pt("",20);a.port1.start();const ee=setTimeout(()=>{P(new Error("unsupported_event"))},r);m={messageChannel:a,onMessage(Ne){const lt=Ne;if(lt.data.eventId===M)switch(lt.data.status){case"ack":clearTimeout(ee),f=setTimeout(()=>{P(new Error("timeout"))},3e3);break;case"done":clearTimeout(f),I(lt.data.response);break;default:clearTimeout(ee),clearTimeout(f),P(new Error("invalid_response"))}}},i.handlers.add(m),a.port1.addEventListener("message",m.onMessage),i.target.postMessage({eventType:e,eventId:M,data:t},[a.port2])}).finally(()=>{m&&i.removeMessageHandler(m)})})()}}function be(){return window}function Xn(){return typeof be().WorkerGlobalScope<"u"&&"function"==typeof be().importScripts}function er(){return(er=(0,d.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const di="firebaseLocalStorageDb",Ut="firebaseLocalStorage",hi="fbase_key";class Ot{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ft(n,e){return n.transaction([Ut],e?"readwrite":"readonly").objectStore(Ut)}function tr(){const n=indexedDB.open(di,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ut,{keyPath:hi})}catch(i){t(i)}}),n.addEventListener("success",(0,d.A)(function*(){const r=n.result;r.objectStoreNames.contains(Ut)?e(r):(r.close(),yield function To(){const n=indexedDB.deleteDatabase(di);return new Ot(n).toPromise()}(),e(yield tr()))}))})}function fi(n,e,t){return nr.apply(this,arguments)}function nr(){return(nr=(0,d.A)(function*(n,e,t){const r=Ft(n,!0).put({[hi]:e,value:t});return new Ot(r).toPromise()})).apply(this,arguments)}function rr(){return(rr=(0,d.A)(function*(n,e){const t=Ft(n,!1).get(e),r=yield new Ot(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function pi(n,e){const t=Ft(n,!0).delete(e);return new Ot(t).toPromise()}const _i=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,d.A)(function*(){return t.db||(t.db=yield tr()),t.db})()}_withRetries(t){var r=this;return(0,d.A)(function*(){let i=0;for(;;)try{const a=yield r._openDb();return yield t(a)}catch(a){if(i++>3)throw a;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,d.A)(function*(){return Xn()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,d.A)(function*(){t.receiver=mo._getInstance(function Eo(){return Xn()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=(0,d.A)(function*(i,a){return{keyProcessed:(yield t._poll()).includes(a.key)}});return function(i,a){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=(0,d.A)(function*(i,a){return["keyChanged"]});return function(i,a){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,d.A)(function*(){var r,i;if(t.activeServiceWorker=yield function Io(){return er.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new go(t.activeServiceWorker);const a=yield t.sender._send("ping",{},800);a&&null!==(r=a[0])&&void 0!==r&&r.fulfilled&&null!==(i=a[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,d.A)(function*(){if(r.sender&&r.activeServiceWorker&&function yo(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.A)(function*(){try{if(!indexedDB)return!1;const t=yield tr();return yield fi(t,xt,"1"),yield pi(t,xt),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return(0,d.A)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return(0,d.A)(function*(){return i._withPendingWrite((0,d.A)(function*(){return yield i._withRetries(a=>fi(a,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,d.A)(function*(){const i=yield r._withRetries(a=>function bo(n,e){return rr.apply(this,arguments)}(a,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return(0,d.A)(function*(){return r._withPendingWrite((0,d.A)(function*(){return yield r._withRetries(i=>pi(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,d.A)(function*(){const r=yield t._withRetries(f=>{const m=Ft(f,!1).getAll();return new Ot(m).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],a=new Set;if(0!==r.length)for(const{fbase_key:f,value:m}of r)a.add(f),JSON.stringify(t.localCache[f])!==JSON.stringify(m)&&(t.notifyListeners(f,m),i.push(f));for(const f of Object.keys(t.localCache))t.localCache[f]&&!a.has(f)&&(t.notifyListeners(f,null),i.push(f));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,d.A)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})(),Vt=1e12;class No{constructor(e){this.auth=e,this.counter=Vt,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new Do(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||Vt;null===(t=this._widgets.get(r))||void 0===t||t.delete(),this._widgets.delete(r)}getResponse(e){var t;return(null===(t=this._widgets.get(e||Vt))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,d.A)(function*(){var r;return null===(r=t._widgets.get(e||Vt))||void 0===r||r.execute(),""})()}}class Do{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i="string"==typeof e?document.getElementById(e):e;_(i,"argument-error",{appName:t}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Lo(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(62*Math.random())));return e.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ir=zr("rcb"),Mo=new L(3e4,6e4);class xo{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(e=be().grecaptcha)||void 0===e||!e.render)}load(e,t=""){return _(function Uo(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&ce(be().grecaptcha)?Promise.resolve(be().grecaptcha):new Promise((r,i)=>{const a=be().setTimeout(()=>{i(Y(e,"network-request-failed"))},Mo.get());be()[ir]=()=>{be().clearTimeout(a),delete be()[ir];const m=be().grecaptcha;if(!m||!ce(m))return void i(Y(e,"internal-error"));const I=m.render;m.render=(P,M)=>{const ee=I(P,M);return this.counter++,ee},this.hostLanguage=t,r(m)},$t(`${function Ji(){return Et.recaptchaV2Script}()}?${(0,h.Am)({onload:ir,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(a),i(Y(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!(null===(t=be().grecaptcha)||void 0===t||!t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Fo{load(e){return(0,d.A)(function*(){return new No(e)})()}clearedOneInstance(){}}const mi="recaptcha",Vo={theme:"light",type:"image"};class Wo{constructor(e,t,r=Object.assign({},Vo)){this.parameters=r,this.type=mi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ve(e),this.isInvisible="invisible"===this.parameters.size,_(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i="string"==typeof t?document.getElementById(t):t;_(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Fo:new xo,this.validateStartingState()}verify(){var e=this;return(0,d.A)(function*(){e.assertNotDestroyed();const t=yield e.render(),r=e.getAssertedRecaptcha();return r.getResponse(t)||new Promise(a=>{const f=m=>{m&&(e.tokenChangeListeners.delete(f),a(m))};e.tokenChangeListeners.add(f),e.isInvisible&&r.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){_(!this.parameters.sitekey,this.auth,"argument-error"),_(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),_(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),"function"==typeof e)e(t);else if("string"==typeof e){const r=be()[e];"function"==typeof r&&r(t)}}}assertNotDestroyed(){_(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,d.A)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const r=document.createElement("div");t.appendChild(r),t=r}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,d.A)(function*(){_(me()&&!Xn(),e.auth,"internal-error"),yield function Bo(){let n=null;return new Promise(e=>{"complete"!==document.readyState?(n=()=>e(),window.addEventListener("load",n)):e()}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function it(n){return We.apply(this,arguments)}(e.auth);_(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return _(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class sr{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=dt._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function Ho(n,e,t){return or.apply(this,arguments)}function or(){return(or=(0,d.A)(function*(n,e,t){if((0,A._isFirebaseServerApp)(n.app))return Promise.reject(z(n));const r=ve(n),i=yield Wt(r,e,(0,h.Ku)(t));return new sr(i,a=>Lt(r,a))})).apply(this,arguments)}function Ko(n,e,t){return ar.apply(this,arguments)}function ar(){return(ar=(0,d.A)(function*(n,e,t){const r=(0,h.Ku)(n);yield Dt(!1,r,"phone");const i=yield Wt(r.auth,e,(0,h.Ku)(t));return new sr(i,a=>ii(r,a))})).apply(this,arguments)}function jo(n,e,t){return ur.apply(this,arguments)}function ur(){return(ur=(0,d.A)(function*(n,e,t){const r=(0,h.Ku)(n);if((0,A._isFirebaseServerApp)(r.auth.app))return Promise.reject(z(r.auth));const i=yield Wt(r.auth,e,(0,h.Ku)(t));return new sr(i,a=>si(r,a))})).apply(this,arguments)}function Wt(n,e,t){return cr.apply(this,arguments)}function cr(){return cr=(0,d.A)(function*(n,e,t){var r;const i=yield t.verify();try{let a;if(_("string"==typeof i,n,"argument-error"),_(t.type===mi,n,"argument-error"),a="string"==typeof e?{phoneNumber:e}:e,"session"in a){const f=a.session;if("phoneNumber"in a)return _("enroll"===f.type,n,"internal-error"),(yield function oo(n,e){return q(n,"POST","/v2/accounts/mfaEnrollment:start",x(n,e))}(n,{idToken:f.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{_("signin"===f.type,n,"internal-error");const m=(null===(r=a.multiFactorHint)||void 0===r?void 0:r.uid)||a.multiFactorUid;return _(m,n,"missing-multi-factor-info"),(yield function Po(n,e){return q(n,"POST","/v2/accounts/mfaSignIn:start",x(n,e))}(n,{mfaPendingCredential:f.credential,mfaEnrollmentId:m,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:f}=yield function gs(n,e){return ln.apply(this,arguments)}(n,{phoneNumber:a.phoneNumber,recaptchaToken:i});return f}}finally{t._reset()}}),cr.apply(this,arguments)}function zo(n,e){return lr.apply(this,arguments)}function lr(){return(lr=(0,d.A)(function*(n,e){const t=(0,h.Ku)(n);if((0,A._isFirebaseServerApp)(t.auth.app))return Promise.reject(z(t.auth));yield vn(t,e)})).apply(this,arguments)}let $o=(()=>{class n{constructor(t){this.providerId=n.PROVIDER_ID,this.auth=ve(t)}verifyPhoneNumber(t,r){return Wt(this.auth,t,(0,h.Ku)(r))}static credential(t,r){return dt._fromVerification(t,r)}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:r,temporaryProof:i}=t;return r&&i?dt._fromTokenResponse(r,i):null}}return n.PROVIDER_ID="phone",n.PHONE_SIGN_IN_METHOD="phone",n})();function ft(n,e){return e?S(e):(_(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class dr extends _t{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tt(e,this._buildIdpRequest())}_linkToIdToken(e,t){return tt(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return tt(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Go(n){return ri(n.auth,new dr(n),n.bypassAuthState)}function qo(n){const{auth:e,user:t}=n;return _(t,e,"internal-error"),ni(t,new dr(n),n.bypassAuthState)}function Yo(n){return hr.apply(this,arguments)}function hr(){return(hr=(0,d.A)(function*(n){const{auth:e,user:t}=n;return _(t,e,"internal-error"),vn(t,new dr(n),n.bypassAuthState)})).apply(this,arguments)}class gi{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,d.A)(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(a){e.reject(a)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,d.A)(function*(){const{urlResponse:r,sessionId:i,postBody:a,tenantId:f,error:m,type:I}=e;if(m)return void t.reject(m);const P={auth:t.auth,requestUri:r,sessionId:i,tenantId:f||void 0,postBody:a||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(I)(P))}catch(M){t.reject(M)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Go;case"linkViaPopup":case"linkViaRedirect":return Yo;case"reauthViaPopup":case"reauthViaRedirect":return qo;default:U(this.auth,"internal-error")}}resolve(e){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Jo=new L(2e3,1e4);function Zo(n,e,t){return fr.apply(this,arguments)}function fr(){return(fr=(0,d.A)(function*(n,e,t){if((0,A._isFirebaseServerApp)(n.app))return Promise.reject(Y(n,"operation-not-supported-in-this-environment"));const r=ve(n);O(n,e,nt);const i=ft(r,t);return new mr(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}function Qo(n,e,t){return pr.apply(this,arguments)}function pr(){return(pr=(0,d.A)(function*(n,e,t){const r=(0,h.Ku)(n);if((0,A._isFirebaseServerApp)(r.auth.app))return Promise.reject(Y(r.auth,"operation-not-supported-in-this-environment"));O(r.auth,e,nt);const i=ft(r.auth,t);return new mr(r.auth,"reauthViaPopup",e,i,r).executeNotNull()})).apply(this,arguments)}function Xo(n,e,t){return _r.apply(this,arguments)}function _r(){return(_r=(0,d.A)(function*(n,e,t){const r=(0,h.Ku)(n);O(r.auth,e,nt);const i=ft(r.auth,t);return new mr(r.auth,"linkViaPopup",e,i,r).executeNotNull()})).apply(this,arguments)}let mr=(()=>{class n extends gi{constructor(t,r,i,a,f){super(t,r,a,f),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return(0,d.A)(function*(){const r=yield t.execute();return _(r,t.auth,"internal-error"),r})()}onExecution(){var t=this;return(0,d.A)(function*(){W(1===t.filter.length,"Popup operations only handle one event");const r=Pt();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],r),t.authWindow.associatedEvent=r,t.resolver._originValidation(t.auth).catch(i=>{t.reject(i)}),t.resolver._isIframeWebStorageSupported(t.auth,i=>{i||t.reject(Y(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(Y(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Y(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(t,Jo.get())};t()}}return n.currentPopupAction=null,n})();const ea="pendingRedirect",Ct=new Map;class ta extends gi{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,d.A)(function*(){let r=Ct.get(t.auth._key());if(!r){try{const a=(yield function na(n,e){return gr.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(a)}catch(i){r=()=>Promise.reject(i)}Ct.set(t.auth._key(),r)}return t.bypassAuthState||Ct.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,d.A)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,d.A)(function*(){})()}cleanUp(){}}function gr(){return(gr=(0,d.A)(function*(n,e){const t=yi(e),r=Ii(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function vr(n,e){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,d.A)(function*(n,e){return Ii(n)._set(yi(e),"true")})).apply(this,arguments)}function ra(){Ct.clear()}function vi(n,e){Ct.set(n._key(),e)}function Ii(n){return S(n._redirectPersistence)}function yi(n){return oe(ea,n.config.apiKey,n.name)}function ia(n,e,t){return function sa(n,e,t){return yr.apply(this,arguments)}(n,e,t)}function yr(){return(yr=(0,d.A)(function*(n,e,t){if((0,A._isFirebaseServerApp)(n.app))return Promise.reject(z(n));const r=ve(n);O(n,e,nt),yield r._initializationPromise;const i=ft(r,t);return yield vr(i,r),i._openRedirect(r,e,"signInViaRedirect")})).apply(this,arguments)}function oa(n,e,t){return function aa(n,e,t){return Er.apply(this,arguments)}(n,e,t)}function Er(){return(Er=(0,d.A)(function*(n,e,t){const r=(0,h.Ku)(n);if(O(r.auth,e,nt),(0,A._isFirebaseServerApp)(r.auth.app))return Promise.reject(z(r.auth));yield r.auth._initializationPromise;const i=ft(r.auth,t);yield vr(i,r.auth);const a=yield Ei(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",a)})).apply(this,arguments)}function ua(n,e,t){return function ca(n,e,t){return Ar.apply(this,arguments)}(n,e,t)}function Ar(){return(Ar=(0,d.A)(function*(n,e,t){const r=(0,h.Ku)(n);O(r.auth,e,nt),yield r.auth._initializationPromise;const i=ft(r.auth,t);yield Dt(!1,r,e.providerId),yield vr(i,r.auth);const a=yield Ei(r);return i._openRedirect(r.auth,e,"linkViaRedirect",a)})).apply(this,arguments)}function la(n,e){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,d.A)(function*(n,e){return yield ve(n)._initializationPromise,br(n,e,!1)})).apply(this,arguments)}function br(n,e){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,d.A)(function*(n,e,t=!1){if((0,A._isFirebaseServerApp)(n.app))return Promise.reject(z(n));const r=ve(n),i=ft(r,e),f=yield new ta(r,i,t).execute();return f&&!t&&(delete f.user._redirectEventId,yield r._persistUserIfCurrent(f.user),yield r._setRedirectUser(null,e)),f})).apply(this,arguments)}function Ei(n){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,d.A)(function*(n){const e=Pt(`${n.uid}:::`);return n._redirectEventId=e,yield n.auth._setRedirectUser(n),yield n.auth._persistUserIfCurrent(n),e})).apply(this,arguments)}class Ai{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function ha(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bi(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!bi(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Y(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ti(e))}saveEventToCache(e){this.cachedEventUids.add(Ti(e)),this.lastProcessedEventTime=Date.now()}}function Ti(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function bi({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function Si(n){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,d.A)(function*(n,e={}){return q(n,"GET","/v1/projects",e)})).apply(this,arguments)}const fa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pa=/^https?/;function Or(){return(Or=(0,d.A)(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield Si(n);for(const t of e)try{if(ma(t))return}catch{}U(n,"unauthorized-domain")})).apply(this,arguments)}function ma(n){const e=$(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const f=new URL(n);return""===f.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&f.hostname===r}if(!pa.test(t))return!1;if(fa.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ga=new L(3e4,6e4);function Ri(){const n=be().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Bt=null;const ya=new L(5e3,15e3),Ea="__/auth/iframe",Aa="emulator/auth/iframe",Ta={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ba=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sa(n){const e=n.config;_(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?N(e,Aa):`https://${n.config.authDomain}/${Ea}`,r={apiKey:e.apiKey,appName:n.name,v:A.SDK_VERSION},i=ba.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${(0,h.Am)(r).slice(1)}`}function Cr(){return Cr=(0,d.A)(function*(n){const e=yield function Ia(n){return Bt=Bt||function va(n){return new Promise((e,t)=>{var r,i,a;function f(){Ri(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ri(),t(Y(n,"network-request-failed"))},timeout:ga.get()})}if(null!==(i=null===(r=be().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(a=be().gapi)||void 0===a||!a.load){const m=zr("iframefcb");return be()[m]=()=>{gapi.load?f():t(Y(n,"network-request-failed"))},$t(`${function Qi(){return Et.gapiScript}()}?onload=${m}`).catch(I=>t(I))}f()}}).catch(e=>{throw Bt=null,e})}(n),Bt}(n),t=be().gapi;return _(t,n,"internal-error"),e.open({where:document.body,url:Sa(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ta,dontclear:!0},r=>new Promise(function(){var i=(0,d.A)(function*(a,f){yield r.restyle({setHideOnLeave:!1});const m=Y(n,"network-request-failed"),I=be().setTimeout(()=>{f(m)},ya.get());function P(){be().clearTimeout(I),a(r)}r.ping(P).then(P,()=>{f(m)})});return function(a,f){return i.apply(this,arguments)}}()))}),Cr.apply(this,arguments)}const Pa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Pi{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const La="__/auth/handler",Ma="emulator/auth/handler",xa=encodeURIComponent("fac");function wr(n,e,t,r,i,a){return kr.apply(this,arguments)}function kr(){return(kr=(0,d.A)(function*(n,e,t,r,i,a){_(n.config.authDomain,n,"auth-domain-config-required"),_(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:A.SDK_VERSION,eventId:i};if(e instanceof nt){e.setDefaultLanguage(n.languageCode),f.providerId=e.providerId||"",(0,h.Im)(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[M,ee]of Object.entries(a||{}))f[M]=ee}if(e instanceof mt){const M=e.getScopes().filter(ee=>""!==ee);M.length>0&&(f.scopes=M.join(","))}n.tenantId&&(f.tid=n.tenantId);const m=f;for(const M of Object.keys(m))void 0===m[M]&&delete m[M];const I=yield n._getAppCheckToken(),P=I?`#${xa}=${encodeURIComponent(I)}`:"";return`${function Ua({config:n}){return n.emulator?N(n,Ma):`https://${n.authDomain}/${La}`}(n)}?${(0,h.Am)(m).slice(1)}${P}`})).apply(this,arguments)}const Nr="webStorageSupport",Oi=class Fa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qn,this._completeRedirectFn=br,this._overrideRedirectResult=vi}_openPopup(e,t,r,i){var a=this;return(0,d.A)(function*(){var f;W(null===(f=a.eventManagers[e._key()])||void 0===f?void 0:f.manager,"_initialize() not called before _openPopup()");const m=yield wr(e,t,r,$(),i);return function Na(n,e,t,r=500,i=600){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const I=Object.assign(Object.assign({},Pa),{width:r.toString(),height:i.toString(),top:a,left:f}),P=(0,h.ZQ)().toLowerCase();t&&(m=It(P)?"_blank":t),X(P)&&(e=e||"http://localhost",I.scrollbars="yes");const M=Object.entries(I).reduce((Ne,[lt,Kt])=>`${Ne}${lt}=${Kt},`,"");if(function Bi(n=(0,h.ZQ)()){var e;return yt(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(P)&&"_self"!==m)return function Da(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",m),new Pi(null);const ee=window.open(e||"",m,M);_(ee,n,"popup-blocked");try{ee.focus()}catch{}return new Pi(ee)}(e,m,Pt())})()}_openRedirect(e,t,r,i){var a=this;return(0,d.A)(function*(){return yield a._originValidation(e),function vo(n){be().location.href=n}(yield wr(e,t,r,$(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(W(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,d.A)(function*(){const r=yield function Ra(n){return Cr.apply(this,arguments)}(e),i=new Ai(e);return r.register("authEvent",a=>(_(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Nr,{type:Nr},i=>{var a;const f=null===(a=i?.[0])||void 0===a?void 0:a[Nr];void 0!==f&&t(!!f),U(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function _a(n){return Or.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Hr()||ke()||yt()}};class Ci{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return D("unexpected MultiFactorSessionType")}}}class Dr extends Ci{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Dr(e)}_finalizeEnroll(e,t,r){return function ao(n,e){return q(n,"POST","/v2/accounts/mfaEnrollment:finalize",x(n,e))}(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function Oo(n,e){return q(n,"POST","/v2/accounts/mfaSignIn:finalize",x(n,e))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Va=(()=>{class n{constructor(){}static assertion(t){return Dr._fromCredential(t)}}return n.FACTOR_ID="phone",n})();var ki="@firebase/auth";class Wa{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,d.A)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,h.XA)("authIdTokenMaxAge"),function Yi(n){Et=n}({loadJS:n=>new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=Y("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",function $a(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Ha(n){(0,A._registerComponent)(new Ie.uA("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;_(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const I={apiKey:f,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kr(n)},P=new qi(r,i,a,I);return function rs(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(S);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(P,t),P},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),(0,A._registerComponent)(new Ie.uA("auth-internal",e=>{const t=ve(e.getProvider("auth").getImmediate());return new Wa(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,A.registerVersion)(ki,"1.7.4",function Ba(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),(0,A.registerVersion)(ki,"1.7.4","esm2017")}("Browser")},1076:(Le,de,T)=>{T.d(de,{Am:()=>st,Bd:()=>D,FA:()=>q,Fy:()=>z,I9:()=>je,Im:()=>rt,Ku:()=>R,Ll:()=>_,T9:()=>U,Uj:()=>ne,XA:()=>Y,ZQ:()=>O,bD:()=>We,cY:()=>ae,dM:()=>se,eX:()=>G,g:()=>x,gR:()=>ce,hp:()=>Be,jZ:()=>y,lT:()=>ie,lV:()=>$,nr:()=>L,sr:()=>W,tD:()=>ot,u:()=>v,zW:()=>N,zw:()=>w});const C=function(c){const l=[];let o=0;for(let u=0;u<c.length;u++){let s=c.charCodeAt(u);s<128?l[o++]=s:s<2048?(l[o++]=s>>6|192,l[o++]=63&s|128):55296==(64512&s)&&u+1<c.length&&56320==(64512&c.charCodeAt(u+1))?(s=65536+((1023&s)<<10)+(1023&c.charCodeAt(++u)),l[o++]=s>>18|240,l[o++]=s>>12&63|128,l[o++]=s>>6&63|128,l[o++]=63&s|128):(l[o++]=s>>12|224,l[o++]=s>>6&63|128,l[o++]=63&s|128)}return l},Ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(c,l){if(!Array.isArray(c))throw Error("encodeByteArray takes an array as a parameter");this.init_();const o=l?this.byteToCharMapWebSafe_:this.byteToCharMap_,u=[];for(let s=0;s<c.length;s+=3){const p=c[s],g=s+1<c.length,S=g?c[s+1]:0,V=s+2<c.length,K=V?c[s+2]:0;let ge=(15&S)<<2|K>>6,X=63&K;V||(X=64,g||(ge=64)),u.push(o[p>>2],o[(3&p)<<4|S>>4],o[ge],o[X])}return u.join("")},encodeString(c,l){return this.HAS_NATIVE_SUPPORT&&!l?btoa(c):this.encodeByteArray(C(c),l)},decodeString(c,l){return this.HAS_NATIVE_SUPPORT&&!l?atob(c):function(c){const l=[];let o=0,u=0;for(;o<c.length;){const s=c[o++];if(s<128)l[u++]=String.fromCharCode(s);else if(s>191&&s<224){const p=c[o++];l[u++]=String.fromCharCode((31&s)<<6|63&p)}else if(s>239&&s<365){const V=((7&s)<<18|(63&c[o++])<<12|(63&c[o++])<<6|63&c[o++])-65536;l[u++]=String.fromCharCode(55296+(V>>10)),l[u++]=String.fromCharCode(56320+(1023&V))}else{const p=c[o++],g=c[o++];l[u++]=String.fromCharCode((15&s)<<12|(63&p)<<6|63&g)}}return l.join("")}(this.decodeStringToByteArray(c,l))},decodeStringToByteArray(c,l){this.init_();const o=l?this.charToByteMapWebSafe_:this.charToByteMap_,u=[];for(let s=0;s<c.length;){const p=o[c.charAt(s++)],S=s<c.length?o[c.charAt(s)]:0;++s;const K=s<c.length?o[c.charAt(s)]:64;++s;const B=s<c.length?o[c.charAt(s)]:64;if(++s,null==p||null==S||null==K||null==B)throw new he;u.push(p<<2|S>>4),64!==K&&(u.push(S<<4&240|K>>2),64!==B&&u.push(K<<6&192|B))}return u},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let c=0;c<this.ENCODED_VALS.length;c++)this.byteToCharMap_[c]=this.ENCODED_VALS.charAt(c),this.charToByteMap_[this.byteToCharMap_[c]]=c,this.byteToCharMapWebSafe_[c]=this.ENCODED_VALS_WEBSAFE.charAt(c),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[c]]=c,c>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(c)]=c,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(c)]=c)}}};class he extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ne=function(c){return function(c){const l=C(c);return Ie.encodeByteArray(l,!0)}(c).replace(/\./g,"")},v=function(c){try{return Ie.decodeString(c,!0)}catch(l){console.error("base64Decode failed: ",l)}return null};function w(c,l){if(!(l instanceof Object))return l;switch(l.constructor){case Date:return new Date(l.getTime());case Object:void 0===c&&(c={});break;case Array:c=[];break;default:return l}for(const o in l)!l.hasOwnProperty(o)||!F(o)||(c[o]=w(c[o],l[o]));return c}function F(c){return"__proto__"!==c}const b=()=>{try{return function Z(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const c=process.env.__FIREBASE_DEFAULTS__;return c?JSON.parse(c):void 0})()||(()=>{if(typeof document>"u")return;let c;try{c=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const l=c&&v(c[1]);return l&&JSON.parse(l)})()}catch(c){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${c}`)}},U=()=>{var c;return null===(c=b())||void 0===c?void 0:c.config},Y=c=>{var l;return null===(l=b())||void 0===l?void 0:l[`_${c}`]};class ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((l,o)=>{this.resolve=l,this.reject=o})}wrapCallback(l){return(o,u)=>{o?this.reject(o):this.resolve(u),"function"==typeof l&&(this.promise.catch(()=>{}),1===l.length?l(o):l(o,u))}}}function z(c,l){if(c.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const u=l||"demo-project",s=c.iat||0,p=c.sub||c.user_id;if(!p)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const g=Object.assign({iss:`https://securetoken.google.com/${u}`,aud:u,iat:s,exp:s+3600,auth_time:s,sub:p,user_id:p,firebase:{sign_in_provider:"custom",identities:{}}},c);return[ne(JSON.stringify({alg:"none",type:"JWT"})),ne(JSON.stringify(g)),""].join(".")}function O(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function y(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(O())}function _(){var c;const l=null===(c=b())||void 0===c?void 0:c.forceEnvironment;if("node"===l)return!0;if("browser"===l)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function D(){return"object"==typeof self&&self.self===self}function W(){const c="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof c&&void 0!==c.id}function $(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ie(){const c=O();return c.indexOf("MSIE ")>=0||c.indexOf("Trident/")>=0}function L(){return!_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N(){try{return"object"==typeof indexedDB}catch{return!1}}function G(){return new Promise((c,l)=>{try{let o=!0;const u="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(u);s.onsuccess=()=>{s.result.close(),o||self.indexedDB.deleteDatabase(u),c(!0)},s.onupgradeneeded=()=>{o=!1},s.onerror=()=>{var p;l((null===(p=s.error)||void 0===p?void 0:p.message)||"")}}catch(o){l(o)}})}function se(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class x extends Error{constructor(l,o,u){super(o),this.code=l,this.customData=u,this.name="FirebaseError",Object.setPrototypeOf(this,x.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,q.prototype.create)}}class q{constructor(l,o,u){this.service=l,this.serviceName=o,this.errors=u}create(l,...o){const u=o[0]||{},s=`${this.service}/${l}`,p=this.errors[l],g=p?function Se(c,l){return c.replace(Je,(o,u)=>{const s=l[u];return null!=s?String(s):`<${u}?>`})}(p,u):"Error";return new x(s,`${this.serviceName}: ${g} (${s}).`,u)}}const Je=/\{\$([^}]+)}/g;function ce(c,l){return Object.prototype.hasOwnProperty.call(c,l)}function rt(c){for(const l in c)if(Object.prototype.hasOwnProperty.call(c,l))return!1;return!0}function We(c,l){if(c===l)return!0;const o=Object.keys(c),u=Object.keys(l);for(const s of o){if(!u.includes(s))return!1;const p=c[s],g=l[s];if(Te(p)&&Te(g)){if(!We(p,g))return!1}else if(p!==g)return!1}for(const s of u)if(!o.includes(s))return!1;return!0}function Te(c){return null!==c&&"object"==typeof c}function st(c){const l=[];for(const[o,u]of Object.entries(c))Array.isArray(u)?u.forEach(s=>{l.push(encodeURIComponent(o)+"="+encodeURIComponent(s))}):l.push(encodeURIComponent(o)+"="+encodeURIComponent(u));return l.length?"&"+l.join("&"):""}function je(c){const l={};return c.replace(/^\?/,"").split("&").forEach(u=>{if(u){const[s,p]=u.split("=");l[decodeURIComponent(s)]=decodeURIComponent(p)}}),l}function Be(c){const l=c.indexOf("?");if(!l)return"";const o=c.indexOf("#",l);return c.substring(l,o>0?o:void 0)}function ot(c,l){const o=new ze(c,l);return o.subscribe.bind(o)}class ze{constructor(l,o){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=o,this.task.then(()=>{l(this)}).catch(u=>{this.error(u)})}next(l){this.forEachObserver(o=>{o.next(l)})}error(l){this.forEachObserver(o=>{o.error(l)}),this.close(l)}complete(){this.forEachObserver(l=>{l.complete()}),this.close()}subscribe(l,o,u){let s;if(void 0===l&&void 0===o&&void 0===u)throw new Error("Missing Observer.");s=function De(c,l){if("object"!=typeof c||null===c)return!1;for(const o of l)if(o in c&&"function"==typeof c[o])return!0;return!1}(l,["next","error","complete"])?l:{next:l,error:o,complete:u},void 0===s.next&&(s.next=we),void 0===s.error&&(s.error=we),void 0===s.complete&&(s.complete=we);const p=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),p}unsubscribeOne(l){void 0===this.observers||void 0===this.observers[l]||(delete this.observers[l],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(l){if(!this.finalized)for(let o=0;o<this.observers.length;o++)this.sendOne(o,l)}sendOne(l,o){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[l])try{o(this.observers[l])}catch(u){typeof console<"u"&&console.error&&console.error(u)}})}close(l){this.finalized||(this.finalized=!0,void 0!==l&&(this.finalError=l),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function we(){}function R(c){return c&&c._delegate?c._delegate:c}},7083:(Le,de,T)=>{T.d(de,{K:()=>h});var d=T(5558),A=T(8071);function h(C,ue){return(0,A.T)(ue)?(0,d.n)(()=>C,ue):(0,d.n)(()=>C)}},1152:(Le,de,T)=>{T.d(de,{$z:()=>z,AU:()=>O,CP:()=>U,DS:()=>D,UB:()=>y,X8:()=>W,ZP:()=>ae,gF:()=>_,yy:()=>Y}),T(2438);var A=T(177),h=T(4438),C=T(1825),ue=T(9253),Ie=T(1413),he=T(7673),te=T(1985),ne=T(8455),v=T(7786),E=T(941),w=T(5558),F=T(6354),Z=T(9568),_e=T(1594),Q=T(7083),j=T(6745),b=T(5964),J=T(7935);const U=new h.nKC("angularfire2.auth.use-emulator"),Y=new h.nKC("angularfire2.auth.settings"),ae=new h.nKC("angularfire2.auth.tenant-id"),z=new h.nKC("angularfire2.auth.langugage-code"),O=new h.nKC("angularfire2.auth.use-device-language"),y=new h.nKC("angularfire.auth.persistence"),_=($,me,ie,fe,k,L,N,G)=>(0,ue.BM)(`${$.name}.auth`,"AngularFireAuth",$.name,()=>{const se=me.runOutsideAngular(()=>$.auth());if(ie&&se.useEmulator(...ie),fe&&(se.tenantId=fe),se.languageCode=k,L&&se.useDeviceLanguage(),N)for(const[re,x]of Object.entries(N))se.settings[re]=x;return G&&se.setPersistence(G),se},[ie,fe,k,L,N,G]);let D=(()=>{class ${authState;idToken;user;idTokenResult;credential;constructor(ie,fe,k,L,N,G,se,re,x,q,Se,Je){const Re=new Ie.B,Ee=(0,he.of)(void 0).pipe((0,E.Q)(N.outsideAngular),(0,w.n)(()=>L.runOutsideAngular(()=>Promise.resolve().then(T.bind(T,2438)))),(0,F.T)(()=>(0,ue.iB)(ie,L,fe)),(0,F.T)(Ae=>_(Ae,L,G,re,x,q,se,Se)),(0,Z.t)({bufferSize:1,refCount:!1}));if((0,A.Vy)(k))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,he.of)(null);else{Ee.pipe((0,_e.$)()).subscribe();const Ae=Ee.pipe((0,w.n)(pe=>pe.getRedirectResult().then(ye=>ye,()=>null)),C.U0,(0,Z.t)({bufferSize:1,refCount:!1})),Ve=Ee.pipe((0,w.n)(pe=>new te.c(ye=>({unsubscribe:L.runOutsideAngular(()=>pe.onAuthStateChanged(ce=>ye.next(ce),ce=>ye.error(ce),()=>ye.complete()))})))),Ke=Ee.pipe((0,w.n)(pe=>new te.c(ye=>({unsubscribe:L.runOutsideAngular(()=>pe.onIdTokenChanged(ce=>ye.next(ce),ce=>ye.error(ce),()=>ye.complete()))}))));this.authState=Ae.pipe((0,Q.K)(Ve),(0,j._)(N.outsideAngular),(0,E.Q)(N.insideAngular)),this.user=Ae.pipe((0,Q.K)(Ke),(0,j._)(N.outsideAngular),(0,E.Q)(N.insideAngular)),this.idToken=this.user.pipe((0,w.n)(pe=>pe?(0,ne.H)(pe.getIdToken()):(0,he.of)(null))),this.idTokenResult=this.user.pipe((0,w.n)(pe=>pe?(0,ne.H)(pe.getIdTokenResult()):(0,he.of)(null))),this.credential=(0,v.h)(Ae,Re,this.authState.pipe((0,b.p)(pe=>!pe))).pipe((0,F.T)(pe=>pe?.user?pe:null),(0,j._)(N.outsideAngular),(0,E.Q)(N.insideAngular))}return(0,ue.Gt)(this,Ee,L,{spy:{apply:(Ae,Ve,Ke)=>{(Ae.startsWith("signIn")||Ae.startsWith("createUser"))&&Ke.then(pe=>Re.next(pe))}}})}static \u0275fac=function(fe){return new(fe||$)(h.KVO(ue.rx),h.KVO(ue.uP,8),h.KVO(h.Agw),h.KVO(h.SKi),h.KVO(C.u0),h.KVO(U,8),h.KVO(Y,8),h.KVO(ae,8),h.KVO(z,8),h.KVO(O,8),h.KVO(y,8),h.KVO(C.Jv,8))};static \u0275prov=h.jDH({token:$,factory:$.\u0275fac,providedIn:"any"})}return $})(),W=(()=>{class ${constructor(){J.A.registerVersion("angularfire",C.xv.full,"auth-compat")}static \u0275fac=function(fe){return new(fe||$)};static \u0275mod=h.$C({type:$});static \u0275inj=h.G2t({providers:[D]})}return $})()},9253:(Le,de,T)=>{T.d(de,{BM:()=>Z,Gt:()=>ue,bf:()=>F,e7:()=>Ie,iB:()=>v,rx:()=>te,uP:()=>ne});var d=T(4438),A=T(1825),h=T(7935);const C=["ngOnDestroy"],ue=(b,J,H,U={})=>new Proxy(b,{get:(Y,ae)=>H.runOutsideAngular(()=>{if(b[ae])return U?.spy?.get&&U.spy.get(ae,b[ae]),b[ae];if(C.indexOf(ae)>-1)return()=>{};const z=J.toPromise().then(O=>{const y=O?.[ae];return"function"==typeof y?y.bind(O):y?.then?y.then(_=>H.run(()=>_)):H.run(()=>y)});return new Proxy(()=>{},{get:(O,y)=>z[y],apply:(O,y,_)=>z.then(D=>{const W=D?.(..._);return U?.spy?.apply&&U.spy.apply(ae,_,W),W})})})}),Ie=(b,J)=>{J.forEach(H=>{Object.getOwnPropertyNames(H.prototype||H).forEach(U=>{Object.defineProperty(b.prototype,U,Object.getOwnPropertyDescriptor(H.prototype||H,U))})})};class he{constructor(J){return J}}const te=new d.nKC("angularfire2.app.options"),ne=new d.nKC("angularfire2.app.name");function v(b,J,H){const Y="object"==typeof H&&H||{};Y.name=Y.name||"string"==typeof H&&H||"[DEFAULT]";const z=h.A.apps.filter(O=>O&&O.name===Y.name)[0]||J.runOutsideAngular(()=>h.A.initializeApp(b,Y));try{if(JSON.stringify(b)!==JSON.stringify(z.options)){const O=!!module.hot;E("error",`${z.name} Firebase App already initialized with different options${O?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new he(z)}const E=(b,...J)=>{(0,d.naY)()&&typeof console<"u"&&console[b](...J)},w={provide:he,useFactory:v,deps:[te,d.SKi,[new d.Xx1,ne]]};let F=(()=>{class b{static initializeApp(H,U){return{ngModule:b,providers:[{provide:te,useValue:H},{provide:ne,useValue:U}]}}constructor(H){h.A.registerVersion("angularfire",A.xv.full,"core"),h.A.registerVersion("angularfire",A.xv.full,"app-compat"),h.A.registerVersion("angular",d.xvI.full,H.toString())}static \u0275fac=function(U){return new(U||b)(d.KVO(d.Agw))};static \u0275mod=d.$C({type:b});static \u0275inj=d.G2t({providers:[w]})}return b})();function Z(b,J,H,U,Y){const[,ae,z]=globalThis.\u0275AngularfireInstanceCache.find(O=>O[0]===b)||[];if(ae)return function _e(b,J){try{return b.toString()===J.toString()}catch{return b===J}}(Y,z)||(j("error",`${J} was already initialized on the ${H} Firebase App with different settings.${Q?" You may need to reload as Firebase is not HMR aware.":""}`),j("warn",{is:Y,was:z})),ae;{const O=U();return globalThis.\u0275AngularfireInstanceCache.push([b,O,Y]),O}}const Q=typeof module<"u"&&!!module.hot,j=(b,...J)=>{(0,d.naY)()&&typeof console<"u"&&console[b](...J)};globalThis.\u0275AngularfireInstanceCache||=[]},1825:(Le,de,T)=>{T.d(de,{xv:()=>_e,U0:()=>$,Oe:()=>D,u0:()=>z,Jv:()=>J});var d=T(4438),A=T(8742);(0,A.registerVersion)("firebase","10.12.2","app");var ue=T(6780),he=T(9687);const ne=new class te extends he.q{}(class Ie extends ue.R{constructor(L,N){super(L,N),this.scheduler=L,this.work=N}schedule(L,N=0){return N>0?super.schedule(L,N):(this.delay=N,this.state=L,this.scheduler.flush(this),this)}execute(L,N){return N>0||this.closed?super.execute(L,N):this._execute(L,N)}requestAsyncId(L,N,G=0){return null!=G&&G>0||null==G&&this.delay>0?super.requestAsyncId(L,N,G):(L.flush(this),0)}});var E=T(3236),w=T(8141),F=T(941),Z=T(6745);const _e=new d.RxE("ANGULARFIRE2_VERSION");class J{constructor(){return((k,L)=>{const N=(0,A.getApps)(),G=[];return N.forEach(se=>{se.container.getProvider(k).instances.forEach(x=>{G.includes(x)||G.push(x)})}),G})(H)}}const H="app-check";function U(){}class Y{zone;delegate;constructor(L,N=ne){this.zone=L,this.delegate=N}now(){return this.delegate.now()}schedule(L,N,G){const se=this.zone;return this.delegate.schedule(function(x){se.runGuarded(()=>{L.apply(this,[x])})},N,G)}}class ae{zone;task=null;constructor(L){this.zone=L}call(L,N){const G=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",U,{},U,U)),N.pipe((0,w.M)({next:G,complete:G,error:G})).subscribe(L).add(G)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let z=(()=>{class k{ngZone;outsideAngular;insideAngular;constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new Y(Zone.current)),this.insideAngular=N.run(()=>new Y(Zone.current,E.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(G){return new(G||k)(d.KVO(d.SKi))};static \u0275prov=d.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}return k})();function O(){const k=globalThis.\u0275AngularFireScheduler;if(!k)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return k}function D(k){return k.pipe((0,F.Q)(O().outsideAngular))}function $(k){return function me(k){return function(N){return(N=N.lift(new ae(k.ngZone))).pipe((0,Z._)(k.outsideAngular),(0,F.Q)(k.insideAngular))}}(O())(k)}},3345:(Le,de,T)=>{T.d(de,{A:()=>_e});var d=T(1076),A=T(1362),h=T(8742),C=T(8041);class ue{constructor(j,b){this._delegate=j,this.firebase=b,(0,h._addComponent)(j,new A.uA("app-compat",()=>this,"PUBLIC")),this.container=j.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(j){this._delegate.automaticDataCollectionEnabled=j}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(j=>{this._delegate.checkDestroyed(),j()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,h.deleteApp)(this._delegate)))}_getService(j,b=h._DEFAULT_ENTRY_NAME){var J;this._delegate.checkDestroyed();const H=this._delegate.container.getProvider(j);return!H.isInitialized()&&"EXPLICIT"===(null===(J=H.getComponent())||void 0===J?void 0:J.instantiationMode)&&H.initialize(),H.getImmediate({identifier:b})}_removeServiceInstance(j,b=h._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(j).clearInstance(b)}_addComponent(j){(0,h._addComponent)(this._delegate,j)}_addOrOverwriteComponent(j){(0,h._addOrOverwriteComponent)(this._delegate,j)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const he=new d.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),v=function ne(){const Q=function te(Q){const j={},b={__esModule:!0,initializeApp:function U(O,y={}){const _=h.initializeApp(O,y);if((0,d.gR)(j,_.name))return j[_.name];const D=new Q(_,b);return j[_.name]=D,D},app:H,registerVersion:h.registerVersion,setLogLevel:h.setLogLevel,onLog:h.onLog,apps:null,SDK_VERSION:h.SDK_VERSION,INTERNAL:{registerComponent:function ae(O){const y=O.name,_=y.replace("-compat","");if(h._registerComponent(O)&&"PUBLIC"===O.type){const D=(W=H())=>{if("function"!=typeof W[_])throw he.create("invalid-app-argument",{appName:y});return W[_]()};void 0!==O.serviceProps&&(0,d.zw)(D,O.serviceProps),b[_]=D,Q.prototype[_]=function(...W){return this._getService.bind(this,y).apply(this,O.multipleInstances?W:[])}}return"PUBLIC"===O.type?b[_]:null},removeApp:function J(O){delete j[O]},useAsService:function z(O,y){return"serverAuth"===y?null:y},modularAPIs:h}};function H(O){if(!(0,d.gR)(j,O=O||h._DEFAULT_ENTRY_NAME))throw he.create("no-app",{appName:O});return j[O]}return b.default=b,Object.defineProperty(b,"apps",{get:function Y(){return Object.keys(j).map(O=>j[O])}}),H.App=Q,b}(ue);return Q.INTERNAL=Object.assign(Object.assign({},Q.INTERNAL),{createFirebaseNamespace:ne,extendNamespace:function j(b){(0,d.zw)(Q,b)},createSubscribe:d.tD,ErrorFactory:d.FA,deepExtend:d.zw}),Q}(),E=new C.Vy("@firebase/app-compat");if((0,d.Bd)()&&void 0!==self.firebase){E.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Q=self.firebase.SDK_VERSION;Q&&Q.indexOf("LITE")>=0&&E.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const _e=v;!function Z(Q){(0,h.registerVersion)("@firebase/app-compat","0.2.35",Q)}()},8742:(Le,de,T)=>{T.r(de),T.d(de,{FirebaseError:()=>C.g,SDK_VERSION:()=>it,_DEFAULT_ENTRY_NAME:()=>G,_addComponent:()=>Se,_addOrOverwriteComponent:()=>Je,_apps:()=>re,_clearComponents:()=>pe,_components:()=>q,_getProvider:()=>Ee,_isFirebaseApp:()=>Ve,_isFirebaseServerApp:()=>Ke,_registerComponent:()=>Re,_removeServiceInstance:()=>Ae,_serverApps:()=>x,deleteApp:()=>je,getApp:()=>Me,getApps:()=>st,initializeApp:()=>We,initializeServerApp:()=>Te,onLog:()=>ot,registerVersion:()=>Ce,setLogLevel:()=>ze});var d=T(467),A=T(1362),h=T(8041),C=T(1076),ue=T(6749);class Ie{constructor(c){this.container=c}getPlatformInfoString(){return this.container.getProviders().map(l=>{if(function he(R){const c=R.getComponent();return"VERSION"===c?.type}(l)){const o=l.getImmediate();return`${o.library}/${o.version}`}return null}).filter(l=>l).join(" ")}}const te="@firebase/app",ne="0.10.5",v=new h.Vy("@firebase/app"),G="[DEFAULT]",se={[te]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},re=new Map,x=new Map,q=new Map;function Se(R,c){try{R.container.addComponent(c)}catch(l){v.debug(`Component ${c.name} failed to register with FirebaseApp ${R.name}`,l)}}function Je(R,c){R.container.addOrOverwriteComponent(c)}function Re(R){const c=R.name;if(q.has(c))return v.debug(`There were multiple attempts to register component ${c}.`),!1;q.set(c,R);for(const l of re.values())Se(l,R);for(const l of x.values())Se(l,R);return!0}function Ee(R,c){const l=R.container.getProvider("heartbeat").getImmediate({optional:!0});return l&&l.triggerHeartbeat(),R.container.getProvider(c)}function Ae(R,c,l=G){Ee(R,c).clearInstance(l)}function Ve(R){return void 0!==R.options}function Ke(R){return void 0!==R.settings}function pe(){q.clear()}const ce=new C.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ze{constructor(c,l,o){this._isDeleted=!1,this._options=Object.assign({},c),this._config=Object.assign({},l),this._name=l.name,this._automaticDataCollectionEnabled=l.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new A.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(c){this.checkDestroyed(),this._automaticDataCollectionEnabled=c}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(c){this._isDeleted=c}checkDestroyed(){if(this.isDeleted)throw ce.create("app-deleted",{appName:this._name})}}class rt extends Ze{constructor(c,l,o,u){const s=void 0!==l.automaticDataCollectionEnabled&&l.automaticDataCollectionEnabled,p={name:o,automaticDataCollectionEnabled:s};super(void 0!==c.apiKey?c:c.options,p,u),this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},l),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,l.releaseOnDeref=void 0,Ce(te,ne,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(c){this.isDeleted||(this._refCount++,void 0!==c&&this._finalizationRegistry.register(c,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){je(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ce.create("server-app-deleted")}}const it="10.12.2";function We(R,c={}){let l=R;"object"!=typeof c&&(c={name:c});const o=Object.assign({name:G,automaticDataCollectionEnabled:!1},c),u=o.name;if("string"!=typeof u||!u)throw ce.create("bad-app-name",{appName:String(u)});if(l||(l=(0,C.T9)()),!l)throw ce.create("no-options");const s=re.get(u);if(s){if((0,C.bD)(l,s.options)&&(0,C.bD)(o,s.config))return s;throw ce.create("duplicate-app",{appName:u})}const p=new A.h1(u);for(const S of q.values())p.addComponent(S);const g=new Ze(l,o,p);return re.set(u,g),g}function Te(R,c){if((0,C.Bd)())throw ce.create("invalid-server-app-environment");let l;void 0===c.automaticDataCollectionEnabled&&(c.automaticDataCollectionEnabled=!1),l=Ve(R)?R.options:R;const o=Object.assign(Object.assign({},c),l);if(void 0!==o.releaseOnDeref&&delete o.releaseOnDeref,void 0!==c.releaseOnDeref&&typeof FinalizationRegistry>"u")throw ce.create("finalization-registry-not-supported",{});const s=""+(V=JSON.stringify(o),[...V].reduce((K,oe)=>Math.imul(31,K)+oe.charCodeAt(0)|0,0)),p=x.get(s);var V;if(p)return p.incRefCount(c.releaseOnDeref),p;const g=new A.h1(s);for(const V of q.values())g.addComponent(V);const S=new rt(l,c,s,g);return x.set(s,S),S}function Me(R=G){const c=re.get(R);if(!c&&R===G&&(0,C.T9)())return We();if(!c)throw ce.create("no-app",{appName:R});return c}function st(){return Array.from(re.values())}function je(R){return Be.apply(this,arguments)}function Be(){return(Be=(0,d.A)(function*(R){let c=!1;const l=R.name;re.has(l)?(c=!0,re.delete(l)):x.has(l)&&R.decRefCount()<=0&&(x.delete(l),c=!0),c&&(yield Promise.all(R.container.getProviders().map(o=>o.delete())),R.isDeleted=!0)})).apply(this,arguments)}function Ce(R,c,l){var o;let u=null!==(o=se[R])&&void 0!==o?o:R;l&&(u+=`-${l}`);const s=u.match(/\s|\//),p=c.match(/\s|\//);if(s||p){const g=[`Unable to register library "${u}" with version "${c}":`];return s&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),s&&p&&g.push("and"),p&&g.push(`version name "${c}" contains illegal characters (whitespace or "/")`),void v.warn(g.join(" "))}Re(new A.uA(`${u}-version`,()=>({library:u,version:c}),"VERSION"))}function ot(R,c){if(null!==R&&"function"!=typeof R)throw ce.create("invalid-log-argument");(0,h.Ey)(R,c)}function ze(R){(0,h.He)(R)}const $e="firebase-heartbeat-database",De=1,we="firebase-heartbeat-store";let Ge=null;function xe(){return Ge||(Ge=(0,ue.P2)($e,De,{upgrade:(R,c)=>{if(0===c)try{R.createObjectStore(we)}catch(l){console.warn(l)}}}).catch(R=>{throw ce.create("idb-open",{originalErrorMessage:R.message})})),Ge}function qe(){return(qe=(0,d.A)(function*(R){try{const l=(yield xe()).transaction(we),o=yield l.objectStore(we).get(Xe(R));return yield l.done,o}catch(c){if(c instanceof C.g)v.warn(c.message);else{const l=ce.create("idb-get",{originalErrorMessage:c?.message});v.warn(l.message)}}})).apply(this,arguments)}function le(R,c){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,d.A)(function*(R,c){try{const o=(yield xe()).transaction(we,"readwrite");yield o.objectStore(we).put(c,Xe(R)),yield o.done}catch(l){if(l instanceof C.g)v.warn(l.message);else{const o=ce.create("idb-set",{originalErrorMessage:l?.message});v.warn(o.message)}}})).apply(this,arguments)}function Xe(R){return`${R.name}!${R.options.appId}`}class Oe{constructor(c){this.container=c,this._heartbeatsCache=null;const l=this.container.getProvider("app").getImmediate();this._storage=new ut(l),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}triggerHeartbeat(){var c=this;return(0,d.A)(function*(){var l,o;const s=c.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),p=He();if((null!=(null===(l=c._heartbeatsCache)||void 0===l?void 0:l.heartbeats)||(c._heartbeatsCache=yield c._heartbeatsCachePromise,null!=(null===(o=c._heartbeatsCache)||void 0===o?void 0:o.heartbeats)))&&c._heartbeatsCache.lastSentHeartbeatDate!==p&&!c._heartbeatsCache.heartbeats.some(g=>g.date===p))return c._heartbeatsCache.heartbeats.push({date:p,agent:s}),c._heartbeatsCache.heartbeats=c._heartbeatsCache.heartbeats.filter(g=>{const S=new Date(g.date).valueOf();return Date.now()-S<=2592e6}),c._storage.overwrite(c._heartbeatsCache)})()}getHeartbeatsHeader(){var c=this;return(0,d.A)(function*(){var l;if(null===c._heartbeatsCache&&(yield c._heartbeatsCachePromise),null==(null===(l=c._heartbeatsCache)||void 0===l?void 0:l.heartbeats)||0===c._heartbeatsCache.heartbeats.length)return"";const o=He(),{heartbeatsToSend:u,unsentEntries:s}=function at(R,c=1024){const l=[];let o=R.slice();for(const u of R){const s=l.find(p=>p.agent===u.agent);if(s){if(s.dates.push(u.date),et(l)>c){s.dates.pop();break}}else if(l.push({agent:u.agent,dates:[u.date]}),et(l)>c){l.pop();break}o=o.slice(1)}return{heartbeatsToSend:l,unsentEntries:o}}(c._heartbeatsCache.heartbeats),p=(0,C.Uj)(JSON.stringify({version:2,heartbeats:u}));return c._heartbeatsCache.lastSentHeartbeatDate=o,s.length>0?(c._heartbeatsCache.heartbeats=s,yield c._storage.overwrite(c._heartbeatsCache)):(c._heartbeatsCache.heartbeats=[],c._storage.overwrite(c._heartbeatsCache)),p})()}}function He(){return(new Date).toISOString().substring(0,10)}class ut{constructor(c){this.app=c,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.A)(function*(){return!!(0,C.zW)()&&(0,C.eX)().then(()=>!0).catch(()=>!1)})()}read(){var c=this;return(0,d.A)(function*(){if(yield c._canUseIndexedDBPromise){const o=yield function Qe(R){return qe.apply(this,arguments)}(c.app);return o?.heartbeats?o:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(c){var l=this;return(0,d.A)(function*(){var o;if(yield l._canUseIndexedDBPromise){const s=yield l.read();return le(l.app,{lastSentHeartbeatDate:null!==(o=c.lastSentHeartbeatDate)&&void 0!==o?o:s.lastSentHeartbeatDate,heartbeats:c.heartbeats})}})()}add(c){var l=this;return(0,d.A)(function*(){var o;if(yield l._canUseIndexedDBPromise){const s=yield l.read();return le(l.app,{lastSentHeartbeatDate:null!==(o=c.lastSentHeartbeatDate)&&void 0!==o?o:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...c.heartbeats]})}})()}}function et(R){return(0,C.Uj)(JSON.stringify({version:2,heartbeats:R})).length}!function ct(R){Re(new A.uA("platform-logger",c=>new Ie(c),"PRIVATE")),Re(new A.uA("heartbeat",c=>new Oe(c),"PRIVATE")),Ce(te,ne,R),Ce(te,ne,"esm2017"),Ce("fire-js","")}("")},1362:(Le,de,T)=>{T.d(de,{h1:()=>te,uA:()=>h});var d=T(467),A=T(1076);class h{constructor(v,E,w){this.name=v,this.instanceFactory=E,this.type=w,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(v){return this.instantiationMode=v,this}setMultipleInstances(v){return this.multipleInstances=v,this}setServiceProps(v){return this.serviceProps=v,this}setInstanceCreatedCallback(v){return this.onInstanceCreated=v,this}}const C="[DEFAULT]";class ue{constructor(v,E){this.name=v,this.container=E,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(v){const E=this.normalizeInstanceIdentifier(v);if(!this.instancesDeferred.has(E)){const w=new A.cY;if(this.instancesDeferred.set(E,w),this.isInitialized(E)||this.shouldAutoInitialize())try{const F=this.getOrInitializeService({instanceIdentifier:E});F&&w.resolve(F)}catch{}}return this.instancesDeferred.get(E).promise}getImmediate(v){var E;const w=this.normalizeInstanceIdentifier(v?.identifier),F=null!==(E=v?.optional)&&void 0!==E&&E;if(!this.isInitialized(w)&&!this.shouldAutoInitialize()){if(F)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:w})}catch(Z){if(F)return null;throw Z}}getComponent(){return this.component}setComponent(v){if(v.name!==this.name)throw Error(`Mismatching Component ${v.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=v,this.shouldAutoInitialize()){if(function he(ne){return"EAGER"===ne.instantiationMode}(v))try{this.getOrInitializeService({instanceIdentifier:C})}catch{}for(const[E,w]of this.instancesDeferred.entries()){const F=this.normalizeInstanceIdentifier(E);try{const Z=this.getOrInitializeService({instanceIdentifier:F});w.resolve(Z)}catch{}}}}clearInstance(v=C){this.instancesDeferred.delete(v),this.instancesOptions.delete(v),this.instances.delete(v)}delete(){var v=this;return(0,d.A)(function*(){const E=Array.from(v.instances.values());yield Promise.all([...E.filter(w=>"INTERNAL"in w).map(w=>w.INTERNAL.delete()),...E.filter(w=>"_delete"in w).map(w=>w._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(v=C){return this.instances.has(v)}getOptions(v=C){return this.instancesOptions.get(v)||{}}initialize(v={}){const{options:E={}}=v,w=this.normalizeInstanceIdentifier(v.instanceIdentifier);if(this.isInitialized(w))throw Error(`${this.name}(${w}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const F=this.getOrInitializeService({instanceIdentifier:w,options:E});for(const[Z,_e]of this.instancesDeferred.entries())w===this.normalizeInstanceIdentifier(Z)&&_e.resolve(F);return F}onInit(v,E){var w;const F=this.normalizeInstanceIdentifier(E),Z=null!==(w=this.onInitCallbacks.get(F))&&void 0!==w?w:new Set;Z.add(v),this.onInitCallbacks.set(F,Z);const _e=this.instances.get(F);return _e&&v(_e,F),()=>{Z.delete(v)}}invokeOnInitCallbacks(v,E){const w=this.onInitCallbacks.get(E);if(w)for(const F of w)try{F(v,E)}catch{}}getOrInitializeService({instanceIdentifier:v,options:E={}}){let w=this.instances.get(v);if(!w&&this.component&&(w=this.component.instanceFactory(this.container,{instanceIdentifier:(ne=v,ne===C?void 0:ne),options:E}),this.instances.set(v,w),this.instancesOptions.set(v,E),this.invokeOnInitCallbacks(w,v),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,v,w)}catch{}var ne;return w||null}normalizeInstanceIdentifier(v=C){return this.component?this.component.multipleInstances?v:C:v}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class te{constructor(v){this.name=v,this.providers=new Map}addComponent(v){const E=this.getProvider(v.name);if(E.isComponentSet())throw new Error(`Component ${v.name} has already been registered with ${this.name}`);E.setComponent(v)}addOrOverwriteComponent(v){this.getProvider(v.name).isComponentSet()&&this.providers.delete(v.name),this.addComponent(v)}getProvider(v){if(this.providers.has(v))return this.providers.get(v);const E=new ue(v,this);return this.providers.set(v,E),E}getProviders(){return Array.from(this.providers.values())}}},8041:(Le,de,T)=>{T.d(de,{$b:()=>A,Ey:()=>ne,He:()=>te,Vy:()=>he});const d=[];var A=function(v){return v[v.DEBUG=0]="DEBUG",v[v.VERBOSE=1]="VERBOSE",v[v.INFO=2]="INFO",v[v.WARN=3]="WARN",v[v.ERROR=4]="ERROR",v[v.SILENT=5]="SILENT",v}(A||{});const h={debug:A.DEBUG,verbose:A.VERBOSE,info:A.INFO,warn:A.WARN,error:A.ERROR,silent:A.SILENT},C=A.INFO,ue={[A.DEBUG]:"log",[A.VERBOSE]:"log",[A.INFO]:"info",[A.WARN]:"warn",[A.ERROR]:"error"},Ie=(v,E,...w)=>{if(E<v.logLevel)return;const F=(new Date).toISOString(),Z=ue[E];if(!Z)throw new Error(`Attempted to log a message with an invalid logType (value: ${E})`);console[Z](`[${F}]  ${v.name}:`,...w)};class he{constructor(E){this.name=E,this._logLevel=C,this._logHandler=Ie,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(E){if(!(E in A))throw new TypeError(`Invalid value "${E}" assigned to \`logLevel\``);this._logLevel=E}setLogLevel(E){this._logLevel="string"==typeof E?h[E]:E}get logHandler(){return this._logHandler}set logHandler(E){if("function"!=typeof E)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=E}get userLogHandler(){return this._userLogHandler}set userLogHandler(E){this._userLogHandler=E}debug(...E){this._userLogHandler&&this._userLogHandler(this,A.DEBUG,...E),this._logHandler(this,A.DEBUG,...E)}log(...E){this._userLogHandler&&this._userLogHandler(this,A.VERBOSE,...E),this._logHandler(this,A.VERBOSE,...E)}info(...E){this._userLogHandler&&this._userLogHandler(this,A.INFO,...E),this._logHandler(this,A.INFO,...E)}warn(...E){this._userLogHandler&&this._userLogHandler(this,A.WARN,...E),this._logHandler(this,A.WARN,...E)}error(...E){this._userLogHandler&&this._userLogHandler(this,A.ERROR,...E),this._logHandler(this,A.ERROR,...E)}}function te(v){d.forEach(E=>{E.setLogLevel(v)})}function ne(v,E){for(const w of d){let F=null;E&&E.level&&(F=h[E.level]),w.userLogHandler=null===v?null:(Z,_e,...Q)=>{const j=Q.map(b=>{if(null==b)return null;if("string"==typeof b)return b;if("number"==typeof b||"boolean"==typeof b)return b.toString();if(b instanceof Error)return b.message;try{return JSON.stringify(b)}catch{return null}}).filter(b=>b).join(" ");_e>=(F??Z.logLevel)&&v({level:A[_e].toLowerCase(),message:j,args:Q,type:Z.name})}}}},7935:(Le,de,T)=>{T.d(de,{A:()=>d.A});var d=T(3345);d.A.registerVersion("firebase","10.12.2","app-compat")},2438:(Le,de,T)=>{T.r(de);var d=T(467),A=T(3345),h=T(4033),C=T(1076),he=(T(8742),T(8041),T(1362));function te(){return window}function E(){return E=(0,d.A)(function*(o,u,s){var p;const{BuildInfo:g}=te();(0,h.au)(u.sessionId,"AuthEvent did not contain a session ID");const S=yield function b(o){return J.apply(this,arguments)}(u.sessionId),V={};return(0,h.av)()?V.ibi=g.packageName:(0,h.aw)()?V.apn=g.packageName:(0,h.ax)(o,"operation-not-supported-in-this-environment"),g.displayName&&(V.appDisplayName=g.displayName),V.sessionId=S,(0,h.ay)(o,s,u.type,void 0,null!==(p=u.eventId)&&void 0!==p?p:void 0,V)}),E.apply(this,arguments)}function F(){return(F=(0,d.A)(function*(o){const{BuildInfo:u}=te(),s={};(0,h.av)()?s.iosBundleId=u.packageName:(0,h.aw)()?s.androidPackageName=u.packageName:(0,h.ax)(o,"operation-not-supported-in-this-environment"),yield(0,h.az)(o,s)})).apply(this,arguments)}function Q(){return(Q=(0,d.A)(function*(o,u,s){const{cordova:p}=te();let g=()=>{};try{yield new Promise((S,V)=>{let K=null;function oe(){var X;S();const ke=null===(X=p.plugins.browsertab)||void 0===X?void 0:X.close;"function"==typeof ke&&ke(),"function"==typeof s?.close&&s.close()}function B(){K||(K=window.setTimeout(()=>{V((0,h.aB)(o,"redirect-cancelled-by-user"))},2e3))}function ge(){"visible"===document?.visibilityState&&B()}u.addPassiveListener(oe),document.addEventListener("resume",B,!1),(0,h.aw)()&&document.addEventListener("visibilitychange",ge,!1),g=()=>{u.removePassiveListener(oe),document.removeEventListener("resume",B,!1),document.removeEventListener("visibilitychange",ge,!1),K&&window.clearTimeout(K)}})}finally{g()}})).apply(this,arguments)}function J(){return(J=(0,d.A)(function*(o){const u=function H(o){if((0,h.au)(/[0-9a-zA-Z]+/.test(o),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(o);const u=new ArrayBuffer(o.length),s=new Uint8Array(u);for(let p=0;p<o.length;p++)s[p]=o.charCodeAt(p);return s}(o),s=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(s)).map(g=>g.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Y extends h.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInialized(),this.passiveListeners.forEach(s=>s(u)),super.onEvent(u)}initialized(){var u=this;return(0,d.A)(function*(){yield u.initPromise})()}}function O(o){return y.apply(this,arguments)}function y(){return(y=(0,d.A)(function*(o){const u=yield W()._get($(o));return u&&(yield W()._remove($(o))),u})).apply(this,arguments)}function D(){const o=[];for(let s=0;s<20;s++){const p=Math.floor(62*Math.random());o.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(p))}return o.join("")}function W(){return(0,h.aE)(h.b)}function $(o){return(0,h.aF)("authEvent",o.config.apiKey,o.name)}function fe(o){if(!o?.includes("?"))return{};const[u,...s]=o.split("?");return(0,C.I9)(s.join("?"))}const N=class L{constructor(){this._redirectPersistence=h.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=h.aG,this._overrideRedirectResult=h.aH}_initialize(u){var s=this;return(0,d.A)(function*(){const p=u._key();let g=s.eventManagers.get(p);return g||(g=new Y(u),s.eventManagers.set(p,g),s.attachCallbackListeners(u,g)),g})()}_openPopup(u){(0,h.ax)(u,"operation-not-supported-in-this-environment")}_openRedirect(u,s,p,g){var S=this;return(0,d.A)(function*(){!function j(o){var u,s,p,g,S,V,K,oe,B,ge;const X=te();(0,h.aC)("function"==typeof(null===(u=X?.universalLinks)||void 0===u?void 0:u.subscribe),o,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,h.aC)(typeof(null===(s=X?.BuildInfo)||void 0===s?void 0:s.packageName)<"u",o,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,h.aC)("function"==typeof(null===(S=null===(g=null===(p=X?.cordova)||void 0===p?void 0:p.plugins)||void 0===g?void 0:g.browsertab)||void 0===S?void 0:S.openUrl),o,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,h.aC)("function"==typeof(null===(oe=null===(K=null===(V=X?.cordova)||void 0===V?void 0:V.plugins)||void 0===K?void 0:K.browsertab)||void 0===oe?void 0:oe.isAvailable),o,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,h.aC)("function"==typeof(null===(ge=null===(B=X?.cordova)||void 0===B?void 0:B.InAppBrowser)||void 0===ge?void 0:ge.open),o,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const V=yield S._initialize(u);yield V.initialized(),V.resetRedirect(),(0,h.aI)(),yield S._originValidation(u);const K=function ae(o,u,s=null){return{type:u,eventId:s,urlResponse:null,sessionId:D(),postBody:null,tenantId:o.tenantId,error:(0,h.aB)(o,"no-auth-event")}}(u,p,g);yield function z(o,u){return W()._set($(o),u)}(u,K);const oe=yield function v(o,u,s){return E.apply(this,arguments)}(u,K,s),B=yield function Z(o){const{cordova:u}=te();return new Promise(s=>{u.plugins.browsertab.isAvailable(p=>{let g=null;p?u.plugins.browsertab.openUrl(o):g=u.InAppBrowser.open(o,(0,h.aA)()?"_blank":"_system","location=yes"),s(g)})})}(oe);return function _e(o,u,s){return Q.apply(this,arguments)}(u,V,B)})()}_isIframeWebStorageSupported(u,s){throw new Error("Method not implemented.")}_originValidation(u){const s=u._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=function w(o){return F.apply(this,arguments)}(u)),this.originValidationPromises[s]}attachCallbackListeners(u,s){const{universalLinks:p,handleOpenURL:g,BuildInfo:S}=te(),V=setTimeout((0,d.A)(function*(){yield O(u),s.onEvent(G())}),500),K=function(){var ge=(0,d.A)(function*(X){clearTimeout(V);const ke=yield O(u);let It=null;ke&&X?.url&&(It=function _(o,u){var s,p;const g=function ie(o){const u=fe(o),s=u.link?decodeURIComponent(u.link):void 0,p=fe(s).link,g=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return fe(g).link||g||p||s||o}(u);if(g.includes("/__/auth/callback")){const S=fe(g),V=S.firebaseError?function me(o){try{return JSON.parse(o)}catch{return null}}(decodeURIComponent(S.firebaseError)):null,K=null===(p=null===(s=V?.code)||void 0===s?void 0:s.split("auth/"))||void 0===p?void 0:p[1],oe=K?(0,h.aB)(K):null;return oe?{type:o.type,eventId:o.eventId,tenantId:o.tenantId,error:oe,urlResponse:null,sessionId:null,postBody:null}:{type:o.type,eventId:o.eventId,tenantId:o.tenantId,sessionId:o.sessionId,urlResponse:g,postBody:null}}return null}(ke,X.url)),s.onEvent(It||G())});return function(ke){return ge.apply(this,arguments)}}();typeof p<"u"&&"function"==typeof p.subscribe&&p.subscribe(null,K);const oe=g,B=`${S.packageName.toLowerCase()}://`;te().handleOpenURL=function(){var ge=(0,d.A)(function*(X){if(X.toLowerCase().startsWith(B)&&K({url:X}),"function"==typeof oe)try{oe(X)}catch(ke){console.error(ke)}});return function(X){return ge.apply(this,arguments)}}()}};function G(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,h.aB)("no-auth-event")}}function Se(){var o;return(null===(o=self?.location)||void 0===o?void 0:o.protocol)||null}function Re(o=(0,C.ZQ)()){return!("file:"!==Se()&&"ionic:"!==Se()&&"capacitor:"!==Se()||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function pe(){try{const o=self.localStorage,u=h.aN();if(o)return o.setItem(u,"1"),o.removeItem(u),!function Ke(o=(0,C.ZQ)()){return function Ae(){return(0,C.lT)()&&11===document?.documentMode}()||function Ve(o=(0,C.ZQ)()){return/Edge\/\d+/.test(o)}(o)}()||(0,C.zW)()}catch{return ye()&&(0,C.zW)()}return!1}function ye(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ce(){return(function Je(){return"http:"===Se()||"https:"===Se()}()||(0,C.sr)()||Re())&&!function Ee(){return(0,C.lV)()||(0,C.Ll)()}()&&pe()&&!ye()}function Ze(){return Re()&&typeof document<"u"}function it(){return(it=(0,d.A)(function*(){return!!Ze()&&new Promise(o=>{const u=setTimeout(()=>{o(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),o(!0)})})})).apply(this,arguments)}const Te={LOCAL:"local",NONE:"none",SESSION:"session"},Me=h.aC,st="persistence";function Be(o){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,d.A)(function*(o){yield o._initializationPromise;const u=ze(),s=h.aF(st,o.config.apiKey,o.name);u&&u.setItem(s,o._getPersistence())})).apply(this,arguments)}function ze(){var o;try{return(null===(o=function We(){return typeof window<"u"?window:null}())||void 0===o?void 0:o.sessionStorage)||null}catch{return null}}const $e=h.aC;class De{constructor(){this.browserResolver=h.aE(h.k),this.cordovaResolver=h.aE(N),this.underlyingResolver=null,this._redirectPersistence=h.a,this._completeRedirectFn=h.aG,this._overrideRedirectResult=h.aH}_initialize(u){var s=this;return(0,d.A)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,s,p,g){var S=this;return(0,d.A)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openPopup(u,s,p,g)})()}_openRedirect(u,s,p,g){var S=this;return(0,d.A)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openRedirect(u,s,p,g)})()}_isIframeWebStorageSupported(u,s){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,s)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return Ze()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $e(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,d.A)(function*(){if(u.underlyingResolver)return;const s=yield function rt(){return it.apply(this,arguments)}();u.underlyingResolver=s?u.cordovaResolver:u.browserResolver})()}}function we(o){return o.unwrap()}function xe(o){return qe(o)}function qe(o){const{_tokenResponse:u}=o instanceof C.g?o.customData:o;if(!u)return null;if(!(o instanceof C.g)&&"temporaryProof"in u&&"phoneNumber"in u)return h.P.credentialFromResult(o);const s=u.providerId;if(!s||s===h.p.PASSWORD)return null;let p;switch(s){case h.p.GOOGLE:p=h.X;break;case h.p.FACEBOOK:p=h.W;break;case h.p.GITHUB:p=h.Y;break;case h.p.TWITTER:p=h.$;break;default:const{oauthIdToken:g,oauthAccessToken:S,oauthTokenSecret:V,pendingToken:K,nonce:oe}=u;return S||V||g||K?K?s.startsWith("saml.")?h.aQ._create(s,K):h.N._fromParams({providerId:s,signInMethod:s,pendingToken:K,idToken:g,accessToken:S}):new h.Z(s).credential({idToken:g,accessToken:S,rawNonce:oe}):null}return o instanceof C.g?p.credentialFromError(o):p.credentialFromResult(o)}function le(o,u){return u.catch(s=>{throw s instanceof C.g&&function Qe(o,u){var s;const p=null===(s=u.customData)||void 0===s?void 0:s._tokenResponse;if("auth/multi-factor-auth-required"===u?.code)u.resolver=new pt(o,h.as(o,u));else if(p){const g=qe(u),S=u;g&&(S.credential=g,S.tenantId=p.tenantId||void 0,S.email=p.email||void 0,S.phoneNumber=p.phoneNumber||void 0)}}(o,s),s}).then(s=>{const g=s.user;return{operationType:s.operationType,credential:xe(s),additionalUserInfo:h.aq(s),user:Pe.getOrCreate(g)}})}function Ue(o,u){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,d.A)(function*(o,u){const s=yield u;return{verificationId:s.verificationId,confirm:p=>le(o,s.confirm(p))}})).apply(this,arguments)}class pt{constructor(u,s){this.resolver=s,this.auth=function Ge(o){return o.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return le(we(this.auth),this.resolver.resolveSignIn(u))}}class Pe{constructor(u){this._delegate=u,this.multiFactor=h.at(u)}static getOrCreate(u){return Pe.USER_MAP.has(u)||Pe.USER_MAP.set(u,new Pe(u)),Pe.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var s=this;return(0,d.A)(function*(){return le(s.auth,h.a2(s._delegate,u))})()}linkWithPhoneNumber(u,s){var p=this;return(0,d.A)(function*(){return Ue(p.auth,h.l(p._delegate,u,s))})()}linkWithPopup(u){var s=this;return(0,d.A)(function*(){return le(s.auth,h.d(s._delegate,u,De))})()}linkWithRedirect(u){var s=this;return(0,d.A)(function*(){return yield Be(h.aJ(s.auth)),h.g(s._delegate,u,De)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var s=this;return(0,d.A)(function*(){return le(s.auth,h.a3(s._delegate,u))})()}reauthenticateWithPhoneNumber(u,s){return Ue(this.auth,h.r(this._delegate,u,s))}reauthenticateWithPopup(u){return le(this.auth,h.e(this._delegate,u,De))}reauthenticateWithRedirect(u){var s=this;return(0,d.A)(function*(){return yield Be(h.aJ(s.auth)),h.h(s._delegate,u,De)})()}sendEmailVerification(u){return h.ag(this._delegate,u)}unlink(u){var s=this;return(0,d.A)(function*(){return yield h.ap(s._delegate,u),s})()}updateEmail(u){return h.al(this._delegate,u)}updatePassword(u){return h.am(this._delegate,u)}updatePhoneNumber(u){return h.u(this._delegate,u)}updateProfile(u){return h.ak(this._delegate,u)}verifyBeforeUpdateEmail(u,s){return h.ah(this._delegate,u,s)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Pe.USER_MAP=new WeakMap;const Oe=h.aC;let He=(()=>{class o{constructor(s,p){if(this.app=s,p.isInitialized())return this._delegate=p.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:g}=s.options;Oe(g,"invalid-api-key",{appName:s.name}),Oe(g,"invalid-api-key",{appName:s.name});const S=typeof window<"u"?De:void 0;this._delegate=p.initialize({options:{persistence:ut(g,s.name),popupRedirectResolver:S}}),this._delegate._updateErrorMap(h.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Pe.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(s){this._delegate.languageCode=s}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(s){this._delegate.tenantId=s}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(s,p){h.K(this._delegate,s,p)}applyActionCode(s){return h.a7(this._delegate,s)}checkActionCode(s){return h.a8(this._delegate,s)}confirmPasswordReset(s,p){return h.a6(this._delegate,s,p)}createUserWithEmailAndPassword(s,p){var g=this;return(0,d.A)(function*(){return le(g._delegate,h.aa(g._delegate,s,p))})()}fetchProvidersForEmail(s){return this.fetchSignInMethodsForEmail(s)}fetchSignInMethodsForEmail(s){return h.af(this._delegate,s)}isSignInWithEmailLink(s){return h.ad(this._delegate,s)}getRedirectResult(){var s=this;return(0,d.A)(function*(){Oe(ce(),s._delegate,"operation-not-supported-in-this-environment");const p=yield h.j(s._delegate,De);return p?le(s._delegate,Promise.resolve(p)):{credential:null,user:null}})()}addFrameworkForLogging(s){!function se(o,u){(0,h.aJ)(o)._logFramework(u)}(this._delegate,s)}onAuthStateChanged(s,p,g){const{next:S,error:V,complete:K}=at(s,p,g);return this._delegate.onAuthStateChanged(S,V,K)}onIdTokenChanged(s,p,g){const{next:S,error:V,complete:K}=at(s,p,g);return this._delegate.onIdTokenChanged(S,V,K)}sendSignInLinkToEmail(s,p){return h.ac(this._delegate,s,p)}sendPasswordResetEmail(s,p){return h.a5(this._delegate,s,p||void 0)}setPersistence(s){var p=this;return(0,d.A)(function*(){let g;switch(function je(o,u){Me(Object.values(Te).includes(u),o,"invalid-persistence-type"),(0,C.lV)()?Me(u!==Te.SESSION,o,"unsupported-persistence-type"):(0,C.Ll)()?Me(u===Te.NONE,o,"unsupported-persistence-type"):ye()?Me(u===Te.NONE||u===Te.LOCAL&&(0,C.zW)(),o,"unsupported-persistence-type"):Me(u===Te.NONE||pe(),o,"unsupported-persistence-type")}(p._delegate,s),s){case Te.SESSION:g=h.a;break;case Te.LOCAL:g=(yield h.aE(h.i)._isAvailable())?h.i:h.b;break;case Te.NONE:g=h.U;break;default:return h.ax("argument-error",{appName:p._delegate.name})}return p._delegate.setPersistence(g)})()}signInAndRetrieveDataWithCredential(s){return this.signInWithCredential(s)}signInAnonymously(){return le(this._delegate,h.a0(this._delegate))}signInWithCredential(s){return le(this._delegate,h.a1(this._delegate,s))}signInWithCustomToken(s){return le(this._delegate,h.a4(this._delegate,s))}signInWithEmailAndPassword(s,p){return le(this._delegate,h.ab(this._delegate,s,p))}signInWithEmailLink(s,p){return le(this._delegate,h.ae(this._delegate,s,p))}signInWithPhoneNumber(s,p){return Ue(this._delegate,h.s(this._delegate,s,p))}signInWithPopup(s){var p=this;return(0,d.A)(function*(){return Oe(ce(),p._delegate,"operation-not-supported-in-this-environment"),le(p._delegate,h.c(p._delegate,s,De))})()}signInWithRedirect(s){var p=this;return(0,d.A)(function*(){return Oe(ce(),p._delegate,"operation-not-supported-in-this-environment"),yield Be(p._delegate),h.f(p._delegate,s,De)})()}updateCurrentUser(s){return this._delegate.updateCurrentUser(s)}verifyPasswordResetCode(s){return h.a9(this._delegate,s)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return o.Persistence=Te,o})();function at(o,u,s){let p=o;"function"!=typeof o&&({next:p,error:u,complete:s}=o);const g=p;return{next:V=>g(V&&Pe.getOrCreate(V)),error:u,complete:s}}function ut(o,u){const s=function ot(o,u){const s=ze();if(!s)return[];const p=h.aF(st,o,u);switch(s.getItem(p)){case Te.NONE:return[h.U];case Te.LOCAL:return[h.i,h.a];case Te.SESSION:return[h.a];default:return[]}}(o,u);if(typeof self<"u"&&!s.includes(h.i)&&s.push(h.i),typeof window<"u")for(const p of[h.b,h.a])s.includes(p)||s.push(p);return s.includes(h.U)||s.push(h.U),s}class et{constructor(){this.providerId="phone",this._delegate=new h.P(we(A.A.auth()))}static credential(u,s){return h.P.credential(u,s)}verifyPhoneNumber(u,s){return this._delegate.verifyPhoneNumber(u,s)}unwrap(){return this._delegate}}et.PHONE_SIGN_IN_METHOD=h.P.PHONE_SIGN_IN_METHOD,et.PROVIDER_ID=h.P.PROVIDER_ID;const ct=h.aC;class R{constructor(u,s,p=A.A.app()){var g;ct(null===(g=p.options)||void 0===g?void 0:g.apiKey,"invalid-api-key",{appName:p.name}),this._delegate=new h.R(p.auth(),u,s),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function l(o){o.INTERNAL.registerComponent(new he.uA("auth-compat",u=>{const s=u.getProvider("app-compat").getImmediate(),p=u.getProvider("auth");return new He(s,p)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:h.A.EMAIL_SIGNIN,PASSWORD_RESET:h.A.PASSWORD_RESET,RECOVER_EMAIL:h.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:h.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:h.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:h.A.VERIFY_EMAIL}},EmailAuthProvider:h.V,FacebookAuthProvider:h.W,GithubAuthProvider:h.Y,GoogleAuthProvider:h.X,OAuthProvider:h.Z,SAMLAuthProvider:h._,PhoneAuthProvider:et,PhoneMultiFactorGenerator:h.m,RecaptchaVerifier:R,TwitterAuthProvider:h.$,Auth:He,AuthCredential:h.L,Error:C.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),o.registerVersion("@firebase/auth-compat","0.5.9")}(A.A)},6749:(Le,de,T)=>{T.d(de,{MR:()=>U,P2:()=>H});var d=T(467);const A=(y,_)=>_.some(D=>y instanceof D);let h,C;const he=new WeakMap,te=new WeakMap,ne=new WeakMap,v=new WeakMap,E=new WeakMap;let Z={get(y,_,D){if(y instanceof IDBTransaction){if("done"===_)return te.get(y);if("objectStoreNames"===_)return y.objectStoreNames||ne.get(y);if("store"===_)return D.objectStoreNames[1]?void 0:D.objectStore(D.objectStoreNames[0])}return b(y[_])},set:(y,_,D)=>(y[_]=D,!0),has:(y,_)=>y instanceof IDBTransaction&&("done"===_||"store"===_)||_ in y};function j(y){return"function"==typeof y?function Q(y){return y!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ie(){return C||(C=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(y)?function(..._){return y.apply(J(this),_),b(he.get(this))}:function(..._){return b(y.apply(J(this),_))}:function(_,...D){const W=y.call(J(this),_,...D);return ne.set(W,_.sort?_.sort():[_]),b(W)}}(y):(y instanceof IDBTransaction&&function F(y){if(te.has(y))return;const _=new Promise((D,W)=>{const $=()=>{y.removeEventListener("complete",me),y.removeEventListener("error",ie),y.removeEventListener("abort",ie)},me=()=>{D(),$()},ie=()=>{W(y.error||new DOMException("AbortError","AbortError")),$()};y.addEventListener("complete",me),y.addEventListener("error",ie),y.addEventListener("abort",ie)});te.set(y,_)}(y),A(y,function ue(){return h||(h=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(y,Z):y)}function b(y){if(y instanceof IDBRequest)return function w(y){const _=new Promise((D,W)=>{const $=()=>{y.removeEventListener("success",me),y.removeEventListener("error",ie)},me=()=>{D(b(y.result)),$()},ie=()=>{W(y.error),$()};y.addEventListener("success",me),y.addEventListener("error",ie)});return _.then(D=>{D instanceof IDBCursor&&he.set(D,y)}).catch(()=>{}),E.set(_,y),_}(y);if(v.has(y))return v.get(y);const _=j(y);return _!==y&&(v.set(y,_),E.set(_,y)),_}const J=y=>E.get(y);function H(y,_,{blocked:D,upgrade:W,blocking:$,terminated:me}={}){const ie=indexedDB.open(y,_),fe=b(ie);return W&&ie.addEventListener("upgradeneeded",k=>{W(b(ie.result),k.oldVersion,k.newVersion,b(ie.transaction),k)}),D&&ie.addEventListener("blocked",k=>D(k.oldVersion,k.newVersion,k)),fe.then(k=>{me&&k.addEventListener("close",()=>me()),$&&k.addEventListener("versionchange",L=>$(L.oldVersion,L.newVersion,L))}).catch(()=>{}),fe}function U(y,{blocked:_}={}){const D=indexedDB.deleteDatabase(y);return _&&D.addEventListener("blocked",W=>_(W.oldVersion,W)),b(D).then(()=>{})}const Y=["get","getKey","getAll","getAllKeys","count"],ae=["put","add","delete","clear"],z=new Map;function O(y,_){if(!(y instanceof IDBDatabase)||_ in y||"string"!=typeof _)return;if(z.get(_))return z.get(_);const D=_.replace(/FromIndex$/,""),W=_!==D,$=ae.includes(D);if(!(D in(W?IDBIndex:IDBObjectStore).prototype)||!$&&!Y.includes(D))return;const me=function(){var ie=(0,d.A)(function*(fe,...k){const L=this.transaction(fe,$?"readwrite":"readonly");let N=L.store;return W&&(N=N.index(k.shift())),(yield Promise.all([N[D](...k),$&&L.done]))[0]});return function(k){return ie.apply(this,arguments)}}();return z.set(_,me),me}!function _e(y){Z=y(Z)}(y=>({...y,get:(_,D,W)=>O(_,D)||y.get(_,D,W),has:(_,D)=>!!O(_,D)||y.has(_,D)}))}}]);